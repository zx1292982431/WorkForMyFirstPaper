{教育部高等理工教育教学改革与实践项目研究成果}
屈婉玲耿素云张立昂
{离散娄学学及其应用
屈婉玲耿素云张立昂
{内容提要}
本书主要内容包括数理逻辑、集合论、图论、组合数学和代数结构简介五部分,可适用课程少学时的教学要求。为了帮助读者更好地掌握离散数学的有关概念和方法,本书针对重要的知识点设计了线上参考资源,包括测试题、解答与分析,读者可通过扫描二维码下载。
本书可作为普通高等学校计算机、人工智能等相关专业离散数学课程教材,约需60学时,也可供科技人员阅读参考。
{图书在版编目（CIP)数据}
离散数学及其应用/屈婉玲,耿素云,张立昂编著.-2版.--北京:高等教育出版社,2018.12
III.(1)离散数学-高等学校-教材IV.(1)0158
中国版本图书馆CIP数据核字(2018)第139651号
策划编辑张海波
责任校对刘娟娟责任编辑张海波
责任印制韩刚封面设计于文燕版式设计马敬茹
本书如有缺页、倒页、脱页等质量问题,请到所购图书销售部门联系调换
版权所有侵权必究
{本书配套的数字资源使用方法如下:}
注册并登录,进人“我的课程”。
输人教材封底防伪标签上的数字课程账号(20位密码,刮开涂层可见),或通过Abook应用扫描封底数字课程账号二维码,完成课程绑定。
单击“进人课程”按钮,开始本数字课程的学习。
课程绑定后一年为数字课程使用有效期。受硬件限制,部分内容无法在手机端显示,请按提示通过计算机访问学习。
{第2版前言}
本书面向计算机应用人才的培养目标,是教育部高等教育教学改革和实践项目的研究成果。离散数学是研究离散结构及其性质的学科,广泛应用于实际问题的建模与分析,对培养计算思维起着重要的作用,是计算机科学与技术、人工智能等相关专业的核心课程之一。
本次修订保持了原教材的框架和素材,仅对文字进行了修改,更正了某些疏漏之处,并增加了少量应用实例。为了帮助读者更好地掌握离散数学的有关概念和方法,本书针对重要的知识点设计了线上参考资源,包括100多道测试题与解答,并对典型的解题方法做了进一步的总结与拓广。读者可通过扫描二维码下载相关的线上资源，以便学习时参考。
本书主要内容包括数理逻辑、集合论、图论、组合数学和代数结构简介五部分,适用于$60\sim80$学时的教学要求,教师可根据自己的教学计划对内容进行取舍与调整。与本书配套的有电子教案和《离散数学学习指导与习题解析(第2版)》(见书后习题对照表)。
本书的第一章至第五章,第九章至第十一章由耿素云、张立昂完成,第六章至第八章、第十二章至第十四章由屈婉玲完成。欢迎广大读者批评指正!
作者
{第1版前言}
本书在面向21世纪课程教材《离散数学》(屈婉玲、耿素云、张立昂编著,高等教育出版社;以下简称“原教材”)的基础上,依据教育部高等学校计算机科学与技术教学指导委员会编制的《高等学校计算机科学与技术专业规范》和《高等学校计算机科学与技术专业核心课程教学实施方案》编写而成。相对于计算机应用人才的培养目标,原教材的教学内容偏多、偏深,学时较多。针对计算机应用型人才的教学要求,对原教材内容进行了一定的调整和改写,主要变动如下。
选材更为精练,主要包括基本知识、基本理论、基本方法及基本应用方面的内容。去掉了初等数论,删减了原教材中一阶逻辑的形式系统和推理、集合论中关于自然数和基数的部分理论、组合数学中的高级计数,重新组织了图论中关于某些特殊图的内容。而对于代数系统部分,则去掉了大部分定理及证明,只保留了相关概念的简要介绍。在改编时保留了大量的应用实例,并根据相关教学内容调整了习题。
在安排上考虑到知识单元之间的关系和教学的方便,调整了先后顺序,把数理逻辑、集合论、图论放在前面,组合数学放在后面,而代数系统作为可选知识单元放在最后。
在写作上既注意以易于理解的方式引入新的概念,也注意概念和知识体系的严谨,把相关理论、方法和应用有机结合起来。
本书主要面向计算机应用专业,教师可以根据自已的教学计划对相关内容进行取舍,完成全部内容的教学需要一个学期,约$60\sim80$学时。对于从事计算机科学技术研究和开发的工程技术人员,本书也可以作为学习离散数学的入门参考书。
与本书配套的还有电子教案和《离散数学学习指导与习题解析》,为使用本书的教师和学生提供参考。本书的出版得到高等教育出版社的大力支持,许多使用原教材的教师给我们提出了很好的建议,对此我们表示衷心的感谢！本书的第一章至第五章、第九章至第十一章由耿素云和张立昂完成,第六章至第八章、第十二章至第十四章由屈婉玲完成。由于水平所限,书中难免存在疏漏和不足之处,忩请读者指正。
作
{目录}
{第一部分数理逻辑}
第五朝-阶還辑等值演算
{第二部分集合论}
{第三部分图论}
{第四部分组合数学}
第十二章基本的组合计数公式$\cdots\cdots\cdots211$
{第五部分代数系统简介}
第十四章代数系统简介
{第一部分数理逻辑}
{第一章
命题逻辑的基本概念}
{$1.1$命题与联结词}
数理逻辑是研究形式推理的数学分支,形式推理由一系列的陈述句组成.例如,因为$3>2$,所以$3\neq2$.在这里“$3>2$”和“$3\neq2$”是两个陈述句,整个“因为$3>2$,所以$3\neq2$”也是一个陈述句.这3个陈述句都成立,即为真.这种非真即假的陈述句称为命题.
作为命题的陈述句所表达的判断结果称为命题的真值,真值只取两个值:真或假.真值为真的命题称为真命题,真值为假的命题称为假命题.真命题表达的判断正确,假命题表达的判断错误.任何命题的真值都是唯一的.
命题“因为$3>2$,所以$3\neq2$”由两个更简单的命题“$3>2$”和“$3\neq2$”组成.“$3>2$”和“$3\neq2$”不能再分解成更简单的命题了.这种不能被分解成更简单的命题称为筒单命题或原子命题.在命题逻辑中,简单命题是最小的基本单位,对它不再细分.但在各种论述和推理中,所出现的命题多数不是简单命题,如上面的“因为$3>2$,所以$3\neq2$”.由简单命题通过联结词联结而成的命题,称为复合命题.
判断给定句子是否为命题,应该分两步:首先判定它是否为陈述句,其次判断它是否有唯一的真值.
例$1.1$判断下列句子是否为命题.
(3)$x$大于$y$,其中$x$和$y$是任意的两个数.
(4)火星上有水.
(5)2050年元旦是晴天.
(7)请不要吸烟!
(8)这朵花真美丽啊!
(9)我正在说假话.
解本题的9个句子中,(6)是疑问句,(7)是祈使句,(8)是感叹句,因而这3个句子都不是命题.剩下的6个句子都是陈述句,但(3)与(9)不是命题.(3)的真值不确定,根据$x$和$y$的不同取值情况它可真可假,即无唯一的真值,因而不是命题.(9)特别有意思,若(9)为真,即“我正在说假话”是真的,则我正在说真话,因而$(9)$的真值应为假,矛盾;反之,若(9)为假,即“我正在说假话”是假的,则我正在说假话,因而(9)的真值应为真,同样也矛盾.因而(9)既不能为真、也不能为假,故它也不是命题.像(9)这样既不能为真、也不能为假的陈述句称为悖论.悖论不是命题.
本例中,(1),(2),(4),(5)是命题.(1)为假命题,(2)为真命题.虽然至今还不知道火星上是否有水,但火星上是否有水是客观存在的,并且要么是有,要么是没有,只是现在人类还不知道而已.也就是说,(4)的真值是客观存在的,而且是唯一的,因此它是命题.根据同样的道理,(5)也是命题.作为命题,是否知道它的真值是不重要的,重要的是它有唯一的真值.
在本书中,用小写英文字母表示命题,用“1”表示真,用“0”表示假,于是命题的真值为0或1.这里用$p,q,r,s$分别表示例$1.1$中(1),(2),(4),(5)的命题.
$p:4$是素数.
$r:$火星上有水.
$s:2050$年元旦是晴天.
它们称为这些命题的符号化.其中$p$的真值为$0,q$的真值为$1,r$和$s$的真值现在还不知道.这4个命题都是简单命题.
例$1.2$先将下面各陈述句中出现的原子命题符号化,并指出它们的真值,然后再写出这些陈述.
(1)$\sqrt{2}$是有理数是不对的.
(2)2是偶素数.
(3)2或4是素数.
(4)如果2是素数,则3也是素数.
(5)2是素数当且仅当3是素数.解在(1)中“$\sqrt{2}$是有理数”是原子命题;(2)(5)中各有两个原子命题,分别是“2是素数”和“2是偶数”,“2是素数”和“4是素数”,“2是素数”和“3是素数”以及“2是素数”和“3是素数”.共有5个原子命题,将它们分别符号化为
$q:2$是素数.
$r:2$是偶数.
$s:3$是素数.
$t:4$是素数.
$p,t$的真值为0,其余的真值为1.将原子命题的符号代人,上述各陈述句可表示成:
这5个命题都是复合命题.不妨称上述表述方式为半形式化的,这种半形式化的表述形式不能令人满意.数理逻辑研究方法的主要特征是将论述或推理中的各种要素都符号化,即构造各种符号语言来代替自然语言,完全由符号所构成的语言称为形式语言.为了达到这个目的,就要求进一步抽象化,即将联结词也符号
化.在例$1.2$中出现的联结词有5个:“非”“并且”“或”“如果$\cdots\cdots$则$\cdots\cdots$”“当且仅当”,这些联结词是自然语言中常用的联结词.但自然语言中出现的联结词有的具有二义性,因而在数理逻辑中必须给出联结词的严格定义,并且将它们符号化.
定义$1.1$设$p$为命题,复合命题“非$p$”(或“$p$的否定”)称为$p$的否定式,记作$\negp$.符号$\neg$称作否定联结词.规定$\negp$为真当且仅当$p$为假.
由定义可知,$\negp$的逻辑关系为$p$不成立,因而当$p$为真时,$\negp$为假;反之当$p$为假时,$\negp$为真.
在例$1.2$中,“非$p$”可符号化为$\negp$.由于$p$的真值为0,所以$\negp$的真值为1.
定义$1.2$设$p,q$为两个命题,复合命题“$p$并且$q$”(或“$p$与$q$”)称为$p$与$q$的合取式,记作$p\wedgeq$.$\wedge$称作合取联结词.规定$p\wedgeq$为真当且仅当$p$与$q$同时为真.
由定义可知,$p\wedgeq$的逻辑关系为$p$与$q$同时成立,因而只有当$p$与$q$同时为真时,$p\wedgeq$才为真,其他情况下$p\wedgeq$均为假.
在例$1.2$中,“$q$并且$r$”符号化为$q\wedger$.由于$q$与$r$的真值全为1,所以$q\wedger$的真值为1.
使用联结词$\wedge$需要注意两点:其一是$\wedge$的灵活性.自然语言中的“既$\cdots\cdots$又$\cdots\cdots\cdots$不但$\cdots\cdots$而且$\cdots\cdots\cdots$虽然$\cdots\cdots$但是$\cdots\cdots\cdots$一面$\cdots\cdots$面$\cdots\cdots$”等都表示两件事情同时成立,因而都可以符号化为$\Lambda$.其二,不要见到“与”“和”就使用联结词$\wedge$,见下面的例子.
例$1.3$将下列命题符号化.
(1)吴颖既用功又聪明.
(2)吴颖不仅用功而且聪明.
(3)吴颖虽然聪明,但不用功.
(4)张辉与王丽都是三好生.(5)张辉与王丽是同学.
知识占,合取式:解先给出(1)到(4)中的原子命题,并将其符号化.
$p$:吴颖用功.
$q$:吴颖聪明.
$r:$张辉是三好生.
$s:$王丽是三好生.
(1)到(4)都是复合命题,它们使用的联结词表面看来各不相同,但都是合取的意思,分别符号化为$p\wedgeq,p\wedgeq,q\wedge\negp,r\wedges$.
在(5)中,虽然也使用了“与”,但这个“与”是联结该句主语中的两个人的,而整个句子仍是简单陈述句,所以(5)是原子命题,符号化为$t$:张辉与王丽是同学.
定义$1.3$设$p,q$为两个命题,复合命题“$p$或$q$”称作$p$与$q$的析取式,记作$p\veeq.\vee$称作析取联结词.规定$p\veeq$为假当且仅当$p$与$q$同时为假.
由定义可知,当$p$与$q$中有一个为真时,$p\veeq$为真.只有当$p$与$q$同时为假时,$p\veeq$才为假.
在例$1.2$中,“$q$或$t$”符号化为$q\veet$.由于$q$为真,所以$q\veet$为真.
以上定义的析取联结词V与自然语言中的“或”不完全一样.自然语言中的“或”具有二义性,用它有时具有相容性(即它联结的两个命题可以同时为真),有时具有排斥性(即只有当一个为真、另一个为假时才为真),对应地分别称为相容或和排斥或.
例$1.4$将下列命题符号化.
(1)张晓静爱唱歌或爱听音乐.
（2）张晓静只能挑选202或203房间.
(3)张晓静是江西人或安徽人.
解先给出原子命题,并将其符号化,然后再将整个(复合)命题符号化.
(1)$p$:张晓静爱唱歌.
$q$:张晓静爱听音乐.
显然这个“或”为相容或.当$p$与$q$中有一个为真,包括两个都为真时,这个命题为真.符号化为$p\veeq$.
(2)$r$:张晓静挑选202房间.
$s:$张晓静挑选203房间.
由题意可知,这个“或”应为排斥或.$r,s$的取值有4种可能:同真,同假,一真一假(2种).如果符号化为$r\bigvees$,则当$r$和$s$都为真时为真,这意味着张晓静可以同时挑选202和203两个房间,这不符合原意.原意是张晓静只能挑选202和203中的一间.如何达到只能挑选一个房间的要求呢?可以使用多个联结词,符号化为$(r\wedge\negs)\vee(\negr\wedges)$.不难验证,此复合命题为真当且仅当$r,s$中一个为真,另一个为假.它准确地表达了原意.当$r$为真、$s$为假时,张晓静挑选202房间,当$r$为假、$s$为真时,张晓静挑选203房间,其他情况都是不允许的.
(3)$t$:张晓静是江西人.
$u:$张晓静是安徽人.
这个“或”也应为排斥或.和上面一样,可以形式化为$(t\wedge\negu)\vee(\negt\wedgeu)$.但是,在这里张晓静不可能既是江西人又是安徽人,即$t$与$u$实际上不能同时为真,因而也可以符号化为$t\veeu$.
定义$1.4$设$p,q$为两个命题,复合命题“如果$p$,则$q$”称为$p$与$q$的晅涵式,
记作$p\rightarrowq$,并称$p$为蕴涵式的前件,$q$为蕴涵式的后件.→称作晅涵联结词.并规定$p\rightarrowq$为假当且仅当$p$为真$q$为假.
$p\rightarrowq$的逻辑关系为$q$是$p$的必要条件.
在例$1.2$中,“如果$q$,则$s$”应符号化为$q\rightarrows$.由于$q$与$s$的真值均为1,所以$q\rightarrows$的真值也为$1.$
在使用联结词$\rightarrow$时,要特别注意以下几点.
在自然语言里,特别是在数学中,$q$是$p$的必要条件有许多不同的叙述方式.例如,“只要$p$,就$q$”“因为$p$,所以$q$”“$p$仅当$q$”“只有$q$才$p$”“除非$q$才$p$”“除非$q$,否则非$p$”等.以上各种叙述方式表面看来有所不同,但都表示$q$是$p$的必要条件,因而都应使用$\rightarrow$,符号化为$p\rightarrowq$.
作为推理“如果$p$,则$q$”的形式化,当$p$为真、$q$为真时,$p\rightarrowq$显然为真;当$p$为真、$q$为假时,$p\rightarrowq$显然为假.问题是:当$p$为假时,为什么规定无论$q$是真是假,$p\rightarrowq$均为真呢?其实这符合人们平时惯用的思维方式,譬如,说“如果太阳从西边出来,我就不姓张.”实际上,不管“我”是否姓张,这句话都是对的,因为太阳不可能从西边出来.也就是说,前件“太阳从西边出来”为假,不论后件“我不姓张”是真是假,这句话都是对的.
在自然语言中,“如果$p$,则$q$”中的前件$p$与后件$q$往往具有某种内在联系.而数理逻辑是研究抽象的形式推理,$p$与$q$可以无任何内在联系.譬如,“因为$2<3$,所以$1+1=2$.”在通常的意义下是不对的,或者认为它是毫无意义的.但在数理逻辑中,设$p:2<3,q:1+1=2$,这句话可形式化为$p\rightarrowq$.而且因为$p$和$q$都为真,故$p\rightarrowq$为真.由此可见,$p\rightarrowq$为真仅表示$p$与$q$的取值关系(当$p$为真时,$q$必为真;当$q$为假时,$p$必为假),而和$p$与$q$是否有内在联系无关.
例$1.5$将下列命题符号化,并指出它们的真值.
(1)如果$3+3=6$,则雪是白色的.
(2)如果$3+3\neq6$,则雪是白色的.
(3)如果$3+3=6$,则雪不是白色的.
(4)如果$3+3\neq6$,则雪不是白色的.
(5)只要$a$能被4整除,则$a$一定能被2整除.
(6)$a$能被4整除,仅当$a$能被2整除.
(7)除非$a$能被2整除,$a$才能被4整除.
(8)除非$a$能被2整除,否则$a$不能被4整除.
（9）只有$a$能被2整除,$a$才能被4整除.
(10)只有$a$能被4整除,$a$才能被2整除.其中$a$是一个给定的正整数.解令$p:3+3=6,p$的真值为1.
$q$:雪是白色的,$q$的真值也为1.
(1)到(4)的符号化形式分别为$p\rightarrowq,\negp\rightarrowq,p\rightarrow\negq,\negp\rightarrow\negq.$这4个复合命题的真值分别为$1,1,0,1$.这4个蕴涵式的前件与后件没有什么内在联系.
令$r:a$能被4整除.
$s:a$能被2整除.
仔细分析可知,(5)到(9)叙述的都是$a$能被2整除是$a$能被4整除的必要条件,因而都符号化为$r\rightarrows$.由于$a$是给定的正整数,因而$r$与$s$的真值是客观存在的,但是真是假与$a$的值有关,现在并不知道.可是$r$与$s$是有内在联系的,当$r$为真($a$能被4整除)时,$s$必为真($a$能被2整除),于是$r\rightarrows$不会出现前件真、后件假的情况,因而$r\rightarrows$的真值为1.
知识点:萓漏式:而(10)叙述的是,$a$能被4整除是$a$能被2整除的必要条件,因而应符号化为$s\rightarrowr$,它的真值与$a$的值有关.例如,当$a=8$时为真,当$a=6$时为假.而通常认为(10)是错的,这再一次提醒我们要正确地理解命题逻辑中的联结词,不能简单地与自然语言中的联结词等同起来.如何正确地表示通常所理解的(10),将在第四章一阶逻辑中介绍.
定义$1.5$设$p,q$为两个命题,复合命题“$p$当且仅当$q$”称作$p$与$q$的等价式,记作$p\leftrightarrowq,\leftrightarrow$称作等价联拈词.规定$p\leftrightarrowq$为真当且仅当$p$与$q$同时为真或同时为假.
$p\leftrightarrowq$的逻辑关系为$p$与$q$互为充分必要条件.
例$1.6$将下列命题符号化,并讨论它们的真值.
(1)$\sqrt{3}$是无理数当且仅当加拿大位于亚洲.
(2)$2+3=5$的充要条件是$\sqrt{3}$是无理数.
(3)若两圆$O_{1},O_{2}$的面积相等,则它们的半径相等;反之亦然.
（4）当王小红心情愉快时,她就唱歌;反之,当她唱歌时,一定心情愉快.
解令$p:\sqrt{3}$是无理数,真值为1.
$q$:加拿大位于亚洲,真值为0.
(3)可符号化为$s\leftrightarrowt$.虽然不知道$s,t$的真值,但知道当$O_{1},O_{2}$的面积相等时,$O_{1},O_{2}$的半径也相等;当$O_{1},O_{2}$的面积不相等时,$O_{1},O_{2}$的半径也不相等.即:当$s$为真时,$t$也为真;当$s$为假时,$t$也为假.故$s\leftrightarrowt$的真值为1.
知识点:等价式
令$u:$王小红心情愉快.
$v$:王小红唱歌.
(4)可符号化为$u\leftrightarrowv$,其真值可能为真,也可能为假,要由具体情况而定,这里不再详述.
以上定义了5个最基本、最常用,也是最重要的联结词,它们组成一个联结词集
$\neg,\wedge,\vee,\rightarrow,\leftrightarrow\}$.其中า为一元联结词,其余的4个是二元联结词.现将它们汇总如表$1.1$所示.
使用多个联结词可以组成更复杂的复合命题,此外还可以使用圆括号（和）,(和)必须成对出现.求这种复杂的复合命题的真值时,除依据表$1.1$外,还要规定联结词的优先顺序.将圆括号计算在内,规定优先顺序为$(）,\neg,\wedge,\vee,\rightarrow,\leftrightarrow$;对同一优先级,按照从左到右顺序进行.
例$1.7$令$p$:北京比天津人口多.
$r$:乌鸦是白色的.
求下列复合命题的真值.
解$p,q,r$的真值分别为$1,1,0$,容易算出$(1),(2),(3)$的真值分别为$1,1,0$.
{$1.2$命题公式及其赋值}
上节讨论的是简单命题(原子命题)和复合命题以及它们的符号化形式.简单命题是命题逻辑中最基本的研究单位,其真值是确定的,又称作命题常项或命题常元.命题常项相当于初等数学中的常数,非0即1.初等数学中还有变量,对应地,这里有命题变项.取值1(真)或0(假)的变元称作命题变项或命题变元.可以用命题变项表示真值可以变化的陈述句.命题变项不是命题，命题变项与命题常项的关系如同初等数学中变量与常量的关系.今后也用$p,q,r$等表示命题变项.这样一来,$p,q,r$等既可以表示命题常项,又可以表示命题变项,通常可以由上下文确定.将命题变项用联结词和圆括号按一定的逻辑关系联结起来的符号串称为合式公式.当使用联结词集$\{\neg,\wedge,\vee,\rightarrow,\leftrightarrow\}$时,合式公式定义如下.
定义$1.6$(1)单个命题变项是合式公式,并称为原子命题公式.
(2)若$A$是合式公式,则$(\negA)$是合式公式.
(4)有限次地应用$(1)\sim(3)$形成的符号串是合式公式.合式公式也称为命题公式,简称为公式.
设$A$为合式公式,$B$为$A$中一部分,若$B$也是合式公式,则称$B$为$A$的子公式.
对于定义$1.6$,要做以下说明.
定义$1.6$给出的合式公式的定义方式称为归纳定义或递归定义方式,下文中还将多次出现这种定义方式.
定义中的$A,B$等符号表示任意的合式公式,可以把它们替换成任意的具体公式.
为方便起见,$(\negA),(A\wedgeB)$等公式单独出现时,外层括号可以省去,写成$\negA,A\wedgeB$等.另外,公式中不影响运算次序的括号也可以省去,如公式$(p\veeq)\vee(\negr)$可以写成$p\veeq\vee\negr$.
在公式中也可以出现0和1,此时把它们看作$p\wedge\negp$和$p\vee\negp$的缩写.同样,当公式中出现$p\wedge\negp$和$p\vee\negp$时,也常把它们写成0和1.
下面给出公式层次的定义.
定义$1.7$(1)若公式$A$是单个的命题变项,则称$A$为0层公式.
(2)称$A$为$n+1(n\geqslant0)$层公式,是指下面情况之一:
(3)若公式$A$的层次为$k$,则称$A$是$k$层公式.
在命题公式中,由于有命题变项出现,因而真值是不确定的.用命题常项替换公式中的命题变项称作解释.当将公式中出现的全部命题变项都解释成具体的命题常项之后,公式就成为真值确定的命题.例如,在公式$(p\veeq)\rightarrowr$中,若将$p$解释成:2是素数,$q$解释成:3是偶数,$r$解释成:$\sqrt{2}$是无理数,则公式$(p\veeq)\rightarrowr$解释成:若2是素数或3是偶数,则$\sqrt{2}$是无理数.这是一个真命题.若$p,q$的解释不变,$r$解释为:$\sqrt{2}$是有理数,则$(p\veeq)\rightarrowr$解释成:若2是素数或3是偶数,则$\sqrt{2}$是有理数.这是一个假命题.还可以给出这个公式各种不同的解释,其结果不是得到真命题就是得到假命题.其实,将一个命题变项解释成真命题,相当于指定这个命题变项的真值为1;解释成假命题,相当于指定这个命题变项的真值为0.
定义$1.8$设$p_{1},p_{2},\cdots,p_{n}$是出现在公式$A$中的全部命题变项,给$p_{1},p_{2},\cdots,p_{n}$各指定一个真值,称为对$A$的一个拭值或解释.若指定的一组值使$A$为1,则称这组值为$A$的成真赋值;若使$A$为0,则称这组值为$A$的成假赋值.
在本书中,对含$n$个命题变项的公式$A$的赋值采用下述记法.
不难看出,含$n(n\geqslant1)$个命题变项的公式共有$2^{n}$个不同的赋值.
定义$1.9$将命题公式$A$在所有赋值下取值情况列成表,称作$A$的真值表.
构造真值表的具体步骤如下.
(1)找出公式中所含的全体命题变项$p_{1},p_{2},\cdots,p_{n}$(若无下标就按字母顺序排列),列出$2^{n}$个赋值.赋值从$00\cdots0$开始,然后按二进制加法每次加1,依次写出每个赋值,直到$11\cdots1$为止.
(2)按从低到高的顺序写出公式的各个层次.
(3)对应各个赋值计算出各层次的真值,直到最后计算出公式的真值.
如果两个公式$A$与$B$的真值表对所有赋值最后一列都相同,即最后结果都相同,则称这两个真值表相同,而不考虑构造真值表的中间过程.
例$1.8$写出下列公式的真值表,并求它们的成真赋值和成假赋值.
解公式(1)是含有3个命题变项的3层合式公式.它的真值表如表$1.2$所示.
从表$1.2$可知公式(1)的成假赋值为011,其余7个赋值都是成真赋值.
公式(2)是含有两个命题变项的3层合式公式,它的真值表如表$1.3$所示.从表$1.3$看到,该公式的4个赋值全是成真赋值,即无成假赋值.
公式(3)是含有3个命题变项的4层合式公式,它的真值表如表$1.4$所示.该公式的8个赋值全是成假赋值,无成真赋值.
知识点:命题公式赋值
测试题$1.11$表1.2表$1.4$都是按构造真值表的步骤一步一步地构造出来的,这样构造真值表不易出错.如果构造的思路比较清楚,有些层次可以省略.
根据公式在各种赋值下的取值情况,可按下述定义将命题公式进行分类.
定义$\mathbf{1.10}$设$A$为任一命题公式.
(1)若$A$在它的所有赋值下取值均为真,则称$A$是重言式或永真式.
(2)若$A$在它的所有赋值下取值均为假,则称$A$是矛盾式或永假式.
$A$是可满足式的等价定义是:$A$至少存在一个成真赋值.
重言式一定是可满足式,但反之不真.若公式$A$是可满足式,且它至少存在一个成假赋值,
(3)若$A$不是矛盾式,则称$A$是可满足式.
从定义$1.10$不难看出以下几点.则称$A$为非重言式的可满足式.
真值表可用来判断公式的类型.（1）若真值表最后一列全为1,则公式为重言式.
(2)若真值表最后一列全为0,则公式为矛盾式.
(3)若真值表最后一列中至少有一个1,则公式为可满足式.
从以上的讨论可知,真值表不但能准确地给出公式的成真赋值和成假赋值,而且能判断公式的类型.
给定$n$个命题变项,按合式公式的形成规则,可以形成无穷多个不同的公式.现在要问:这些公式的真值表是否也有无穷个?答案是否定的.$n$个命题变项共产生$2^{n}$个不同的赋值,而任何公式在每种赋值下只能取两个值:0或1,于是含$n$个命题变项的公式的真值表只有$2^{2n}$种不同的情况,因而必有无穷多个公式具有相同的真值表.
例$1.9$下列各公式均含两个命题变项$p$与$q$,它们中哪些具有相同的真值表?
解构造过程略去不写,表$1.5$给出了这5个公式的真值表.从表中可看出,(1)与(3)具有相同的真值表,(2)与(4)具有相同的真值表.
表$1.55$个公式的真值表
设公式$A$中含有命题变项$p_{1},p_{2},\cdots,p_{n}$中的一部分,而不是全部.此时仍可以把$A$看成命题变项$p_{1},p_{2},\cdots,p_{n}$上的公式,并称$p_{1},p_{2},\cdots,p_{n}$中没有在$A$中出现的命题变项为$A$的哑元.$A$的取值与哑元无关.设公式$A$和$B$中含有命题变项$p_{1},p_{2},\cdots,p_{n}$,但$A$或者$B$可能只含有其中的一部分,而不是全部.在讨论$A$与$B$是否有相同的真值表时,可将$A$和$B$统一看成含$p_{1}$,$p_{2},\cdots,p_{n}$的命题公式,其中某些命题变项是$A$或$B$的哑元.
例$1.10$下列公式中,哪些具有相同的真值表?
解本例中给出的4个公式,总共有3个命题变项$p,q$和$r,r$是公式(1)的哑元,$p$是公式(2)的哑元,讨论它们是否有相同的真值表时,均按3个命题变项写出它们的真值表.表$1.6$列出4个公式的真值表,中间过程省略了.从表中看出,(1)与(3)有相同的真值表,(2)与(4)有相同的真值表.
表$1.64$个公式的真值表
下列句子中,哪些是命题?在是命题的句子中,哪些是简单命题,哪些是真命题,哪些命题的真值现在还不知道?
(1)古代中国有四大发明.
(3)3是素数或4是素数.
(5)你去图书馆圪?
（6）2与3都是偶数.
(7)刘红与魏新是同学.
(8)这朵玫瑰花多美丽呀!
（9）吸烟请到吸烟室去!
(10)圆的面积等于半径的平方乘以$\pi$.
（11）只有6是偶数,3才能是2的倍数.
(12)8是偶数的充分必要条件是8能被3整除.
(13)2025年元旦下大雪.
将颕中是简单命题的命题符号化.
写出下列各命题的否定式,并将原命题及其否定式都符号化,最后指出各否定式的真值.(1)$\sqrt{5}$是有理数.
将下列命题符号化,并指出各命题的真值.
(1)2与5都是素数.
（2）不但$\pi$是无理数,而且自然对数的底$\mathrm{e}$也是无理数.
（3）虽然2是最小的素数,但2不是最小的自然数.
(4)3是偶素数.
（5）4既不是萦数,也不是偶数.
将下列命题符号化,并指出其真值.
(1)2或3是偶数.
(2)2或4是偶数.
(3)3或5是偶数.
(4)3不是偶数或4不是偶数.
(5)3不是素数或4不是偶数.
将下列命题符号化.
（1）小丽只能从筀里拿一个苹果或一个梨.
(2)这学期,刘晓月只能选学英语或日语中的一门外语课.
设$p$:王冬生于1971年,$q$:王冬生于1972年,说明命题“王冬生于1971年或1972年”既可以符号化为"$(p\wedge\negq)\vee(\negp\wedgeq)$",又可以符号化为“$p\veeq$"的理由.
将下列命题符号化,并指出各命题的真值.
设$p$:俄罗斯位于南半球,$q$:亚洲人口最多.将下面命题用自然语言表述,并指出各命题的真值.
设$p:9$是3的倍数,$q$:英国与土耳其相邻.将下面命题用自然语言表述，并指出各命题的真值.
将下夗命题符号化,并给出各命题的真值.
(1)若$2+2=4$,则地球是静止不动的.
(2)若$2+2=4$,则地球是运动不止的.
（3）若地球上没有树木,则人类不能生存.
(4)若地球上没有水,则$\sqrt{3}$是无理数.
将下列命题符号化,并给出各命题的真值.
将下列命题符号化,并讨论各命题的真值.
（1）若今天是星期一,则明天是星期二.
（2）只有今天是星期一,明天才是星期二.
（3）今天是星期一当且仅当明天是星期二.
(4)若今天是星期一,则明天是星期三.
将下列命题符号化.
（1）刘晓月跑得快,跳得高.
（2）老王是山东人或河北人.
（3）因为天气冷,所以我穿了羽线服.
(4)王欢与李乐组成一个小组.
(5)李辛与李末是兄氕弟.
(6)王强与刘威都学过法语.
(7)他一面吃饭,一面听音乐.
(8)如果天下大雨,他就乘班车上筀.
（9）只有天下大雨,他才乘班车上班.
(10)除非天下大雨,否则他不乘班车上班.
（11)下雪路滑,他迟到了.
(12)2与4都是素数,这是不对的.
(13)"2或4是素数,这是不对的”是不对的.
$q$:大熊猫产在中国.
$r$:太阳从西方升起.
求下列复合命题的真值.
当$p,q$的真值为$0,r,s$的真值为1时,求下列各命题公式的真值.
判断下面一段论述是否为真:"$\pi$是无理数.并且,如果3是无理数,则$\sqrt{2}$也是无理数.另外,只有6能被2整除,6才能被4整除."
说明在什么情况下,下面一段论述是真的:“说小王不会唱歌或小李不会跳舞是正确的,而说如果小王会唱歌,小李就会跳舞是不正确的."
用真值表判断下列公式的类型.
求下列公式的成真斌值.
求下列公式的成假濈值.
证明:$A\wedgeB$是重言式当且仅当$A$与$B$都是重言式.
已知$A\wedgeB$是矛盾式,能得出$A$与$B$都是矛盾式的结论吗?为什么?
证明:$A\veeB$为矛盾式当且仅当$A$与$B$都是矛盾式.
已知$A\veeB$是重言式,能得出$A$与$B$都是重言式的结论吗?
{第一章}
{命题逻辑等值演算}
设公式$A,B$共同含有$n$个命题变项,$A$或$B$中可能有哑元.若$A$与$B$有相同的真值表,则说明在所有$2^{n}$个赋值下,$A$与$B$的真值都相同,因而等价式$A\leftrightarrowB$为重言式.
定义$2.1$设$A,B$是两个命题公式,若$A,B$构成的等价式$A\leftrightarrowB$为重言式,则称$A$与$B$是等值的,记作$A\LeftrightarrowB$.
$A$与$B$等值的另一个等价的定义是它们在所有的赋值下的真值都相同.注意:定义中的符号$\Leftrightarrow$不是联结符,它是用来说明$A$与$B$等值$(A\leftrightarrowB$是重言式)的一种记法,不要将$\Leftrightarrow$与混为一谈,同时也要注意它与一般等号$=$的区别.
下面讨论判断两个公式$A$与$B$是否等值的方法,其中最直接的方法是用真值表法判断$A\leftrightarrowB$是否为重言式.
例$2.1$判断下面两个公式是否等值.
其实,在用真值表法判断$A\leftrightarrowB$是否为重言式时,真值表的最后一列(即$A\leftrightarrowB$的真值表的最后结果)可以省略.若$A$与$B$的真值表相同,即它们在所有赋值下的真值都相同,则$A\LeftrightarrowB$,否则$A$$\LeftrightarrowB$(表示$A$与$B$不等值).
例$2.2$判断下列各组公式是否等值.
表$2.23$个公式的真值表
虽然用真值表法可以判断任何两个命题公式是否等值,但当命题变项较多时,工作量是很大的.证明公式等值的另一个方法是利用已知的等值式通过代换得到新的等值式.例如,用真值表很容易验证$p\leftrightarrow\neg\negp$是重言式.如果用任意一个命题公式替换式子中的$p$,如用$p\wedgeq$替换$p$得到$p\wedgeq\leftrightarrow\neg\neg(p\wedgeq)$,所得到的新式子也是重言式.事实上,有下述命题:
设$A$是一个命题公式,含有命题变项$p_{1},p_{2},\cdots,p_{n}$,又设$A_{1},A_{2},\cdots,A_{n}$是任意的命题公式.对每一个$i(i=1,2,\cdots,n)$,把$p_{i}$在$A$中的所有出现都替换成$A_{i}$,所得到的新命题公式记作$B$.那么,如果$A$是重言式,则$B$也是重言式.
这是显然的.事实上,对任意的赋值,把在这个赋值下$A_{1},A_{2},\cdots,A_{n}$的真值代人$A$中的命题变项$p_{1},p_{2},\cdots,p_{n}$,与把这个真值赋值直接代人$B$是一回事.如果$A$是重言式,$A$必为$1,B$也必为1.从而,$B$也是重言式.
根据这个命题和$p\leftrightarrow\neg\negp$是重言式,得到$A\Leftrightarrow\neg\negA$,其中$A$是任意的命题公式,称这个式子为等值式模式.下面给出16组常用的重要等值式模式,以它们为基础进行演算,可以证明公式等值.
双重否定律
共等律
交换律
结合律
分配律
德摩根律
吸收律
零律
同一律
排中律
予盾律
蕴涵等值式
等价等值式
等价否定等值式
归谬论
以上16组等值式模式共包含了24个重要等值式,等值式模式中的$A,B,C$可以替换成任意的公式,每个等值式模式都可以给出无穷多个同类型的具体的等值式.例如,在蕴涵等值式(2.12)中,取$A=p,B=q$时,得到等值式
这些具体的等值式称为等值式模式的代入实例.
由已知的等值式推演出另外一些等值式的过程称为等值演算.等值演算是布尔代数或逻辑代数的重要组成部分.
在等值演算过程中,要使用下述重要规则.
这也是显然的,因为如果$A\LeftrightarrowB$,那么在任意赋值下$A$和$B$的真值相同,把它们代人$\Phi(\cdot)$得到的结果当然也相同,从而$\Phi(A)\Leftrightarrow\Phi(B)$.
这里使用了置换规则.如果再次使用蕴涵等值式及置换规则,又会得到
再使用德摩根律及置换规则,又会得到
再使用分配律及置换规则,又会得到
将以上过程连在一起,得到
公式之间的等值关系具有自反性、对称性和传递性,所以上述演算中得到的5个公式彼此之间都是等值的.在演算的每一步都用到了置换规则,因而在以后的演算中,置换规则均不必写出.
下面用实例说明等值演算的用途.
例$2.3$用等值演算法验证等值式
证可以从左边开始演算,也可以从右边开始演算.现在从右边开始演算.
所以,原等值式成立.读者亦可从左边开始演算验证之.
例$2.3$说明,用等值演算法可以验证两个公式等值.但一般情况下,不能用等值演算法直接验证两个公式不等值.
例$2.4$证明:
证方法一:真值表法.在表$2.2$中已给出它们的真值表.
方法二:观察法.只要给出一个赋值使得这两个命题公式的真值不同,就表明它们不等值.容易看出,010是$(p\rightarrowq)\rightarrowr$的成假赋值,是$p\rightarrow(q\rightarrowr)$的成真赋值,两式不等值得证.
方法三:当两个式子比较复杂,一时看不出使它们一个成真、另一个成假的赋值时,可以先通过等值演算将它们化成容易观察真值的情况,再进行判断.
(德摩根律)
(蕴涵等值式)
(结合律)
容易观察到,000,010是$A$的成假赋值,$B$的成真赋值.
例$2.5$用等值演算法判断下列公式的类型.\\
解在以下的演算中没有写出所用的基本等值式,请读者自己填上.
最后结果说明(1)是重言式.
最后结果说明(2)是矛盾式.
最后结果说明(3)不是重言式,00,01是成假赋值;也不是矛盾式,10,11是成真赋值.
等值演算中各步得出的等值式所含命题变项可能不一样多,如(3)中最后一步不含$q$,此时将$q$看成它的哑元,考虑赋值时应将哑元也算在内,因而赋值的长度为2.这样,可将(3)中各步的公式都看成含命题变项$p,q$的公式,在写真值表时已经讨论过类似的问题.
下面举一个利用等值演算解决实际问题的例子.
例2.6在某次研讨会的中间休息时间,3名与会者根据王教授的口音对他是哪个省市的人判断如下.
甲:王教授不是苏州人,是上海人.
乙:王教授不是上海人,是苏州人.丙:王教授既不是上海人,也不是杭州人.
听完这3人的判断后,王教授笑着说,你们3人中有一人说得全对,有一人说对了一半,另一人说得全不对.试用等值演算分析王教授到底是哪里人.
解设命题
$p$:王教授是苏州人.
$q$:王教授是上海人.
$r$:王教授是杭州人.
$p,q,r$中必有一个真命题,两个假命题,要通过等值演算将真命题找出来.
于是,
甲的判断全对为
甲的判断对一半为
甲的判断全错为
乙的判断全对为
乙的判断对一半为
乙的判断全错为
丙的判断全对为
丙的判断对一半为
丙的判断全错为
由王教授所说
为真命题.而
类似可得
知识点:等值演算
于是,由同一律可知
但因为王教授不能既是苏州人,又是杭州人,因而$p,r$必有一个假命题,即$p\wedger\Leftrightarrow0$.于是
为真命题,因而必有$p,r$为假命题,$q$为真命题,即王教授是上海人.甲说得全对,丙说对了一半,而乙全说错了.
{$2.2$析取范式与合取范式}
本节给出命题公式的两种规范表示方法,这种规范的表达式能表达真值表所提供的一切信息.
定义$2.2$命题变项及其否定统称作文字.仅由有限个文字构成的析取式称作简单析取式.仅由有限个文字构成的合取式称作简单合取式.
$\negp,q,p\wedge\negp,p\wedge\negq$和$p\wedgeq\wedge\negr,\negp\wedgep\wedgeq$都是简单合取式,分别由一个文字,、两个文字和3个文字构成.注意,一个文字既是简单析取式,又是简单合取式.
设$A$是含$n$个文字的简单析取式,若$A$中既含某个命题变项$p_{j}$,又含它的否定式$\negp_{j}$,由交换律、排中律和零律可知,$A$为重言式.反之,若$A$为重言式,则它必同时含某个命题变项及它的否定式.否则,若将$A$中不带否定符的命题变项都取0值,带否定符的命题变项都取1值,此赋值为$A$的成假赋值,从而$A$不是重言式.类似地,设$A$是含$n$个命题变项的简单合取式,若$A$中既含某个命题变项$p_{j}$,又含它的否定式$\negp_{j}$,则$A$为矛盾式.反之,若$A$为矛盾式,则$A$中必同时含某个命题变项及它的否定式.于是,得到下面的定理.
定理$2.1$(1)一个简单析取式是重言式当且仅当它同时含某个命题变项及它的否定式.
(2)一个简单合取式是矛盾式当且仅当它同时含某个命题变项及它的否定式.
定义$2.3$由有限个简单合取式的析取构成的命题公式称为析取范式.由有限个简单析取式的合取构成的命题公式称为合取范式.析取范式与合取范式统称为范式.析取范式的一般形式为$A_{1}\veeA_{2}\vee\cdots\veeA_{s}$,其中$A_{i}(i=1,2,\cdots,s)$为简单合取式;合取范式的一般形式为$B_{1}\wedgeB_{2}\wedge\cdots\wedgeB_{t}$,其中$B_{j}(j=1,2,\cdots,t)$为简单析取式.例如,$(p\wedge\negq)\vee(\negq\wedge\negr)\veep$为析取范式,$(p\veeq\veer)\wedge(\negp\vee\negq)\wedger\wedge(\negp\vee\negr\vees)$为合取范式.$\negp\wedgeq\wedger$既是由一个简单合取式构成的析取范式,又是由3个简单析取式构成的合取范式;类似地,$p\vee\negq\veer$既是由3个简单合取式构成的析取范式,又是由一个简单析取式构成的合取范式.
析取范式和合取范式具有下述性质.
定理$2.2$(1)一个析取范式是矛盾式当且仅当它的每个简单合取式都是矛盾式.
(2)一个合取范式是重言式当且仅当它的每个简单析取式都是重言式.
到现在为止,我们研究的命题公式中含有5个联结词$\{\Lambda,\vee,\neg,\rightarrow,\leftrightarrow\}$,如何把这样的命题公式化成等值的析取范式和合取范式?
首先,可以利用晅涵等值式与等价等值式
其次,在范式中不出现如下形式:
对其使用双重否定律和德摩根律,可得
再次,在析取范式中不出现如下形式:
在合取范式中不出现如下形式:
对其使用分配律,可得
由上述3步,可将任一公式化成与之等值的析取范式和合取范式.于是,得到下述定理.
定理$2.3$(范式存在定理)任一命题公式都存在与之等值的析取范式与合取范式.求给定公式范式的步骤如下.
用双重否定律消去双重否定符,用德摩根律内移否定符.
使用分配律:求析取范式时使用$\wedge$对$\vee$的分配律,求合取范式时使用$\vee$对$\wedge$的分配律.
例$2.7$求下面公式的析取范式与合取范式.
解为了清晰无误,利用交换律使每个简单析取式和简单合取式中命题变项都按字典顺序出现.
(1)先求合取范式.
(消去→)
(否定符内移)
这是含3个简单析取式的合取范式.
(2)求析取范式.
求析取范式与求合取范式的前两步是相同的,只是在使用分配律时有所不同,因而前4步与(1)相同,接着使用$\wedge$对$\vee$的分配律.
最后两步的结果都是析取范式.一般地,命题公式的析取范式是不唯一的.同样,合取范式也是不唯一的.为了使命题公式的范式唯一,进一步将简单合取式和简单析取式规范化,定义如下.
定义$2.4$设有$n$个命题变项,若简单合取式(简单析取式)中每个命题变项和它的否定式恰好出现一个且仅出现一次,而且命题变项或它的否定式按下标从小到大或按字典顺序排列,称这样的简单合取式(简单析取式)为极小项(极大项).
由于每个命题变项在极小项中以原形或否定形式出现且仅出现一次,因而$n$个命题变项共可产生$2^{n}$个不同的极小项.每个极小项都有且仅有一个成真赋值.若极小项的成真.赋值所对应的二进制数等于十进制数$i$,就将这个极小项记作$m_{i}$.类似地,$n$个命题变项共可产生$2^{n}$个不同的极大项,每个极大项只有一个成假赋值,将其对应的十进制数$i$做极大项的下标,记作$M_{i}$.
表$2.3$和表$2.4$分别列出含$p,q$与$p,q,r$的全部极小项和极大项.表$2.3$含$p,q$的极小项与极大项
表$2.4$含$p,q,r$的极小项与极大项
根据表$2.3$和表$2.4$可以直接验证极小项与极大项之间有下述关系.
定义$2.5$所有简单合取式(简单析取式)都是极小项(极大项)的析取范式(合取范式)称为主析取范式(主合取范式).
下面讨论如何求出与给定公式等值的主析取范式和主合取范式.首先证明它的存在性和唯一性,再给出它的求法.
定理$2.5$任何命题公式都存在与之等值的主析取范式和主合取范式,并且是唯一的.
证这里只证主析取范式的存在性和唯一性.
首先证明存在性.设$A$是任一含$n$个命题变项的公式.由定理$2.3$可知,存在与$A$等值的析取范式$A^{\prime}$,即$A\LeftrightarrowA^{\prime}$.若$A^{\prime}$的某个简单合取式$A_{i}$中既不含命题变项$p_{j}$,也不含它的否定式$\negp_{j}$,则将$A_{i}$展开成如下等值的形式:
继续这个过程,直到所有的简单合取式都含有所有的命题变项或它们的否定式.若在演算过程中出现重复出现的命题变项以及极小项和矛盾式,就应“消去”:如用$p$代替$p\wedgep,m_{i}$代替$m_{i}\veem_{i},0$代替矛盾式等.最后就将$A$化成与之等值的主析取范式$A^{\prime\prime}$.
下面再证明唯一性.假设命题公式$A$等值于两个不同的主析取范式$B$和$C$,那么必有$B\LeftrightarrowC$.由于$B$和$C$是不同的主析取范式,不妨设极小项$m_{i}$只出现在$B$中而不出现在$C$中.于是,下标$i$的二进制表示为$B$的成真赋值,而为$C$的成假赋值,这与$B\LeftrightarrowC$矛盾.
主合取范式的存在唯一性可类似证明.
在证明定理$2.5$的过程中,已经给出了求主析取范式的步骤.为了醒目和便于记忆,求出某公式的主析取范式(主合取范式)后,将极小项(极大项)都用名称写出,并且按极小项(极大项)名称的下标由小到大顺序排列.
例$2.8$求例$2.7$中公式的主析取范式和主合取范式.
解(1)求主析取范式.
在例$2.7$中已给出公式的析取范式,即
在此析取范式中,第一项$p\wedge\negq\wedge\negr$是极小项$m_{4}$,另外两个简单合取式$\negp\wedger,q\wedger$都不是极小项.下面先分别求出它们派生的极小项.注意,因为公式含有3个命题变项,所以极小项均由3个文字组成.
于是
(2)求主合取范式.
由例$2.7$已求出公式的合取范式,
其中$\negp\veeq\vee\negr$已是极大项$M_{5}$.利用矛盾律和同一律将另两个简单析取式化成极大项.
于是
例$2.9$求命题公式$p\rightarrowq$的主析取范式与主合取范式.
解本公式中含两个命题变项,所以极小项和极大项均含两个文字.
(主析取范式)
由例$2.8$与$2.9$可知,在求给定公式的主析取范式(主合取范式)时,一定要根据公式中命题变项的个数决定极小项(极大项)中文字的个数.
下面讨论主析取范式的用途(主合取范式可类似讨论).主析取范式像真值表一样,可以表达公式以及公式之间关系的一切信息.
求公式的成真与成假赋值.
若公式$A$中含$n$个命题变项,$A$的主析取范式含$s\left(0\leqslants\leqslant2^{n}\right)$个极小项,则$A$有$s$个成真赋值,它们是所含极小项下标的二进制表示,其余$2^{n}-s$个赋值都是成假赋值.例如，例$2.8$中,$(p\rightarrowq)\leftrightarrowr\Leftrightarrowm_{1}\veem_{3}\veem_{4}\veem_{7}$.这里有3个命题变项,将主析取范式中各极小项的下标$1,3,4$,7写成长为3的二进制数,分别为$001,011,100,111$.这4个赋值即为该公式的成真赋值.而主析取范式中末出现的极小项$m_{0},m_{2},m_{5},m_{6}$的下标的二进制表示$000,010,101,110$为该公式的成假赋值.又如例$2.9$中,$p\rightarrowq\Leftrightarrowm_{0}\veem_{1}\veem_{3}$,含两个命题变项,极小项的下标的二进制表示$00,01,11$为该公式的成真赋值,而10是它的成假赋值.
判断公式的类型.
设公式$A$中含$n$个命题变项,容易看出:
(1)$A$为重言式当且仅当$A$的主析取范式含全部$2^{n}$个极小项.
(2)$A$为矛盾式当且仅当$A$的主析取范式不含任何极小项.此时,记$A$的主析取范式为0.
(3)$A$为可满足式当且仅当$A$的主析取范式中至少含一个极小项.例$2.10$用公式的主析取范式判断下述公式的类型.\\
解注意,(1),(2)中公式含两个命题变项,极小项含两个文字,而(3)中公式含3个命题变项,因而极小项中应含3个文字.\\
这说明该公式是矛盾式.\\
由于主析取范式含两个命题变项的全部$2^{2}=4$个极小项,故该公式为重言式.
其实,这个演算在第一步就已知该公式等值于1,因而它为重言式.如果要写出它的主析取范式,由1可直接写出全部极小项:
该公式是可满足的,但不是重言式,因为它的主析取范式没含全部8个极小项.
判断两个命题公式是否等值.
例$2.11$判断下面两组公式是否等值.
解(1)这里有两个命题变项,因而极小项含两个文字.
所以
(2)这里有3个命题变项,因而极小项含3个文字.经过演算得到
两者的主析取范式不同,所以
最后举一个应用主析取范式分析和解决实际问题的例子.
例$2.12$某科研所要从3名科研骨干$A,B,C$中挑选$1\sim2$名出国进修.由于工作需要,选派时要满足条件:
(2)若$B$去,则$C$不能去.
（3）若$C$不去,则$A$或$B$可以去.
问:所里有哪些选派方案?
解设$p$:派$A$去
由已知条件可得公式
该公式的成真赋值即为可行的选派方案.经过演算得到
故有3种选派方案:(a)$C$去,$A,B$都不去.
例$2.13$二进制半加器和二进制全加器.
二进制半加器和二进制全加器是计算机中运算器的部件,实现二进制位的相加.二进制半加器有两个输人$x$和$y$,两个输出$h$和$d$,其中$x$和$y$是被加数,$h$是半和,$d$是半进位.半加器没有考虑上一位的进位,输出的不是最终的结果.$h,d$与$x,y$的关系如表$2.5$所示.二进制全加器有3个输人$x,y$和$c^{\prime},2$个输出$s$和$c$,其中$x$和$y$是被加数,$c^{\prime}$是上一位的进位,$s$是和,$c$是进位.$s,c$与$x,y,c^{\prime}$的关系如表$2.6$所示.
表$2.5$半加器输入输出关系
表$2.6$全加器输入输出关系
根据表$2.5,h$和$d$的主析取范式如下:
根据表$2.6,s$和$c$的主析取范式如下:
化简如下:
加器,如图$2.1$所示.
以上讨论了主析取范式的求法与用途,也可对主合取范式做类似的讨论.关于主合取范式,还要说明以下两点.
由主析取范式求主合取范式.
设公式$A$含$n$个命题变项.$A$的主析取范式含$s\left(0<s<2^{n}\right)$个极小项，
没出现的极小项为$m_{j_{1}},m_{j_{2}},\cdots,m_{j_{2}n_{-3}}$,它们的下标的二进制表示是$\negA$的成真赋值,因而$\negA$的主析取范式为
由定理$2.4$可知
这样就可由公式的主析取范式直接求出它的主合取范式.
例$2.14$利用公式的主析取范式,求主合取范式:
解(1)由题可知,没出现在主析取范式中的极小项为$m_{0}$和$m_{3}$,所以$A$的主合取范式中含两个极大项$M_{0}$与$M_{3}$,故
(2)$B$的主析取范式中没出现的极小项为$m_{0},m_{4},m_{5},m_{6},m_{7}$,因而
反之,也可由公式的主合取范式给出主析取范式.
重言式与矛盾式的主合取范式.
矛盾式无成真赋值,因而矛盾式的主合取范式含全部$2^{n}$($n$为公式中命题变项个数)个极大项.而重言式无成假赋值,主合取范式不含任何极大项,规定重言式的主合取范式为1.至于可满足式,它的主合取范式中极大项的个数一定小于$2^{n}$.
最后,要问:$n$个命题变项的主析取范式(主合取范式)共有多少个?$n$个命题变项共可产生$2^{n}$个极小项(极大项),因而共可产生
知识点:主析取范:个不同的主析取范式(主合取范式).这与在$1.2$节中对真值表个数的讨论情况是式与主合取范式一样的.
事实上,$A\LeftrightarrowB$当且仅当$A$与$B$有相同的真值表,又当且仅当$A$与$B$有相同的主析取范式(主合取范式).因而可以说,真值表与主析取范式(主合取范式)是描述命题公式的两种不同的、等价的标准形式,两者可以相互确定,由$A$的主析取范式(主合取范式)可以立刻确定$A$的真值表,由$A$的真值表也可以立刻确定$A$的主析取范式(主合取范式).
{$2.3$联结词的完备集}
在这个定义中,$F$的自变量为$n$个命题变项,定义域$\{0,1\}^{n}=\{00\cdots0,00\cdots1,\cdots,11\cdots1\}$,即由0,1组成的长为$n$的符号串的全体,值域为$\{0,1\}.n$个命题变项共可构成$2^{2n}$个不同的真值函数.一元真值函数共有4个,如表$2.7$所示;二元真值函数共有16个,如表$2.8$所示;三元真值函数共有$2^{2^{3}}=256$个.
表$2.7$-元真值函数
表$2.8$二元真值函数
每个真值函数可表示成唯一的一个主析取范式(主合取范式).例如$F_{0}^{(2)}=0$(矛盾式),$F_{1}^{(2)}=$$(p\wedgeq)=m_{3},F_{2}^{(2)}=(p\wedge\negq)=m_{2},F_{3}^{(2)}=(p\wedge\negq)\vee(p\wedgeq)=m_{2}\veem_{3}$,等等,而每个主析取范式对应无穷多个等值的命题公式,每一个命题公式又都有唯一等值的主析取范式,所以每个真值函数对应无穷多个等值的命题公式,每个命题公式又都对应唯一的真值函数.
定义$2.7$设$S$是一个联结词集合,如果任何$n(n\geqslant1)$元真值函数都可以由仅含$S$中的联结词构成的公式表示,则称$S$是联结词完备集.
证因为任何$n(n\geqslant1)$元真值函数都可表示成唯一的一个主析取范式,而在主析取范式中仅含联结词$\neg,\wedge,\vee$,所以$S=\{\neg,\wedge,\vee\}$是联结词完备集.
推论以下联结词集都是完备集.
证(1),(2)是显然的.
(4),(5)的证明留作习题.
在计算机硬件设计中,常用与非门或者用或非门来设计逻辑线路.这是两个新的联结词,并且它们各自能构成联结词完备集.
由定义不难看出,$p\uparrowq$为真当且仅当$p$与$q$不同时为真,$p\downarrowq$为真当且仅当$p$与$q$同时为假.
证已知$\{\neg,\wedge,\vee\}$为联结词完备集,因而只需证明其中的每个联结词都可以由$\uparrow$表示即可.事实上
((2.20)式)知识点:联结
词完备集
得证$\{\uparrow\}$是联结词完备集.类似可证$\{\downarrow\}$是联结词完备集.
{习题二}
设公式$A=p\rightarrowq,B=p\wedge\negq$,用真值表验证公式$A$和$B$适合德摩根律:
公式$A$与$B$同上题,用真值表验证公式$A$和$B$适合蕴涵等值式:
用等值演算法判断下列公式的类型,对不是重言式的可满足式,再用真值表法求出成真赋值.\\
用等值演算法证明下面等值式.\\
求下列公式的主析取范式,并求它们的成真赋值.\\
求下列公式的主合取范式,并求它们的成假赋值.\\
求下列公式的主析取范式,再用主析取范式求主合取范式.\\
求下列公式的主合取范式,再用主合取范式求主析取范式.\\
用真值表求下面公式的主析取范式.
用真值表求下面公式的主合取范式.
用真值表求下面公式的主析取范式和主合取范式.
已知公式$A$含3个命题变项$p,q,r$,并且它的成真赋值为$000,011,110$,求$A$的主合取范式和主析取范式.
已知公式$A$含3个命题变项$p,q,r$,并且它的成假赋值为$010,011,110,111$,求$A$的主析取范式和主合取范式.
已知公式$A$含$n$个命题变项$p_{1},p_{2},\cdots,p_{n}$,并且无成假珷值,求$A$的主合取范式.
用主析取范式判断下列公式是否等值.
用主合取范式判断下列公式是否等值.
将下列公式化成与之等值且仅含$\{\neg,\wedge,\vee\mid$中联结词的公式.
将下列公式化成与之等值且仅含$\{\neg,\wedge\}$中联结词的公式.
将下列公式化成与之等值且仅含\{ᄀ,$V\}$中联结词的公式.
将下列公式化成与之等值且仅含$\{\neg,\rightarrow\}$中联结词的公式.
证明:
从表$2.8$中,找出与下列公式等值的真值函数.
设$A,B,C$为任意的命题公式.证明:等值关系有如下性质.
设$A,B$为任意的命题公式,证明:
设$A,B,C$为任意的命题公式,
由此可知,联结词$\mathrm{与}\wedge$不满足消去律.
要设计由一个灯泡和3个开关$A,B,C$组成的电路,要求在且仅在下述4种情况下灯亮.
(1)$C$的扳键向上,$A,B$的扳键向下.
(2)$A$的扳键向上,$B,C$的扳键向下.
(3)$B,C$的扳键向上,$A$的扳键向下.
(4)$A,B$的扳键向上,$C$的扳键向下.
设$F$为1表示灯亮$,p,q,r$分别表示$A,B,C$的扳键向上.
(a)求$F$的主析取范式.
一个排队线路,输人为$A,B,C$,其输出分别为$F_{A},F_{B},F_{C}$.在同一时间只能输出一个信号;当同时有两个或两个以上信号申请输出时,按$A,B,C$的顺序输出.试写出$F_{A},F_{B},F_{C}$在联结词完备集\{隹的表达式.
在某班班委成员的选举中,已知王小红、李强、丁金生3位同学被选进了筀委会.该班的甲,乙,丙3名学生预言：
甲说:王小红为班长,李强为生活委员.
乙说:丁金生为班长,王小红为生活委员.
丙说:李强为班长,王小红为学习委员.班委会分工名单公布后发现，甲、乙、丙三人都恰好猜对了一半.问王小红、李强、丁金生各任何职（用等值演算法求解).
某公司要从䞨、钱、孙、李、周5名新毕业的大学生中选派一些人出国学习.选派必须满足条件:
(1)若赵云,钱也去.
(2)李、周两人中必有一人去.
(3)钱、孙两人中去且仅去一人.
（4）孙、李两人同去或同不去.
（5）若周去,则䞨、钱也同去.
用等值演算法分析该公司如何选派他们出国.
{䧶三窝命题逻辑的推理理论}
{$3.1$推理的形式结构}
数理逻辑的主要任务是用数学的方法研究推理.所谓推理是指从前提出发推出结论的思维过程,而前提是已知的命题公式集合,结论是从前提出发应用推理规则推出的命题公式.为此,首先应该明确什么样的推理是正确的.
关于定义$3.1$需做以下几点说明.
由前提$A_{1},A_{2},\cdots,A_{k}$推出结论$B$的推理是否正确与诸前提的排列次序无关,前提是一个有限的公式集合.设前提为集合$\Gamma$,将由$\Gamma$推出$B$的推理记为$\Gamma\vdashB$.若推理是正确的,则记为$\Gamma\modelsB$,否则记为$\Gamma\not\forallB$.这里称$\Gamma\vdashB$或$\left\{A_{1},A_{2},\cdots,A_{k}\right\}\vdashB$为推理的形式结构.
由定义$3.1$可知,只要不出现情况(3),推理就是正确的,因而判断推理是否正确,就是判断是否会出现情况(3).
这里的推理是指形式推理.由上面的讨论可知,推理正确并不能保证结论$B$一定成立,因为前提可能就不成立.这与人们通常对推理的理解是不同的,通常认为只有在正确的前提下推出正确的结论才是正确的推理.而在这里,如果前提不正确,不论结论正确与否,都说推理正确.因而,只有在推理正确并且前提成立的条件下,结论才一定成立.
例$3.1$判断下列推理是否正确.
解写出前提的合取式与结论的真值表,看是否出现前提合取式为真,而结论为假的情况.
（1）由表$3.1$,没有出现前提合取式为真,结论为假的情况,因而推理正确,即$\{p,p\rightarrowq\}\modelsq$.
(2)由表$3.1$,当赋值为10时,前提的合取式为真,而结论为假,因而推理不正确,即$\{p,q\rightarrowp\}\not\neqq.$
表$3.1$前提合取式与结论的真值表
对于例$3.1$中这样简单的推理,不难通过直接观察判断推理是否正确.如在(1)中,当$q$为假时,无论$p$是真还是假,$p\wedge(p\rightarrowq)$均为假,因而不会出现前提合取式为真,结论为假的情况,故推理正确.而在(2)中,当$q$为假,$p$为真时,出现了前提合取式为真,结论为假的情况,因而推理不正确.
下面给出推理形式结构另一种等价的形式.为此,首先证明下面定理.
定理3.1由命题公式$A_{1},A_{2},\cdots,A_{k}$推出$B$的推理正确当且仅当
为重言式.
等同于蕴涵式
其中推理前提的合取式成为蕴涵式的前件,结论成为蕴涵式的后件.推理正确
等同于
其中$\Rightarrow$表示蕴涵式为重言式.
今后把推理的形式结构写成
并且也把(3.2)式称作推理的形式结构,通过判断(3.2)式是否为重言式来确定推理是否正确.根据前两章的讨论,判断(3.2)式是否为重言式有下面3种方法.
真值表法.
等值演算法.
主析取范式法.
现在可以将例$3.1$中的两个推理写成(3.5)的形式:
例$3.2$判断下面推理是否正确.
(1)若$a$能被4整除,则$a$能被2整除.$a$能被4整除.所以,$a$能被2整除.
(2)若$a$能被4整除,则$a$能被2整除.$a$能被2整除.所以,$a$能被4整除.
（3）下午马芳或去看电影或去游泳.她没去看电影.所以,她去游泳了.
(4)若下午气温超过$30{}^{\circ}\mathrm{C}$,则王小燕必去游泳.若她去游泳,她就不去看电影了.所以,若王小燕没去看电影,下午气温必超过了$30{}^{\circ}\mathrm{C}$.
解解上述类型的推理问题,首先应将简单命题符号化.然后分别写出前提、结论、推理的形式结构,接着进行判断.
$p:a$能被4整除.$q:a$能被2整除.
当然可用真值表法、等值演算、主析取范式等方法来判断(3.7)式是否为重言式.但在此推理中,容易看出,01是(3.7)式的成假赋值,所以此推理不正确.
$p$:马芳下午去看电影.
$q$:马芳下午去游泳.
用等值演算法来判断(3.8)式是否为重言式.
得证(3.8)式为重言式,所以推理正确.
$q$:王小燕去游泳.
$r$:王小燕去看电影.
用主析取范式法判断(3.9)式是否为重言式.
{(重新排序)}
可见(3.9)式不是重言式(主析取范式中缺两个极小项$m_{0}$和$m_{2}$),所以推理不正确.
在判断推理正确性的等式演算中,有一些重言蕴涵式要经常使用,把它们称为推理定律.下面给出9条推理定律.
附加律
化简律
假言推理
拒取式
析取三段论
假言三段论
等价三段论
把具体的命题公式代人某条推理定律后就得到这条推理定律的一个代人实例.例如,$p\Rightarrowp\veeq,p\rightarrowq\Rightarrow(p\rightarrowq)\veer,p\Rightarrowp\veeq\veer$等都是附加定律的代人实例.推理定律的每一个代人实例都是重言式,可以使用这些推理定律证明推理正确.在下一节将看到,由这9条推理定律产生9条推理规则,构成一个推理系统中的推理规则集.
除上述9条推理定律外,$2.1$节给出的24个等值式中的每一个都能产生出两条推理定律:从左到右和从右到左.例如,双重否定律$A\Leftrightarrow\neg\negA$产生两条推理定律$A\Rightarrow\neg\negA$和$\negA\RightarrowA$.
本节对由前提$A_{1},A_{2},\cdots,A_{k}$推出$B$的正确推理的证明给出严格的形式描述.证明是一个描述推理过程的命题公式序列,其中的每个公式或者是已知前提,或者是由前面的公式应用推理规则得到的结论(中间结论或推理中的结论).定义$3.2$一个形式系统$I$由下面4个部分组成.
(1)非空的字母表$A(I)$.
(2)$A(I)$中符号构造的合式公式集$E(I)$.
(3)$E(I)$中一些特殊的公式组成的公理集$A_{\chi}(I)$.
(4)推理规则集$R(I)$.
形式系统一般分为两类.一类是自然推理系统,它的特点是从任意给定的前提出发,应用系统中的推理规则进行推理演算,最后得到的命题公式是推理的结论(它是有效的结论,可能是重言式,也可能不是重言式).另一类是公理推理系统,它只能从若干条给定的公理出发,应用系统中的推理规则进行推理演算,得到的结论是系统中的重言式,称为系统中的定理.本书只介绍自然推理系统$P$,它的定义中无公理部分,因而只有3个部分.
定义$3.3$自然推理系统$P$定义如下.
字母表:\\
(3)括号与逗号:(,),,
合式公式:
同定义1.6.
推理规则:\\
(1)前提引入规则:在证明的任何步骤都可以引人前提.\\
(2)结论引入规则:在证明的任何步骤所得到的结论都可以作为后继证明的前提.\\
(3)置换规则:在证明的任何步骤,命题公式中的子公式都可以用等值的公式置换,得到公式序列中又一个公式.
由9条推理定律和结论引人规则可以导出以下各条推理规则.
（4）假言推理规则(或分离规则):若证明的公式序列中已出现过$A\rightarrowB$和$A$,则由假言推理定律$(A\rightarrowB)\wedgeA\RightarrowB$可知,$B$是$A\rightarrowB$和$A$的有效结论.由结论引人规则可知,可将$B$引人到命题序列中来.用图式表示为如下形式.
以下各条推理规则直接以图式给出,不再加以说明.
(5)附加规则：
（6）化简规则:
(7)拒取式规则:
（8）假言三段论规则：
(9)析取三段论规则:
(10)构造性二难推理规则:
（11）破坏性二难推理规则:
(12)合取引入规则:
例$3.3$在自然推理系统$P$中构造下面推理的证明.
解(1)证明:
此证明的序列长为8,最后一步为推理的结论,所以推理正确,$r\wedge(p\veeq)$是有效的结论.
可以在自然推理系统$P$中构造数学和日常生活中的一些推理,所得结论都是有效的.当所有前提为真时,结论必为真.
例$3.4$在自然推理系统$P$中构造下面推理的证明.
若数$a$是实数,则它不是有理数就是无理数.若$a$不能表示成分数,则它不是有理数.$a$是实数且它不能表示成分数.所以$a$是无理数.
解设简单命题
$p:a$是实数.
$q:a$是有理数.
$r:a$是无理数.
$s:a$能表示成分数.
证明：
前提引人\\
(2)(4)假言推理\\
前提引人\\
(3)(6)假言推理\\
(5)(7)析取三段论
知识点:推理证明
下面介绍两种构造证明的方法.
附加前提证明法.
设推理的形式结构具有如下形式
其结论也为晅涵式.此时可将结论中的前件也作为推理的前提,使结论为$B$.即,把推理的形式结构改写为
两者的等价性证明如下.
因为(3.10)式与(3.11)式是等值的,因而若能证明(3.11)式是重言式,则(3.10)式也是重言式在证明(3.10)时采用形式结构(3.11),称为附加前提证明法,并将$A$称为附加前提.
例$3.5$在自然推理系统$P$中构造下面推理的证明.
如果小张和小王去看电影,则小李也去看电影;小赵不去看电影或小张去看电影;小王去看电影.所以,当小赵去看电影时,小李也去.
解设简单命题:
$p$:小张去看电影.
$q$:小王去看电影.
$r$:小李去看电影.
$s:$小赵去看电影.
证明:用附加前提证明法.\\
附加前提引人\\
前提引人\\
(1)(2)析取三段论\\
前提引人\\
前提引人
(3)5)合取引人
(4)(6)假言推理
如果不用附加前提证明法证明,又应该如何证明呢?请读者自行证明,比较这两种证明方法.
归谬法.
在构造形式结构为
的推理证明中,若将$\negB$作为前提能推出矛盾式来,比如得出$(A\wedge\negA)$,则说明推理正确.其原因如下:
故推理正确.
这种将结论的否定式作为附加前提引人并推出矛盾式的证明方法称作归谬法.数学中经常使用的反证法就是归谬法.
例3.6在自然推理系统$P$中构造下面推理的证明.
如果小张守第一垒并且小李向$B$队投球,则$A$队取胜;或者$A$队末取胜,或者$A$队成为联赛第一名;$A$队没有成为联赛的第一名;小张守第一垒.因此,小李没向$B$队投球.
解设简单命题:
$p$:小张守第一垒.
$q$:小李向$B$队投球.
$r:A$队取胜.
$s:A$队成为联赛第一名.
证明:用归谬法.\\
结论的否定引人\\
前提引人
前提引人
知识点:附加前提
(2)(3)析取三段论
证明法和归谬法
前提引人
(4)(5)拒取式
(6)置换
前提引人
(7)(8)析取三段论\\
{习题三}
1.从日常生活或数学的推理中,构造两个满足附加律的推理定律,并将它们符号化.例如，"若2是偶数,则2是偶数或3是奇数”.令$p:2$是偶数,$q:3$是奇数,则该附加律符号化为
从日常生活或数学的推理中,构造两个满足化简律的推理定律,并将它们符号化.例如,“我去过海南岛和新疆,所以我去过海南岛”.令$p$:我去过海南岛,$q$:我去过新疆,则该化简律符号化为
构造3个满足假言推理定律的推理,并将它们符号化.例如,“如果2是素数,则雪是黑色的;2是素数.所以雪是黑色的".令$p:2$是素数,$q$:雪是黑色的,该假言推理定律符号化为
参照前面3题,构造满足拒取式、析取三段论、假言三段论、等价三段论、构造性二难等推理定律的实例各一个,并将它们符号化.
分别写出由德摩根律、吸收律所产生的推理定律(每个等值式产生两条推理定律).
判断下面推理是否正确.先将简单命题符号化,再写出前提、结论、推理的形式结构（以蕴涵式的形式给出）和判断过程（至少给出两种判断方法).
（1）若今天是星期一,则明天是星期三.今天是星期一.所以明天是星期三.
（2）若今天是星期一,则明天是星期二.明天是星期二.所以今天是星期一.
（3）若今天是星期一,则明天是星期三.明天不是星期三.所以今天不是星期一.
（4）若今天是星期一,则明天是星期二.今天不是星期一.所以明天不是星期二.
（5）若今天是星期一,则明天是星期二或星期三.今天是星期一.所以明天是星期二.
（6）今天是星期一当且仅当明天是星期三.今天不是星期一.所以明天不是星期三.
对下面的每个前提给出两个结论,要求一个是有效的,而另一个不是有效的.
对下面的每个前提给出两个结论,要求一个是有效的,而另一个不是有效的.
（1）只有天气热,我才去游泳.我正在游泳.所以$\cdots\cdots$
(2)只要天气热,我就去游泳.我没去游泳.所以$\cdots\cdots$
$\mathrm{~（3）除非天气拸并且我有时间,我才去游泳.~天气不热或我没有时间.所以⿻}$
用3种方法(真值表法、等值演算法、主析取范式法)证明下面推理是正确的.
若$a$是奇数,则$a$不能被2整除.若$a$是偶数,则$a$能被2整除.因此,如果$a$是偶数,则$a$不是奇数.
用真值表法和主析取范式法证明下面推理不正确.
如果$a$和$b$之积是负数,则$a$和$b$中恰有一个是负数.$a$和$b$之积不是们数.所以,$a$和$b$都不是们数.
填充下面推理证明中没有写出的推理规则.
证明:
填充下面推理证明中没有写出的推理规则.
证明:
（1）证明从此前提出发,推出结论$1、$结论2、结论3的推理都是正确的.
（2）证明从此前提出发,推出任何结论的推理都是正确的.
在自然推理系统$P$中构造下面推理的证明.
在自然推理系统$P$中用附加前提法证明下面推理.
在自然推理系统$P$中用归谬法证明下面推理.
在自然推理系统$P$中构造下面推理的证明.
只要$A$曾到过受害者房间并且11点以前没离开,$A$就是谋杀嫌疑犯.$A$曾到过受害者房间.如果$A$在11点以前离开,看门人会看见他.看门人没有看见他.所以,$A$是谋杀嫌疑犯.
在自然推理系统$P$中构造下面推理的证明.
（1）如果今天是星期六,我们就要到颐和园或圆明园去玩.如果區和园游人太多,我们就不去䧢和园玩.今天是星期六.㡡和园游人太多.所以,我们去圆明园玩.
(2)如果小王是理科生,则他的数学成绩一定很好.如果小王不是文科生,他一定是理科生.小王的数学成绩不好.所以小王是文科生.
{妤昘㪯}
{一阶逻辑的基本概念}
命题逻辑具有一定的局限性,甚至无法判断一些常见的简单推理.例如,考虑下面的推理:凡偶数都能被2整除.6是偶数.所以,6能被2整除.
这个推理是数学中的真命题,但在命题逻辑中却无法判断它的正确性.在命题逻辑中只能将推理中出现的3个简单命题依次符号化为$p,q,r$,将推理的形式结构符号化为
由于上式不是重言式,所以这个推理不是正确的.问题出在“凡”字,在命题逻辑中不能很好地描述“凡偶数都能被2整除”的本意,只能把它作为一个简单命题.为了克服命题逻辑的这种局限性,需要引人量词,以期达到表达出个体与总体之间的内在联系和数量关系,这就是一阶逻辑所研究的内容.一阶逻辑也称一阶谓词逻辑或谓词逻辑.
{1-阶逻辑命题符号化}
个体词、谓词和量词是一阶逻辑命题符号化的3个基本要素.下面讨论这3个要素.
{1.个体词}
个体词是指所研究的对象中可以独立存在的具体或抽象的客体.例如,小王,小李,中国,$\sqrt{2}$,3等都可作为个体词.将表示具体或特定的客体的个体词称作个体常项,一般用小写英文字母$a$,$b,c$等表示,而将表示抽象或泛指的个体词称为个体变项,常用$x,y,z$等表示.并称个体变项的取值范围为个体域(或称论域).个体域可以是有穷集合,例如,$\{1,2,3\},\{a,b,c,d\},\{a,b,c,\cdots,x$,$y,z\}$等,也可以是无穷集合,例如,自然数集合$\mathbf{N}$,实数集合$\mathbf{R}$等.有一个特殊的个体域,它是由宇宙间一切事物组成的,称为全总个体域.本书在论述或推理中如不指明所采用的个体域,都是使用全总个体域.
谓词是用来刻画个体词性质及个体词之间相互关系的词,常用$F,G,H$等表示.考虑下面4个陈述句.
(2)$x$是有理数.
(3)小王与小李同岁.
在(1)中,$\sqrt{2}$是个体常项,“$\cdots\cdots$是无理数”是谓词,记为$F$.整个陈述句可表示成$F(\sqrt{2})$.在(2)中,$x$是个体变项,“$\cdots\cdots$是有理数”是谓词,记为$G$.这个陈述句可表示成$G(x)$.在(3)中,小王、小李都是个体常项,“$\cdots\cdots$与$\cdots\cdots$同岁”是谓词,记为$H$,这个陈述句可符号化为$H(a,b)$,其中$a$表示小王,$b$表示小李.在(4)中,$x,y$为两个个体变项,$L$是谓词,这个陈述句的符号化形式为$L(x,y)$.
同个体词一样,谓词也有常项与变项之分.表示具体性质或关系的谓词称为谓词常项,表示抽象或泛指的性质或关系的谓词称为谓词变项.谓词常项或变项都用大写英文字母$F,G,H$等表示,可根据上下文区分.在上面4个陈述句中,(1),(2),(3)中谓词$F,G,H$是常项,而(4)中谓词$L$是变项.
有时将不带个体变项的谓词称为零元谓词,例如,$F(a),G(a,b),P\left(a_{1},a_{2},\cdots,a_{n}\right)$等都是零元谓词.当$F,G,P$为谓词常项时,零元谓词为命题.反之,任何命题均可以表示成零元谓词,因而可将命题看成特殊的谓词.
例$4.1$将下列命题在一阶逻辑中用零元谓词符号化,并讨论它们的真值.
(1)只有2是素数,4才是素数.
(2)如果5大于4,则4大于6.
解(1)设一元谓词$F(x)$:$x$是素数,命题可符号化为
由于此蕴涵式的前件为假,所以命题为真.
(2)设二元谓词$G(x,y):x>y$,命题可符号化为
由于$G(5,4)$为真,而$G(4,6)$为假,所以命题为假.
量词表示个体常项或变项之间数量关系的词称为量词.有两个量词.
(1)全称量词.日常生活和数学中常用的“一切的”“所有的”“每一个”“任意的”“凡”“都”等词统称为全称量词,用符号“$\forall”$表示.$\forallx$表示个体域里的所有个体$x$,其中个体域是事先约定的.例如,$\forallxF(x)$表示个体域里所有个体$x$都有性质$F,\forallx\forallyG(x,y)$表示个体域里的所有个体$x$和$y$有关系$G$,其中$F$和$G$是谓词.
(2)存在量词.日常生活和数学中常用的“存在”“有一个”“有的”“至少有一个”等词统称为存在量词,用符号“$\exists$”表示.$\existsx$表示个体域里有一个个体$x$.例如,用$\existsxF(x)$表示在个体域里存在个体$x$具有性质$F,\existsx\existsyG(x,y)$表示在个体域里存在个体$x$和$y$有关系$G$.
全称量词和存在量词可以联合使用,如$\forallx\existsyG(x,y)$表示对个体域里所有个体$x$,存在$y$使得$x$和$y$有关系$G$;而$\existsx\forallyG(x,y)$表示个体域里存在个体$x$使得和所有的个体$y$有关系$G$.
下面举例说明一阶逻辑中的命题符号化.
例$4.2$在个体域分别限制为$(\mathrm{a})$和(b)条件时,将下面两个命题符号化.
(1)凡人都呼吸.
(2)有的人用左手写字.
其中,(a)个体域$D_{1}$为人类集合,
（b）个体域$D_{2}$为全总个体域.
在$D_{1}$中除人外,再无别的东西,因而
(1)符号化为
(2)符号化为
(b)$D_{2}$中除人外,还有其他万物,因而在符号化时必须考虑将人先分离出来.为此引人谓词$M(x):x$是人.在$D_{2}$中,把(1),(2)分别说得更清楚些:
(1)对于宇宙间一切个体而言,如果个体是人,则他呼吸.
(2)在宇宙间存在用左手写字的人(或者更清楚地,在宇宙间存在这样的个体,它是人且用左手写字).
于是,(1),(2)的符号化形式应分别为
和
其中$F(x)$与$G(x)$的含义同(a)中.
由例$4.2$可知,命题(1),(2)在不同的个体域中符号化的形式可能不一样.当使用全总个体域$D_{2}$时,为了将人从其他事物中区别出来,引进了谓词$M(x)$.这样的谓词称为特性谓词.在命题符号化时一定要注意正确使用特性谓词.
这里要提醒初学者注意一个常见的错误:不能正确地使用$\rightarrow$与$\wedge$.例如,有些初学者,在$D_{2}$中将(1)符号化为下面形式
这是不对的.若将它翻译成自然语言,应该是“宇宙间的所有个体都是人并且都呼吸”,这显然不是(1)的原意.另一方面,也有人将(2)符号化为
这也是不对的.将它翻译成自然语言应该为“在宇宙间存在个体,如果这个个体是人,则他用左手写字”,这显然也不是(2)的原意.
当$F$是谓词常项时,$\forallxF(x)$是一个命题.如果把个体域中的任何一个个体$a$代人,$F(a)$都为真,则$\forallxF(x)$为真;否则$\forallxF(x)$为假.$\existsxF(x)$也是一个命题.如果个体域中存在一个个体$a$,使得$F(a)$为真,则$\existsxF(x)$为真;否则$\existsxF(x)$为假.
例$4.3$在个体域限制为(a)和(b)条件时,将下列命题符号化,并给出它们的真值.
命题(2)的符号化形式为
显然(1)为真命题;而(2)为假命题,因为对任何自然数$x$,有$x+5\geqslant5$,不可能等于3.
(b)在$D_{2}$内,(1)与(2)的符号化形式还是(4.7)式和(4.8)式,(1)仍然是真命题;而此时(2)也为真命题,当$x=-2\in\mathbf{R}$时,$x+5=3$.
从例$4.2$和例$4.3$可以看出以下两点.
在不同个体域内,同一个命题的符号化形式可能不同,也可能相同.
同一个命题,在不同个体域中的真值也可能不同.
另外,作为一种约定,今后若没有特别指明个体域,都是采用全总个体域.
例$4.4$将下列命题符号化,并讨论它们的真值.
(1)所有的人都长着黑头发.
(2)有的人登上过月球.
(3)没有人登上过木星.
(4)在美国留学的学生末必都是亚洲人.
解由于本题没指明个体域,因而应采用全总个体域.令$M(x):x$为人.
(1)令$F(x):x$长着黑头发.命题(1)符号化形式为
设$a$为某金发姑娘,则$M(a)$为真,而$F(a)$为假,所以$M(a)\rightarrowF(a)$为假,故(4.9)式为假.\\
(2)令$G(x):x$登上过月球.命题(2)符号化形式为
设$a$是1969年登上月球完成阿波罗计划的美国宇航员阿姆斯特朗,$M(a)\wedgeG(a)$为真,所以(4.10)式为真.
(3)令$H(x):x$登上过木星.命题(3)符号化形式为
到目前为止,还没有人登上过木星,所以对任何个体$a$,要么$M(a)$为假($a$不是人),要么$H(a)$为假($a$没有登上过木星),故$M(a)\wedgeH(a)$均为假,因而$\existsx(M(x)\wedgeH(x))$为假,(4.11)式为真.
(4)令$F(x):x$是在美国留学的学生,$G(x):x$是亚洲人.命题(4)符号化形式为
此命题为真.
下面的问题要使用二元谓词.
例$4.5$将下列命题符号化.
（1）兔子比乌龟跑得快.
(2)有的兔子比所有的乌龟跑得快.
(3)并不是所有的兔子都比乌龟跑得快.
(4)不存在跑得同样快的两只兔子.
解因为本题没有指明个体域,因而采用全总个体域.“$\cdots\cdots$比$\cdots\cdots\mathrm{~跑得快”}$引人两个个体变项$x$与$y$.令$F(x):x$是兔子,$G(y):y$是乌龟,$H(x,y):x$比$y$跑得快,$L(x,y):x$与$y$跑得同样快,$N(x,y):x\neqy$.这4个命题分别符号化为
对于含$n$元谓词的命题,在符号化时应该注意以下几点.
命题中表示性质和关系的谓词分别符号化为一元和$n(n\geqslant2)$元谓词.
根据命题的实际意义选用全称量词或存在量词.
一般说来,多个量词出现时,它们的顺序不能随意调换.例如,考虑个体域为实数集,$H(x,y)$表示$x+y=10$,则命题“对于任意的$x$,都存在$y$,使得$x+y=10$”的符号化形式为
所给命题显然为真命题.但如果改变两个量词的顺序,得
它的意思是“存在$y$,使得对所有的$x$都有$x+y=10$”,这是一个假命题.(4.18)式与(4.17)式表达的是两个不同的意思.4.命题的符号化形式不唯一.例如,在例$4.5$中,(3)可以换一种说法:有的兔子不比有的乌龟跑得快,因而又可以符号化为
类似地,(4)还可以符号化为
知识点:一阶逻辑命题符号化、全称量词与存在量词
下一章可以证明(4.15)式和(4.19)式、(4.16)式与(4.20)式是等值的.
由于引进了个体词、谓词和量词的概念,现在可以将本章开始时讨论的推理“凡偶数都能被2整除.6是偶数.所以,6能被2整除.”在一阶逻辑中可符号化为
其中,$F(x):x$是偶数,$G(x):x$能被2整除.下一章可证明(4.21)式是永真式,即恒真.
{2一阶逻辑公式及解释}
本节给出一阶逻辑中公式的抽象定义以及它们的解释.为此,首先给出一阶语言的概念.所谓一阶语言,是用于一阶逻辑的形式语言,而一阶逻辑是建立在一阶语言上的逻辑体系.一阶语言本身是由抽象符号构成的,可以根据需要被解释成各种具体的含义.有多种形式的一阶语言，本书介绍一阶语言$\mathscr{B}$,目的是便于将自然语言中的命题符号化.
在描述对象和形式化时要使用个体常项、个体变项、函数、谓词、量词、联结词和括号与逗号.其中个体常项符号、函数符号和谓词符号称为非逻辑符号,个体变项符号、量词符号、联结词符号和括号与逗号称为逻辑符号.
定义$4.1$设$L$是一个非逻辑符号集合,由$L$生成的一阶语言$\mathscr{S}$的字母表包括下述符号.非逻辑符号：
逻辑符号:
(7)括号与逗号:(,,,,.
定义$4.2\mathscr{L}$的项定义如下.
(3)所有的项都是有限次使用(1),(2)得到的.
例$4.5$中的一元谓词$F(x),G(y)$,二元谓词$H(x,y),L(x,y)$等都是原子公式.
定义$4.4\mathscr{B}$的合式公式定义如下.
（1）原子公式是合式公式.
(2)若$A$是合式公式,则$(\negA)$也是合式公式.
(4)若$A$是合式公式,则$\forallxA,\existsxA$也是合式公式.
（5）只有有限次地应用(1)(4)构成的符号串才是合式公式.$\mathscr{B}$的合式公式也称为谊词公式,简称公式.
为方便起见,公式$(\negA),(A\wedgeB)$等的最外层括号可以省去,写成$\negA,A\wedgeB$等,在定义中出现的字母$A,B$表示任意的合式公式.例如,可以是$F(x),G(x)$等原子公式,也可以是$F(x)\rightarrow\negG(y),\forallx(F(x,y)\wedgeG(x,z))$等形式比较复杂的公式.(4.1)(4.21)式都是合式公式.
不同的一阶语言使用不同的非逻辑符号集合$L$,但它们构造合式公式的规则是一样的.一阶逻辑研究一阶语言的一般性质,而不是针对某个特定的一阶语言.对一个具体的应用而言,$L$通常是不言自明的,由使用的全部非逻辑符号组成.因此,今后除特殊需要外,不再特别指明$L$,而简称为一阶语言$\mathscr{B}$.
下面的讨论均在一阶语言中进行,也常常不再指明.
定义$4.5$在公式$\forallxA$和$\existsxA$中,称$x$为指导变元,$A$为量词的辖域.在$\forallx$和$\existsx$的辖域中,$x$的所有出现都称为约束出现,$A$中不是约束出现的其他变项均称为自由出现.
例$4.6$指出下列各公式中的指导变元、各量词的辖域、自由出现以及约束出现的个体变项.
解(1)$x$是指导变元.量词$\forall$的辖域$A=(F(x,y)\rightarrowG(x,z))$.在$A$中,$x$是约束出现,而且约束出现两次,$y$和$z$均为自由出现,各自由出现一次.
(2)公式中含两个量词,前件中的量词$\forall$的指导变元为$x,\forall$的辖域为$(F(x)\rightarrowG(y))$,其中$x$知识点:量词辖域:是约束出现,$y$是自由出现.后件中的量词$\exists$的指导变元为$y,\exists$的辖域为$(H(x)\wedgeL$
知识点:量词辖域
测试题4.4$(x,y,z)$),其中$y$是约束出现,$x,z$均为自由出现.在整个公式中,$x$约束出现一次,自由出现两次,$y$自由出现一次,约束出现一次,$z$自由出现一次.
可将例4.6(1)中公式记为$A(y,z)$,表明它含自由出现的个体变项$y,z$.而$\forallyA(y,z)$中只有$z$为自由出现,$\existsz\forallyA(y,z)$中已无自由出现的个体变项了,此时的公式为
定义$4.6$设$A$是任意的公式,若$A$中不含自由出现的个体变项,则称$A$为封闭的公式,简称闭式.
易知(4.1)(4.21)式以及(4.24)式都是闭式,而(4.22)式和(4.23)式则不是闭式.要想使含$r(r\geqslant1)$个自由出现的个体变项的公式变成闭式至少要加上$r$个量词.将(4.22)式加两个量词就变成闭式(4.24).类似地,也可以用加量词的方法将(4.23)式变成闭式.
$\mathscr{D}$中的合式公式是按照形成规则生成的符号串,没有实际的含义.只有将其中的变项(个体变项、谓词变项等)用指定的常项代替后,所得公式才具有特定的实际含义.
下面指定两种个体域和谓词$F,G$的含义.
(a)令个体域$D_{1}$为全总个体域,$F(x):x$是人,$G(x):x$是黄种人,则(4.25)式表达的命题为“所有的人都是黄种人”,这是假命题.
（b）令个体域$D_{2}$为实数集$\mathbf{R},F(x):x$是自然数,$G(x):x$是整数,则(4.25)式表达的命题为“自然数都是整数”,这是真命题.
当然,还可以给出其他不同的指定,使(4.25)式表达各种不同意思的命题.
该式含两个二元函数变项$f$和$g$,一个一元谓词变项$F$,两个二元谓词变项$G$和$H$.指定个体域为全总个体域,$F(x):x$是实数,$G(x,y):x\neqy,H(x,y):x>y,f(x,y)=x^{2}+y^{2},g(x,y)=2xy$,则(4.26)式表达的命题为“对于任意的$x,y$,若$x$与$y$都是实数且$x\neqy$,则$x^{2}+y^{2}>2xy$”.这是真命题.如果将$H(x,y)$改为$x<y$,则所得命题就变成假命题了.
在上例中对公式中变项的指定称为解释,解释的定义如下.
定义$4.7$设$\mathscr{L}$是由$L$生成的一阶语言,$\mathscr{L}$的解释$I$由下面4部分组成.
(2)对每一个个体常项符号$a\inL$,有一个$\bar{a}\inD_{l}$,称$\bar{a}$为$a$在$I$中的解释.
(4)对每一个$n$元谓词符号$F\inL$,有一个$D_{1}$上的$n$元谓词常项$\bar{F}$,称$\bar{F}$为$F$在$I$中的解释.
$I$下的赋值$\sigma$:对每一个个体变项符号$x$指定$D_{I}$中的一个值$\sigma(x)$.设公式$A$,规定:在解释$I$和赋值$\sigma$下,
取个体域$D_{l}$,
若$A$中含个体常项符号$a$就将它替换成$\bar{a}$,
若$A$中含函数符号$f$就将它替换成$\bar{f}$,
若$A$中含谓词符号$F$就将它替换成$\bar{F}$,
若$A$中含自由出现的个体变项符号$x$就将它替换成$\sigma(x)$,把这样所得到的公式记作$A^{\prime}$.称$A^{\prime}$为$A$在$I$和$\sigma$下的解释,或$A$在$I$和$\sigma$下被解释成$A^{\prime}$.
例$4.8$给定解释$I$和赋值$\sigma$如下.
写出下列公式在$I$和$\sigma$下的解释,并指出哪些公式为真,哪些为假.
知识点:解释与:(4)公式被解释成“$\forallx(2x=3)$”,假命题.
知识点:解释与(5)公式被解释成“$\forallx(x\cdot0=x)\rightarrow(1=2)$”,由于蕴涵式的前件为假,所以为真.
(9)公式被解释成“$\existsx(x+x=x\cdotx)$”,真命题.给定解释$I$和$I$下的赋值$\sigma$,任何公式都被解释成命题.特别地,对于闭式,由于没有自由出现的个体变项符号,所以与赋值无关,只需要解释就够了.
有的公式在任何解释和赋值下均为真,有些公式在任何解释和赋值下均为假,而又有些公式既存在成真的解释和赋值,又存在成假的解释和赋值.为了区别这3种不同的公式类型,定义如下.
定义$4.8$设$A$为一公式,若$A$在任何解释和赋值下均为真,则称$A$为永真式(或称逻辑有效式).若$A$在任何解释和赋值下均为假,则称$A$为矛盾式(或永假式).若至少存在一个解释和赋值使$A$为真,则称$A$是可满足式.
根据定义,永真式一定是可满足式,但可满足式不一定是永真式.在例$4.8$中,公式(2),(3),(5),(7),(8),(9)都是可满足的,因为在那里已给出它们成真的解释和赋值;而公式(1),(4),(6)不是永真式,因为那个解释和赋值已使它们成假.
我们知道,在命题逻辑中可以用真值表等方法判断任意给定的公式是否是可满足的（重言式、矛盾式).但在一阶逻辑中,情况就完全不同了.由于公式中的谓词和函数可以有各种不同的解释,使情况变得异常复杂,结果是判断任意给定的公式是否是可满足的(永真式、矛盾式)的问题是不可判定的,即不存在一个算法能够在有限步内判断任意给定的公式是否是可满足的(永真式、矛盾式).下面仅讨论某些简单的情况.
不难看出下述结论成立.
定理$4.1$重言式的代换实例都是永真式,矛盾式的代换实例都是矛盾式.
例$4.9$判断下列公式中,哪些是永真式,哪些是矛盾式?
解为方便起见,用$A,B,C,D$分别记(1),(2),(3),(4)中的公式.由于它们都是闭式,故只需考虑解释.
(1)取解释$I_{1}$:个体域为实数集合$\mathbf{R},F(x):x$是整数,$G(x):x$是有理数.在$I_{1}$下$A$为真,因而$A$是可满足式.取解释$I_{2}$:个体域仍为$\mathbf{R},F(x):x$是无理数,$G(x):x$能表示成分数.在$I_{2}$下$A$为假,$A$不是永真式.所以,$A$是非永真式的可满足式.
(2)$B$是非永真式的可满足式.请读者给出$B$的一个成真解释和一个成假解释.
(3)$C$是$p\rightarrow(q\rightarrowp)$的代换实例,而该命题公式是重言式,所以$C$是永真式.
(4)$D$是$（p\rightarrowq)\wedgeq$的代换实例,而该命题公式是矛盾式,所以$D$是矛盾式.
(1)设$I$为任意一个解释,个体域为$D$.若后件$\existsxF(x)$为假,则对所有的$x\inD,F(x)$为假.于知识点:公式类型:是,$\forallxF(x)$为假,从而$A$为真.所以,在$I$下$A$为真.由$I$的任意性,$A$是永真式.
(2)取解释$I_{1}$:个体域为自然数集合$\mathbf{N},F(x,y)$为$x\leqslanty$.在$I_{1}$下$B$的前件为真;又取$x=0$,对所有的自然数$y,0\leqslanty$,后件也为真,所以$B$为真,$B$不是矛盾式.再取$I_{2}$:个体域仍为$\mathbf{N},F(x,y)$为$x=y$,在$I_{2}$下,$B$的前件真后件假,$B$为假,所以$B$不是永真式.故$B$是非永真式的可满足式.
(3)$C$也是非永真式的可满足式,请读者自己证明.
{习题四}
将下列命题用零元谓词符号化.
(1)小王学过英语和法语.
(2)除非李健是东北人,否则他一定怕冷.
(3)2大于3仅当2大于4.
(4)3不是偶数.
(5)2或3是萦数.
在一阶逻辑中,分别在(a),(b)时将下面命题符号化,并讨论各命题的真值.
（1）凡整数都能被2整除.
(2)有的整数能被2整除.
其中,（a）个体域为整数集合,
(b)个体域为实数集合.
在一阶逻辑中,分别在(a),(b)时将下面命题符号化,并讨论各命题的真值.
其中,（a）个体域为自然数集合，
(b)个体域为实数集合.
在一阶逻辑中将下列命题符号化.
（1）没有不能表示成分数的有理数.
(2)在北京卖莱的人不全是外地人.
(3)岛鸦都是黑色的.
(4)有的人天天铎炼身体.
在一阶逻辑中将下列命题符号化.
(1)火车都比轮船快.(2)有的火车比有的汽车快.
(3)不孝在比所有火车都快的汽车.
(4)说凡是汽车就比火车慢是不对的.
将下列命题符号化,个体域为实数集合$\mathbf{R}$,并指出各命题的真值.
(3)对所有的$x$,都存在$y$使得$y=x+1$.
将下列各公式翻译成自然语言,并判断各命题的真假,其中个体域为整数集$\mathbf{Z}$.
指出下列公式中的指导变元、量词的辖域、各个体变项的自由出现和约束出现.
给定解释$I$和$I$下的赋值$\sigma$如下.
(a)个体域为实数集合$\mathbf{R}$.
给出下列公式在$I$和$\sigma$下的解释,并指出它们的直值.
给定解释$I$和$I$下的赋值$\sigma$如下.
给出下列各式在$I$和$\sigma$下的解释,并讨论它们的真值.
判断下列各式的类型.
判断下列各式的类型.
给出下列各公式的一个成真解释和一个成假解释.
证明下面公式既不是永真式也不是矛盾式.
{苐甶亲
一阶逻辑等值演算}
{$5.1-$阶逻辑等值式与置换规则}
在一阶逻辑中,有些命题可以有不同的符号化形式,例如命题“没有不犯错误的人”,取全总个体域时有下面两种不同的符号化形式.
其中,$F(x):x$是人,$G(x):x$犯错误.实际上,(1)与(2)在任意的解释下都有相同的值,同命题逻辑的情况一样,称$(1)$与(2)是等值的,下面给出等值式的定义.
本章仍然使用一阶语言$\mathscr{L}$,在下面的讨论中不再一一说明.
由定义$5.1$可知,判断公式$A$与$B$是否等值,等价于判断公式$A\leftrightarrowB$是否为永真式.同命题逻辑中一样,证明了一些常用的重要等值式,并用这些等值式推演出更多的等值式,这就是一阶逻辑等值演算的内容.
下面给出一阶逻辑中的基本等值式.
{第一组}
由于命题逻辑中的重言式的代换实例都是一阶逻辑中的永真式,因而第二章16组等值式模式给出的代换实例都是一阶逻辑的等值式.例如
等都是$(2.1)$式的代换实例.又如
等都是$(2.12)$式的代换实例.
{第二组}
量词否定等值式.
设公式$A(x)$含自由出现的个体变项$x$,则\\
可以如下直观解释(5.1)式.对于(1),“并不是所有的$x$都有性质$A$”与“存在$x$没有性质$A$”是一回事.对于$(2)$,“不存在有性质$A$的$x$”与“所有$x$都没有性质$A$”是一回事.
量词辖域收缩与扩张等值式.
设公式$A(x)$含自由出现的个体变项$x,B$不含$x$的自由出现,则\\
量词分配等值式.
设公式$A(x),B(x)$含自由出现的个体变项$x$,则\\
除以上基本等值式外,进行等值演算还有以下两条规则.
置换规则.
一阶逻辑中的置换规则与命题逻辑中的置换规则形式上完全相同,只是在这里$A,B$是一阶逻辑公式.
换名规则.设$A$为一公式,将$A$中某量词辖域中的一个约束变项的所有出现及相应的指导变元全部改成该量词辖域中末曾出现过的某个个体变项符号,公式中其余部分不变,记所得公式为$A^{\prime}$,则$A^{\prime}\LeftrightarrowA$.
例$5.1$将下面公式化成等值的公式,使其不含既是约束出现又是自由出现的个体变项.
解(1)公式中$x,y$都是既约束出现又自由出现的个体变项.$x$在前件中约束出现,在后件中自由出现,这两个$x$是两个不同的东西,只是同名而已;类似地,$y$在前件中自由出现,在后件中约束出现.可以通过换名消去这种情况,把前件中的$x$换成$t$(相当于另起一个名字),把后件中的$y$换成$w$.
(2)公式中$y$既有约束出现又有自由出现,需要处理.而$x$只有约束出现,$z$只有自由出现,保持不变.
（换名规则）
例$5.2$证明:
可以类似地证明(2).
例$5.2$说明,全称量词“$\forall$”对“$\vee”$无分配律,存在量词“$\exists”$对“$\wedge$”无分配律,在使用量词分配等值式时务必注意.如果把式中的$B(x)$改为没有$x$自由出现的$B$,就得到量词辖域收缩与扩张等值式(5.2)和(5.3)中的第一个式子.
例$5.3$设个体域$D=\{a,b,c\}$,将下面各公式的量词消去.
解(1)消去量词,得
(2)先缩小$\forallx$的辖域
再消去量词,得
注意$\existsyG(y)$与$x$无关,故可用(5.2)式.如果不用(5.2)式将量词的辖域缩小,则演算要烦琐一些.
知识占:在有限个:3()先消去$\forally$,得
也可以先消去存在量词,得到结果是等值的.
例$5.4$给定解释$I$如下.
求下列各式在$I$下的真值.
由(3),(4)的结果也说明量词的次序不能随意颠倒.
例$5.5$证明下列各等值式.\\
(置换规则)
（置换规则）
由此说明例$4.4$中(3)有两种等值的符号化形式.
(置换规则)
由此说明例$4.4$中(4)有两种等值的符号化形式.
类似可证明(4).这两个等值式表明,例$4.5$中(3)的符号化形式(4.15)式与(4.19)式是等值的,(4)的符号化形式(4.16)式与(4.20)式也是等值的.
{$5.2$-阶逻辑前末范式}
在命题逻辑中,任何公式都可以表示成等值的析取范式与合取范式,在一阶逻辑中公式也有范式形式.
定义$5.2$具有如下形式
的一阶逻辑公式称为前束范式,其中$\Delta_{i}(1\leqslanti\leqslantk)$为$\forall$或$\exists,B$为不含量词的公式.
例如,
等都是前束范式,而
等不是前束范式.
定理$5.1$(前束范式存在定理)一阶逻辑中的任何公式都存在等值的前束范式.
这里略去定理的严格证明.仅通过下面的例子说明如何利用(5.1)式(5.4)式及置换规则、换名规则求与公式等值的前束范式.为方便起见,把与公式等值的前束范式简称为公式的前束范式.
例$5.6$求下面公式的前束范式.
（换名规则）
或者
这两个式子都是原式的前束范式.
(换名规则)
注意:
在(1)中使用$\forall$对$\wedge$的分配律,得到只带一个量词的前束范式.
$\forall$对$V$不适合分配律,在(2)中要使用辖域扩张(5.2)的第一式.为此需通过换名使得$V$前后两项中的指导变元不重名.使用(5.3)式时也与此类似.
由(1)可见,公式的前束范式是不唯一的.
例$5.7$求下列各式的前束范式,请读者补填每一步的根据.
请读者写出以上各式不同形式的前束范式.
例$5.8$求下列各公式的前束范式.
解解本题时一定注意,哪些个体变项约束出现,哪些自由出现,特别要注意哪些既约束出现又自由出现的个体变项.在求前束范式时,要通过换名消去既约束出现又自由出现的个体变项.
（换名规则）
知识点:前束范式
（换名规则）
{习题五}
设个体域$D=\{a,b,c\}$,在$D$中消去公式$\forallx(F(x)\wedge\existsyG(y))$的量词.甲、乙用了不同的演算过程.甲的演算过程如下.
乙的演算过程如下.
先做等值演算,
再消去量词,得
$\mathrm{~显然,乙的演算过程简单些.~试指出乙在演算过程中的关键步蚾}$
2设个体域$D=\{a,b,c\}$,消去下列各式的量词.\\
设个体域$D=\{1,2\}$,请给出两种不同的解释$I_{1}$和$I_{2}$,使得下面公式在$I_{1}$下都是真命题,而在$I_{2}$下都是假命题.\\
（1）在解释$I_{1}$中,个体域$D=\{a\}$,证明公式$A$在$I_{1}$下的真值为1.\\
给定解释$I$如下.\\
试求下列公式在$I$下的直值.\\
甲使用量词辖域收缩与扩张等值式进行如下演算.
乙说甲错了.乙说得对吗?为什么?
请指出下面等值演算中的两处错误.
在一阶逻辑中将下面命题符号化,要求用两种不同的等值形式.\\
（1）没有小于负数的正数.\\
（2）相等的两个角末必都是对顶角.
设个体域$D$为实数集合,命题“有的实数既是有理数,又是无理数”.这显然是个假命题.可是某人却说这是真命题,其理由如下:设$F(x):x$是有理数,$G(x):x$是无理数.$\existsxF(x)$与$\existsxG(x)$都是真命题,因此$\existsxF(x)\wedge\existsxG(x)$是真命题.又
故$\existsx(F(x)\wedgeG(x))$也是真命题,即“有的实数既是有理数,又是无理数”.试问错误出在哪里.
有人说无法求公式
的前束范式,因为公式中的两个量词的指导变元相同.他的理由对吗?为什么?
求下列各式的前束范式.
将下列命题符号化,要求符号化的公式为前束范式.
(1)有的汽车比有的火车跑得快.
(2)有的火车比所有的汽车跑得快.
(3)不是所有的火车都比所有汽车跑得快.
(4)有的飞机比有的汽车慢是不对的.
{第二部分集合论}
{矢䄺辛
集合代数}
{1集合的基本概念}
集合是不能精确定义的基本概念.直观地说,把一些事物汇集到一起组成一个整体就称作集合,而这些事物就是这个集合的元素或成员.例如
方程$x^{2}-1=0$的实数解集合;
26个英文字母的集合;
坐标平面上所有点的集合;
集合通常用大写的英文字母来标记,例如自然数集合$\mathbf{N}$(认为0是自然数),整数集合$\mathbf{Z}$,有理数集合$\mathbf{Q}$,实数集合$\mathbf{R}$,复数集合$\mathbf{C}$等.
表示一个集合的方法有两种:列元素法和谓词表示法.前一种方法是列出集合的所有元素,元素之间用逗号隔开,并把它们用花括号括起来.例如
都是合法的表示.谓词表示法是用谓词来概括集合中元素的属性,例如集合
表示方程$x^{2}-1=0$的实数解集.许多集合可以用多种方法来表示,如$B$也可以写成$\{-1,1\}$.但是有些集合不可以用列元素法表示,如实数集合.
集合的元素是彼此不同的,如果同一个元素在集合中多次出现,则应该认为是一个元素，例如
集合的元素是无序的,例如
在本书所采用的体系中规定集合的元素都是集合.元素和集合之间的关系是隶属关系,即啔于或不属于,属于记作$\in$,不属于记作$\notin$.例如
这里$a\inA,\{b,c\}\inA,d\inA,\{\{d\}\}\inA$,但$b\notinA,\{d\}\notinA.b$和$\{d\}$是$A$的元素的元素.可以用一种树形图来表示这种隶属关系,该图分层构成,每一层上的结点都表示一个集合,它的儿子就是它的元素.上述集合$A$的树形图如图$6.1$所示.图中的$a,b,c,d$也是集合.由于所讨论的问题与$a,b,c,d$的元素无关,所以没有列出它们的元素.鉴于集合的元素都是集合这一规定,隶属关系可以看作是处在不同层次上的集合之
定义$6.1$设$A,B$为集合,如果$B$中的每个元素都是$A$中的元素,则称$B$是$A$的子集合,简称子俬.这时也称$B$被$A$包含,或$A$包含$B$,记作$B\subseteqA$.
包含的符号化表示为
显然对任何集合$A$,都有$A\subseteqA$.
隶属关系和包含关系都是两个集合之间的关系,对于某些集合这两种关系可以同时成立.例如
既有$\{a\}\inA$,又有$\{a\}\subseteqA$.前者把它们看成是不同层次上的两个集合,后者把它们看成是同一层次上的两个集合,都是正确的.
如果$A$与$B$不相等,则记作$A\neqB$.
相等的符号化表示为
真子集的符号化表示为
定义$6.4$不含任何元素的集合称作空集,记作$\varnothing$.
空集可以符号化表示为
定理$6.1$空集是一切集合的子集.
证任给集合$A$,由子集定义有
右边的蕴涵式因前件假而为真命题,所以$\varnothing\subseteqA$也为真.
推论空集是唯一的.
含有$n$个元素的集合简称$n$元集,其含有$m(m\leqslantn)$个元素的子集称作它的$m$元子集.任给一个$n$元集,怎样求出它的全部子集呢?举例说明如下.
零元子集,也就是空集,只有一个:$\varnothing$;
个.
定义6.5设$A$为集合,把$A$的全体子集构成的集合称作$A$的幕集,记作$P(A)$(或$\left.\mathscr{A}A,2^{A}\right)$.幂集的符号化表示为
对于例$6.1$中的集合$A$有
不难看出,若$A$是$n$元集,则$P(A)$有$2^{n}$个元素.
定义6.6在一个具体问题中,如果所涉及的集合都是某个集合的子集,则称这个集合为全
全集是有相对性的,不同的问题有不同的全集,即使是同一个问题也可以取不同的全集.例如在研究平面上直线的相互关系时,可以把整个平面(平面上所有点的集合)取作全集,也可以把整个空间(空间上所有点的集合)取作全集.一般地说,全集取得小一些,问题的描述和处理会简单些.
{$6.2$集合的运算}
集合的基本运算有并、交、相对补和对称差.
定义$6.7$设$A,B$为集合,$A$与$B$的并集$A\cupB$,交集$A\capB,B$对$A$的相对补集$A-B$分别定义如下.
由定义可以看出,$A\cupB$由$A$或$B$中的元素构成,$A\capB$由$A$和$B$中的公共元素构成,$A-B$由属于$A$但不属于$B$的元素构成.例如
则有
如果两个集合的交集为$\varnothing$,则称这两个集合是不交的.例如$B$和$C$是不交的.
两个集合的并和交运算可以推广成$n$个集合的并和交.
并和交运算还可以推广到无穷多个集合的情况.
定义$6.8$设$A,B$为集合,$A$与$B$的对称差集$A\oplusB$定义为
对称差运算的另一种定义是
可以证明这两种定义是等价的,证明留作练习.
在给定全集$E$以后,$A\subseteqE,A$的绝对补集$\simA$定义如下.
因为$E$是全集,$x\inE$是真命题,所以$\simA$可以定义为
以上定义的并和交运算称为初级并和初级交.下面考虑推广的并和交运算,即广义并和广义交.
定义6.10设$A$为集合,$A$的元素的元素构成的集合称为$A$的广义并,记为$\cupA$,符号化表示为
则
类似地可以定义集合的广义交.
定义6.11设$A$为非空集合,$A$的所有元素的公共元素构成的集合称为$A$的广义交,记为$\capA$.符号化表示为
考虑例$6.2$中的集合,有
在后面的叙述中,若只说并或交,则这都是指集合的初级并或初级交;如果在并或交前边冠以“广义”两个字,则指集合的广义并或广义交.为了使集合表达式更为简洁,对集合运算的优先顺序做如下规定.
称广义并、广义交、幂集、绝对补运算为一类运算,并、交、相对补、对称差运算为二类运算.
一类运算优先于二类运算.
一类运算之间按由右向左顺序进行.
二类运算之间由括号决定先后顺序.
例如下面的集合公式:
都是合理的公式.
解
{$6.3$有穷集的计数}
集合之间的关系和初级运算可以用文氏图(Venndiagram)给予形象的描述.文氏图的构造方法如下.
首先画一个大矩形表示全集$E$(有时为简单起见可将全集省略),其次在矩形内画一些圆(或任何其他的适当的闭曲线),用圆的内部表示集合.不同的圆代表不同的集合.如果没有关于集合不交的说明,任何两个圆应彼此相交.图中阴影的区域表示新组成的集合.图$6.2$就是一些文氏图的实例.
使用文氏图可以很方便地解决有穷集的计数问题.首先根据已知条件把对应的文氏图画出来.一般地说,每一条性质决定一个集合.有多少条性质,就有多少个集合.如果没有特
殊的说明,任何两个集合都画成相交的,然后将已知集合的元素数填人表示该集合的区域内.通常从$n$个集合的交集填起,根据计算的结果将数字逐步填人所有的空白区域.如果交集的数字是末知的,可以设为$x$.根据题目中的条件,列出一次方程或方程组,就可以求得所需要的结果.
例$6.4$对24名会外语的科技人员进行掌握外语情况的调查.其统计结果如下:会英、日、德和法语的人分别为$13,5,10$和9人,其中同时会英语和日语的有2人,会英、德和法语中任两种语言的都是4人.已知会日语的人既不懂法语也不懂德语,分别求只会一种语言(英、德、法、日)的人数和会三种语言的人数.
解令$A,B,C,D$分别表示会英、法、德、日语的人的集合.根据题意画出文氏图如图$6.3$所示.设同时会三种语言的有$x$人,只会英、法或德语一种语言的分别为$y_{1},y_{2}$和$y_{3}$人.将$x$和$y_{1},y_{2},y_{3}$填人图中相应的区域,然后依次填人其他区域的人数.根据已知条件列出方程组
例$6.5$求1到1000之间（包含1和$1000\mathrm{~在）}$被5和6,也不能被8整除的数的个数.
{解设}
个.
将这此数芓依次填入文氏图,得到图6.4.由苳可知,不能被5,6和8束隄釆的数有
上述有穷集合的计数问题也可以使用包含排斥原理求解.包含排斥原理是组合学基本的计数定理之一.
定理6.2(包含排斥原理)设$S$为有穷集,$P_{1},P_{2},\cdots,P_{n}$是$n$个性质.$S$中的任何元素$x$或者具有性质$P_{i}$,或者不具有性质$P_{i}$,两种情况必居其一.令$A_{i}$表示$S$中具有性质$P_{i}$的元素构成的子集,则$S$中不具有性质$P_{1},P_{2},\cdots,P_{n}$的元素数为
推论$S$中至少具有一条性质的元素数为
根据包含排斥原理,例$6.5$中所求的元素数为
例$6.6$求欧拉函数的值.
欧拉函数$\phi$是数论中的一个重要函数,设$n$是正整数,$\phi(n)$表示$\{0,1,\cdots,n-1\}$中与$n$互素的数的个数.例如$\phi(12)=4$,因为与12互素的数有$1,5,7,11$.这里认为$\phi(1)=1$.下面利用包含排斥原理给出欧拉函数的计算公式.
那么
下面计算等式右边的各项.
根据包含排斥原理,
例如,
例$6.7$错位排列的计数问题.有$n$个人在参加晩会时寄存了自己的帽子.可是保管人忘记放寄存号,当每个人领取帽子时,他只能随机选择一顶帽子交给寄存人.那么,在$n$!种领取帽子的方式中有多少种方式使得每个人都没有领到自己的帽子?如果将这些人与他们的帽子分别标号为$1,2,\cdots,n$.设$j$领到的帽子标号为$i_{j},j=1,2,\cdots,n$,那么这些人领到的帽子可以用排列$i_{1}i_{2}\cdots$$i_{n}$来表示,其中每个人都没有领到自己帽子的排列$i_{1}i_{2}\cdotsi_{n}$满足$i_{j}\neqj,j=1,2,\cdots,n$.称这种排列为错位排列,错位排列数记作$D_{n}$,证明$D_{n}=n!\left[1-\frac{1}{1!}+\frac{1}{2!}-\cdots+(-1)^{n}\frac{1}{n!}\right]$.
证设$S$为$\{1,2,\cdots,n\}$的排列的集合,$P_{i}$是其中$i$处在排列中的第$i$位的性质,$A_{i}$是$S$中具有性质$P_{i}$的排列的集合,$i=1,2,\cdots,n$.错位排列数$D_{n}$就是$S$中不具有以上任何一条性质的排列数.不难看出
知识点:文氏图
与容斥原理
从$D_{n}$的表达式可以看出,当$n$充分大时,错位排列数与全排列数的比大约等于$\mathrm{e}^{-1}$.
{$6.4$集合恒等式}
下面的恒等式给出了集合运算的主要算律,其中的$A,B,C$代表任意的集合.
这里选证其中的一部分,其余留给读者完成.在证明中大量用到命题逻辑的等值式,在叙述$\mathrm{~中采用半形式化的方法,~其中}$
证对任意的$x$,
所以
证对任意的$x$,
$\mathrm{~L岀证明的基木思想是~:~谋}$
也就是要证对于任意的$x$有
成立.对于某此恒等式可以将这夾个方向的推理合到一起,就是
不难看出,集合运算的规律和命题演算的某些规律是一致的,所以命题演算的方法是证明集合恒等式的基本方法.(6.1)式(6.23)式都可以利用这个方法得到.
证明集合恒等式的另一种方法是利用已知的恒等式来代人,举例如下.
证
除了以上算律以外,还有一些关于集合运算性质的重要结果,例如
这里只选证其中的一部分.
证对于任意的$x$,
所以$A-B=A\capB$.(6.27)式把相对补运算转换成交运算,这在证明有关相对补的恒等式中是很有用的.
证
例$6.13$证明(6.28)式是真命题.
对于任意的$x$,
对于任意的$x$,
由集合相等的定义有$A\capB=A$.
(6.28)式给出了$A\subseteqB$的另外3种等价的定义,这不仅为证明两个集合之间的包含关系提供了新方法,同时也可以用于集合公式的化简.
(6.29)式(6.33)式是关于对称差运算的算律,前4条可通过对称差的定义加以证明,最后
一条称作消去律,它的证明在下面给出.
知识点:集合恒等式
选择适当的谓词表示下列集合.
（1）小于5的非们整数集合.
(2)奇整数集合.
(3)10的整倍数的集合.
用列元素法表示下列集合.
列出下列集合的元素.
设$F$表示一年级大学生的集合,$S$表示二年级大学生的集合,$M$表示数学专业学生的集合,$R$表示计算机专业学生的集合,$T$表示听离散数学课学生的集合,$G$表示星期一晩上参加音乐会的学生的集合,$H$表示星期一晩上很迟才睡觉的学生的集合.问:下列各句子所对应的集合表达式分别是什么?请从备选的答案中挑出来.
（1）所有计算机专业二年级的学生在学离散数学课.
(2)这些且只有这些听离散数学课的学生或者星期一晩上去听音乐会的学生在星期一晩上很迟才睡觉.
（3）听离散数学课的学生都没参加星期一晩上的音乐会.
(4)这个音乐会只有大学一、二年级的学生参加.
（5）除去数学专业和计算机专业以外的二年级学生都去参加了音乐会.备选答案:
设$a,b,c$各不相同,判断下述等式中哪个等式成立.\\
求下列集合的棠集.\\
用列元素法表示下列集合.\\
（1）设$A$是$n(n\geqslant1)$元集,其元素为英文字母,$B$是$m$元集,其元素为自然数,求$P(A)\capP(B)$.
试用$A,B,C$以及集合运算分别给出以下集合的表达式.
(1)所有奇数的集合
化简下列集合表达式.
15.画击下列集合的文氏图.
用集合$A,B,C,E$表示图6.5中阴影部分的集合.
化简以下集合表达式.
判断以下命题的真假.
对60个人的调查表明,有25人阅读《每周新闻》杂志,26人阅读《时代》杂志,26人阅读《财富》杂志，9人阅读《每周新闻》和《财富》杂志,11人阅读《每周新闻》和《时代》杂志,8人阅读《时代》和《财富》杂志,还有8人什么杂志也不读.
（1）求阅读全部3种杂志的人数.
（2）分别求只阅读《每周新闻》《时代》和《财富》杂志的人数.
某班有25个学生,其中14人会打篮球,12人㕕打排球,6人㕕打篮球和排球,5人会打篮球和网球,还有2人会打这3种球.已知6个会打网球的人都会打篮球或排球.求不会打球的人数.
在$1\sim300$的整数中（1和300包含在内)分别求满足以下条件的整数个数.
（1）同时能被3,5和7整除.
（2）不能被3和5,也不能被7整除.
(3)可以被3整除,但不能被5和7整除.
（4）可以被3或5整除,但不能被7整除.
(5)只被3,5和7之中的一个数整除.
使用包含排斥原理求不超过120的素数个数.
在1和10000之间（包括1和10000在内)不能被4,5和6整除的数有多少个?
在1和10000之间（包括1和10000在内)既不是某个整数的平方,也不是某个整数的立方的数有多少个?
在1和1000000之间（包括1和1000000在内)有多少个整数包含了数字$1,2,3$和4?
证明错位排列数$D_{n}$满足$:n$为偶数当且仅当$D_{n}$为奇数.
化简下述集合公式.\\
若$P-Q=P$,判断下述条件中哪个为真,并说明理由.\\
设$A,B,C$代表任意集合,试判断下面命题的真假.如果为真,给出证明;如果为假,给出反例.
设$A,B$为任意集合,证明：
设$A,B,C$是任意集合,证明:\\
证明集合恒等式.\\
证明以下4个命题是等价的.
设$A,B,C$是任意集合,证明：
设$P,Q$为任意集合,证明：
设$A,B,C$为任意集合,证明：
设$A,B,C$为任意集合,证明：
设$A,B,C,D$为集合,判断下列命题是否为真.如果恒真请给出证明,否则请举一个反例.
设$A,B$为任意集合,证明：
设$A,B$为任意集合,证明:
(3)举一反例,说明$P(A)\cupP(B)=P(A\cupB)$对某些集合$A$和$B$是不成立的.
设$A,B$为集合,分别求下述等式成立的充分必要条件,例如$A\capB=A$的充分必要条件是$A\subseteqB$.
寻找下述集合等式成立的充刍必要条件.
（1）设$A$对应的0,1串为10110010,则$\simA$对应的0,1串是什么?
二元关系}
{$7.1$有序对与笛卡儿积}
定义$7.1$由两个元素$x$和$y$(允许$x=y$)按一定顺序排列成的二元组称作一个有序对或序偶,记作$\langlex,y\rangle$,其中$x$是它的第一元素,$y$是它的第二元素.
有序对$\langlex,y\rangle$具有以下性质:
这些性质是二元集$\{x,y\}$所不具备的.例如当$x\neqy$时有$\{x,y\}=\{y,x\}$.原因在于有序对中的元素是有序的,而集合中的元素是无序的.
解由有序对相等的充要条件有
定义$7.2$设$A,B$为集合,用$A$中元素为第一元素,$B$中元素为第二元素构成有序对,所有这样的有序对组成的集合称作$A$和$B$的笛卡儿积,记作$A\timesB$.
笛卡儿积的符号化表示为
由排列组合的知识不难证明,如果$|A|=m,|B|=n$,则$|A\timesB|=mn$.
笛卡儿积运算具有以下性质.
对任意集合$A$,根据定义有
一般地说,笛卡儿积运算不满足交换律,即
笛卡儿积运算不满足结合律,即
笛卡儿积运算对并和交运算满足分配律,即
下面只证明第一个等式.
知识点:笛卡儿积
性质5的证明和性质4米似,也禾用命题演算的方法.该证明留给读者考虑.性质5的逆命题不成立,青诂者给出例.
角生
{$7.2$二元关系}
定义$7.3$如果一个集合满足以下条件之一:
(1)集合非空,且它的元素都是有序对;
(2)集合是空集,则称该集合为一个二元关系,记作$R$.二元关系也可简称为关系.对于二元关系$R$,如果$\langlex,y\rangle\inR$,可记作$xRy$;如果$\langlex,y\rangle\notinR$,则记作$xRy$.
定义$7.4$设$A,B$为集合,$A\timesB$的任何子集所定义的二元关系称作从$A$到$B$的二元关系,特别当$A=B$时则称作$A$上的二元关系.
等都是从$A$到$B$的二元关系,而$R_{3}$和$R_{4}$同时也是$A$上的二元关系.
集合$A$上的二元关系的数目依赖于$A$中的元素数.如果$|A|=n$,那么$|A\timesA|=n^{2},A\timesA$的子集就有$2^{n^{2}}$个.每一个子集代表一个$A$上的二元关系,所以$A$上有$2^{n^{2}}$个不同的二元关系.例如$|A|=$3,则$A$上有$2^{32}=512$个不同的二元关系.
对于任意集合$A$,空集$\varnothing$是$A\timesA$的子集,称作$A$上的空关系.
定义$7.5$对任意集合$A$,定义
除了以上3种特殊的关系以外,还有一些常用的关系,分别说明如下.
$L_{A}$称作$A$上的小于等于关系,$A$是实数集$\mathbf{R}$的子集.$D_{A}$称作$A$上的整除关系,$\langlex,y\rangle\inD_{A}$表示$x$是$y$的因子,$A$是非零整数集$\mathbf{Z}^{*}$的子集.$R_{\varsigma}$称作$A$上的包含关系,$A$是由一些集合构成的集合族.例如$A=\{1,2,3\},B=\{a,b\}$,则
类似地还可以定义大于等于关系、小于关系、大于关系、真包含关系等.
例$7.3$设$A=\{1,2,3,4\}$,下面各式定义的$R$都是$A$上的关系,试用列元素法表示$R$.
给出一个关系的方法有3种:集合表达式、关系矩阵和关系图.例$7.3$中的关系就是用集合表达式来给出的.对于有穷集$A$上的关系还可以用其他两种方式来给出.
则
知识点:二元关系
定义及表示
在上面的例子中,$R$的关系图$G_{R}$如图$7.1$所示.
{$7.3$关系的运算}
关系的基本运算有7种,分别定义如下.
定义$7.6$设$R$是二元关系.
(3)$R$的定义域和值域的并集称为$R$的域,记作fld$R$.形式化表示为
定义$7.7$设$R$为二元关系,$R$的逆关系,简称$R$的逆,记作$R^{-1}$,其中
定义$7.8$设$F,G$为二元关系,$G$对$F$的右复合记作$F\circG$,其中
类似地也可以定义关系的左复合,即
如果把二元关系看作是一种作用,$\langlex,y\rangle\inR$可以解释为$x$通过$R$的作用变到$y$,那么右复合$F\circG$与左复合$F\circG$都表示两个作用的连续发生.所不同的是:右复合$F\circG$表示在右边的$G$是复合到$F$上的第二步作用.而左复合$F\circG$恰好相反,其中$F$是复合到$G$上的第二步作用.这两种规定都是合理的,正如在交通规则中有的国家规定右行,有的国家规定左行一样.本书采用右复合的定义,而在其他的书中可能采用左复合的定义,请读者注意两者的区别.
定义$7.9$设$R$为二元关系,$A$是集合，
(2)$A$在$R$下的像记作$R[A]$,其中
关系是集合,因此第六章所定义的集合运算对于关系也是适用的.为了使集合表达式更为简洁,我们进一步规定:本节所定义的关系运算中逆运算优先于其他运算,而所有的关系运算都优先于集合运算,对于没有规定优先权的运算以括号决定运算顺序.例如
等都是合理的表达式.
下面考虑这些基本运算的性质.
定理$7.1$设$F$是任意的关系,则
定理$7.2$设$F,G,H$是任意的关系,则
下述两个定理的证明方法与定理$7.2$类似,留作读者思考.
定理$7.3$设$R$为$A$上的关系,则
定理$7.4$设$F,G,H$为任意关系,则
由数学归纳法不难证明定理$7.4$的结论对于有限多个关系的并和交也是成立的,即有
定理$7.5$讨论了限制和像运算的性质,限于篇幅,这里省略了证明.
定理$7.5$设$F$为关系,$A,B$为集合,则
在右复合运算的基础上可以定义关系的慕运算.
定义$7.10$设$R$为$A$上的关系,$n$为自然数,则$R$的$n$次幂$R^{n}$定义为
由以上定义可知,对于$A$上的任何关系$R_{1}$和$R_{2}$都有
也就是说,$A$上任何关系的零次幂都相等,都等于$A$上的恒等关系$I_{A}$.此外对$A$上的任何关系$R$都有$R^{1}=R$,因为
给定$A$上的关系$R$和自然数$n$,怎样计算$R^{n}$呢?若$n$是0或1,结果是很简单的.下面考虑$n\geqslant2$的情况.如果$R$是用集合表达式给出的,可以通过$n-1$次右复合计算得到$R^{n}$.如果$R$是用关系矩阵$\boldsymbol{M}$给出的,则$R^{n}$的关系矩阵是$\boldsymbol{M}^{n}$,即$n$个矩阵$\boldsymbol{M}$之积.与普遍矩阵乘法不同的是,其中的相加是逻辑加,即
如果$R$是用关系图$G$给出的,可以直接由图$G$得到$R^{n}$的关系图$G^{\prime}.G^{\prime}$的顶点集与$G$相同.考察$G$的每个顶点$x_{i}$,如果在$G$中从$x_{i}$出发经过$n$步长的路径到达顶点$x_{j}$,则在$G^{\prime}$中加一条从$x_{i}$到$x_{j}$的边.当把所有这样的边都找到以后,就得到图$G^{\prime}$.
解$R$的关系矩阵为
则$R^{2},R^{3},R^{4}$的关系矩阵分别是
而$R^{0}$,即$I_{A}$的关系矩阵是
知识点:关系运算
㞷屻,$R$各次宫的关系矩阵都得至$、.$
用关系图的方法得到$R^{0},R^{1},R^{2},R^{3}$等的关系图如图$7.2$所示.
下面考虑幂运算的性质.
定理$7.6$设$A$为$n$元集,$R$是$A$上的关系,则存在自然数$s$和$t$,使得$R^{s}=R^{t}$.
该定理说明有穷集上只有有穷多个不同的二元关系.当$t$足够大时$R^{t}$必与某个$R^{s}(s<t)$相等.如例$7.7$中的$R^{4}=R^{2}$.
使用数学归纳法不难证明下述两个关于幂运算性质的定理.
定理$7.8$设$R$为$A$上的关系,若存在自然数$s,t(s<t)$使得$R^{s}=R^{t}$,则
通过定理$7.8$可以看出,有穷集$A$上的关系$R$的幕序列$R^{0},R^{1},R^{2}$等是一个呈现周期性变化的序列.就像正弦函数一样,利用它的周期性可以将$R$的高次幂化简为$R$的低次幂.
解由$R$的定义可以看出$A$中的元素可分成两组,即$\{a,b\}$和$\{d,e,f\}$.它们在$R$的右复合运算下有下述变化规律.
对于$a$或$b$,每个元素的变化周期是2.对于$d,e,f$,每个元素的变化周期是3.因此必有$R^{m}=$$R^{m+6}$,其中6是2和3的最小公倍数.取$m=0,n=6$即满足题目要求.
{4关系的性质}
关系的性质主要有以下5种:自反性、反自反性、对称性、反对称性和传递性.
定义$7.11$设$R$为$A$上的关系，
例如$A$上的全域关系$E_{A}$、恒等关系$I_{A}$都是$A$上的自反关系.小于等于关系$L_{A}$、整除关系$D_{B}$分别为$A$和$B$上的自反关系.包含关系$R_{\subseteq}$是给定集合族$A$上的自反关系.而小于关系和真包含关系都是给定集合或集合族上的反自反关系.
说明$R_{1},R_{2}$和$R_{3}$是否为$A$上的自反关系和反自反关系.
解$R_{2}$是自反的,$R_{3}$是反自反的,$R_{1}$既不是自反的也不是反自反的.
定义$7.12$设$R$为$A$上的关系，
例如$A$上的全域关系$E_{A}$、恒等关系$I_{A}$和空关系$\varnothing$都是$A$上对称的关系.而恒等关系$I_{A}$和空关系也是$A$上反对称的关系,但全域关系$E_{A}$一般不是$A$上的反对称关系,除非$A$为单元集或空集.
说明$R_{1},R_{2},R_{3}$和$R_{4}$是否为$A$上对称和反对称的关系.
解$R_{1}$既是对称的也是反对称的.$R_{2}$是对称的但不是反对称的.$R_{3}$是反对称的但不是对称的.$R_{4}$既不是对称的也不是反对称的.
定义$7.13$设$R$为$A$上的关系,若
则称$R$为$A$上传爫的关系.
关系和包含关系也是相应集合上的传递关系.小于关系和真包含关系仍旧是相应集合上的传递关系.
知识点:关系性质
说明$R_{1},R_{2}$和$R_{3}$是否为$A$上的传递关系.
解$R_{1}$和$R_{3}$是$A$上的传递关系,$R_{2}$不是$A$上的传递关系.
下面给出这5种性质成立的充分必要条件.
定理$7.9$设$R$为$A$上的关系,则
证(1)必要性.
充分性.
任取$x$,有
因此$R$在$A$上是自反的.
(2)必要性(用反证法).
充分性.
任取$x$,则有
从而证明了只在$A$上是反自反的.
（3）必要性.
充分性.
所以$R$在$A$上是对称的.
(4)必要性.
充分性.
从而证明了$R$在$A$上是反对称的.
(5)必要性.
充分性.
所以$R$在$A$上是传递的.
关系的性质不仅反映在它的集合表达式上,也明显地反映在它的关系矩阵和关系图上.表$7.1$列出了5种性质在关系矩阵和关系图中的特点.
表$7.15$种性质的特点
例$7.12$判断图$7.3$中关系的性质,并说明理由.
解图$7.3(\mathrm{a})$所示关系是对称的,因为无单向边.它不是自反的也不是反自的,因为有的页点有环,有的顶点沒有环.它不是反对称的,因为图中有双向送.它也不是传递的,因为中有边$<3,1>$和$<1,3>$,昍汥有从3到3的边,即通过3的环.
图7.3(b)所示关系是反自反的但不是自反的，因为苺个顶点都沒有环.它是反对称的昍不是对称的,因为图中只有单向边.它是传递的,因为不存在页点$x,y,z$,使得$x$到$y$有边,$y$到$z$有边,但$x$到$z$汥有边,其中$x,y,z\in\{1,2,3\}$.
图7.3(c)所示关系是自反的但不是反自白的因为每个顶点都有环.它是反对称的昍不是对
称的,因为图中只有单向边.但它不是传递的,因为2到1有边,1到3有边,但2到3没有边.
下面研究关系的性质和运算之间的联系.
设$R_{1}$和$R_{2}$是$A$上的关系,它们都具有某些共同的性质.在经过并、交、相对补、求逆或右复合运算以后,所得到的新关系$R_{1}\cupR_{2},R_{1}\capR_{2},R_{1}-R_{2},R_{1}^{-1},R_{1}\circR_{2}$等是否还能保持原来关系的性质呢?可以证明,两个自反和对称的关系经过并运算后仍是自反和对称的,两个传递的关系经过交运算后仍是传递的.类似地,也可以考察其他的性质与运算之间的联系.有关的结论给在表$7.2$中,其中的$\checkmark$和$\times$分别表示“能保持”和“不一定能保持”的含义.
表$7.2$关系性质与运算的联系
&自反性&反自反性&对称性&反对称性&传递性\\
{$7.5$关系的闭包}
设$R$是$A$上的关系,我们希望$R$具有某些有用的性质,比如说自反性.如果$R$不具有自反性,我们通过在$R$中添加一部分有序对来改造$R$,得到新的关系$R^{\prime}$,使得$R^{\prime}$具有自反性.但又不希望$R^{\prime}$与$R$相差太多,换句话说,添加的有序对要尽可能少,满足这些要求的$R^{\prime}$就称为$R$的自反闭包,通过添加有序对来构造的闭包除自反闭包外还有对称闭包和传递闭包.
定义$7.14$设$R$是非空集合$A$上的关系,如果$A$上的关系$R^{\prime}$满足条件:
(1)$R^{\prime}$是自反的(对称或传递的),
一般将$R$的自反闭包记作$r(R)$,对称闭包记作$s(R)$,传递闭包记作$t(R)$.
下面的定理和推论给出了构造闭包的方法.限于篇幅,略去有关的证明.
定理$7.10$设$R$为$A$上的关系,则有
推论设$R$为有穷集$A$上的关系,则存在正整数$r$使得
其中$\boldsymbol{E}$是和$\boldsymbol{M}$同阶的单位矩阵,$\boldsymbol{M}^{\prime}$是$\boldsymbol{M}$的转置矩阵,注意在上述等式中矩阵的元素相加时使用逻辑加.
设关系$R,r(R),s(R),t(R)$的关系图分别记为$G,G_{r},G_{s},G_{t}$,则$G_{r},G_{s},G_{t}$的顶点集与$G$的顶点集相等.除了$G$的边以外,依下述方法添加新的边.
考察$G$的每个顶点,如果没有环就加上一个环,最终得到的是$G_{r}$.
考察$G$的每一条边,如果有一条$x_{i}$到$x_{j}$的单向边,$i\neqj$,则在$G$中加一条$x_{j}$到$x_{i}$的反方向边.最终得到$G_{s}$.
考察$G$的每个顶点$x_{i}$,找出从$x_{i}$出发的所有2步,3步,$\cdots,n$步长的路径$(n$为$G$中的顶点数).设路径的终点为$x_{j_{1}},x_{j_{2}},\cdots,x_{j_{k}}$.如果没有从$x_{i}$到$x_{j_{1}}(l=1,2,\cdots,k)$的边,就加上这条边.当检查完所有的顶点后就得到图$G_{t}$.
利用计算机求关系的传递闭包可以采用关系矩阵的表示方法.设$A=\left\{x_{1},x_{2},\cdots,x_{n}\right\},R$为$A$上的二元关系,$R$的关系矩阵为$\boldsymbol{M}$,那么
知识点:关系闭包
输人:$M$($R$的关系矩陎)
注意，上述算法中矩阵加法和乘法中的元素相加都使用逻辑加.考虑例$7.13$中的关系$R$.利用Warshall算法计算的矩阵序不如下所示,所得到的传递闭包实际上就是全域关系$E_{A}\cdot$这和图$7.4$的结果是一致的.
限于篇吅畐,不再证明,仅用下面凹个定理给出闭包的主要性质.
定理$7.11$设$R$是非空集合$A$上的关系,则(1)$R$是自反的当且仅当$r(R)=R$.
(2)$R$是对称的当且仅当$s(R)=R$.
(3)$R$是传递的当且仅当$t(R)=R$.
定理$7.13$设$R$是非空集合$A$上的关系,
(1)若$R$是自反的,则$s(R)$与$t(R)$也是自反的.
(2)若$R$是对称的,则$r(R)$与$t(R)$也是对称的.
(3)若$R$是传递的,则$r(R)$是传递的.
定理$7.13$讨论了关系性质和闭包运算之间的联系.如果关系$R$是自反的或对称的.那么经过求闭包的运算以后所得到的关系仍旧是自反的或对称的.但是对于传递的关系则不然.它的自反闭包仍旧保持传递性,而对称闭包就有可能失去传递性,例如$A=\{1,2,3\},R=\{<1,3\rangle\}$是$A$上的传递关系,$R$的对称闭包
显然$s(R)$不再是$A$上的传递关系.从这里可以看出,如果计算关系$R$的自反、对称、传递的闭包,为了不失去传递性,传递闭包运算应该放在对称闭包运算的后边,若令$tsr(R)$表示$R$的自反、对称、传递闭包,则
{$7.6$等价关系与划分}
等价关系是一类重要的二元关系.
定义$7.15$设$R$为非空集合$A$上的关系.如果$R$是自反的、对称的和传递的,则称$R$为$A$上的等价关系.设$R$是一个等价关系,若$\langlex,y\rangle\inR$,称$x$等价于$y$,记作$x\simy$.
其中$x\equivy(\bmod3)$称为$x$与$y$模3相等,即$x$除以3的余数与$y$除以3的余数相等.不难验证$R$为$A$上的等价关系,因为
不难看到,上述关系图被分为3个互不连通的部分.每部分中的数两两都有关系,不同部分中的数则没有关系.每一部分中所有的顶点构成一个等价类.
定义$7.16$设$R$为非空集合$A$上的等价关系,$\forallx\inA$,令
称$[x]_{R}$为$x$关于$R$的等价类,简称为$x$的等价类,简记为$[x]$或$\bar{x}$.
从以上定义可以知道,$x$的等价类是$A$中所有与$x$等价的元素构成的集合.例$7.14$中的等价类是
将例$7.14$中的模3等价关系加以推广,可以得到整数集合$\mathbf{Z}$上的模$n$等价关系.设$x$是任意整数,$n$为给定的正整数,则存在唯一的整数$q$和$r$,使得
其中$0\leqslantr\leqslantn-1$,称$r$为$x$除以$n$的余数.例如$n=3$,那么-8除以3的余数为1,因为
对于任意的整数$x$和$y$,定义模$n$相等关系:
不难验证它是整数集合$\mathbf{Z}$上的等价关系.将$\mathbf{Z}$中的所有整数根据它们除以$n$的余数分类如下.
以上构成了$n$个等价类,使用等价类的符号可记为
下面的定理给出了等价类的性质.
定理$7.14$设$R$为非空集合$A$上的等价关系,则
证(1)由等价类的定义可知,$\forallx\inA$有$[x]\subseteqA$.又由于等价关系的自反性有$x\in[x]$,即$[x]$非空.
(2)任取$z$,则有
因此有
由非空集合$A$和$A$上的等价关系$R$可以构造一个新的集合一一商集.
定义$7.17$设$R$为非空集合$A$上的等价关系,以$R$的所有等价类作为元素的集合称为$A$关于$R$的商集,记作$A/R$,即
例$7.14$中的商集为
而整数集合$\mathbf{Z}$上模$n$等价关系的商集是
和等价关系及商集有密切联系的概念是集合的划分.先给出划分的定义.
定义$7.18$设$A$为非空集合,若$A$的子集族$\pi(\pi\subseteqP(A)$,是$A$的子集构成的集合)满足下面的条件:
则称$\pi$是$A$的一个划分,称$\pi$中的元素为$A$的划分块.
把商集$A/R$和划分的定义相比较,易见商集就是$A$的一个划分,并且不同的商集将对应于不同的划分.反之,任给$A$的一个划分$\pi$,如下定义$A$上的关系$R$:
则不难证明$R$为$A$上的等价关系,且该等价关系所确定的商集就是$\pi$.由此可见,$A$上的等价关系与$A$的划分是一一对应的.
例7.16给出$A=\{1,2,3\}$上所有的等价关系.
解如图7.6,先给出$A$的所有划分.
这些划分与$A$上的等价关系之间的一一对应是:$\pi_{1}$对应于全域关系$E_{A},\pi_{5}$对应于恒等关系$I_{A},\pi_{2},\pi_{3}$和$\pi_{4}$分别对应于等价关系$R_{2},R_{3}$和$R_{4}$,其中
{$7.7$偏序关系}
下面介绍另一种重要的关系一一偏序关系.
定义$7.19$设$R$为非空集合$A$上的关系.如果$R$是自反的、反对称的和传递的,则称$R$为$A$上的偏序关系,记作$\leqslant$.设为偏序关系,如果$\langlex,y>\in\leqslant$,则记作$x\leqslanty$,读作$x$“小于等于”$y$.
注意这里的“小于等于”不是指数的大小,而是指在偏序关系中的顺序性.$x$“小于等于”$y$的含义是:依照这个序,$x$排在$y$的前边或者$x$就是$y$.根据不同偏序的定义,对序有着不同的解释.例如整除关系是偏序关系$\leqslant,3\leqslant6$的含义是3整除6.大于等于关系也是偏序关系,针对这个关系写$5\leqslant4$是说在大于等于关系中5排在4的前边,也就是说5比4大.
例如集合$A$上的恒等关系$I_{A}$是$A$上的偏序关系.小于等于关系、整除关系和包含关系也是相应集合上的偏序关系.一般说来,全域关系$E_{A}$不是$A$上的偏序关系.
$\mathrm{~由以上两个定义可知,~在具有偏序关系}$情况发生:
定义$7.21$设$R$为非空集合$A$上的偏序关系,如果$\forallx,y\inA,x$与$y$都是可比的,则称$R$为$A$上的全序关系(或线序关系).
例如数集上的小于等于关系是全序关系,因为任何两个数总是可比大小的.但整除关系一般说来不是全序关系,如集合$\{1,2,3\}$上的整除关系就不是全序关系,因为2和3不可比.
利用偏序关系的自反性、反对称性和传递性可以简化一个偏序关系的关系图,得到偏序集的哈斯图.为了说明哈斯图的画法,首先定义偏序集中顶点的覆盖关系.
定义$7.23$设$\langleA,\leqslant>$为偏序集,$\forallx,y\inA$,如果$x<y$且不存在$z\inA$使得$x<z<y$,则称$y$覆盖$x$.例如$\{1,2,4,6\}$集合上的整除关系,有2覆盖1,4和6都覆盖2.但4不覆盖1,因为有$1<2$$<4.6$也不覆盖4,因为$4<6$不成立.
在画偏序集$\langleA,\leqslant>$的哈斯图时,首先适当排列顶点的顺序使得:$\forallx,y\inA$,若$x<y$,则将$x$画在$y$的下方.对于$A$中的两个不同元素$x$和$y$,如果$y$覆盖$x$,就用一条线段连接$x$和$y$.
解两个哈斯图如图$7.7$所示.
例$7.18$已知偏序集$\langleA,R>$的哈斯图如图$7.8$所示,试求出集合$A$和关系$R$的表达式.
下面考臣偏序集中的一些特硃元孝。
从以上定义可以看出,最小元与极小元是不一样的.最小元是$B$中最小的元素,它与$B$中其他元素都可比;而极小元不一定与$B$中元素都可比,只要没有比它小的元素,它就是极小元.对于有穷集$B$,极小元一定存在,但最小元不一定存在.最小元如果存在,一定是唯一的,但极小元可能有多个.如果$B$中只有一个极小元,则它一定是$B$的最小元.类似地,极大元与最大元也有这种区别.
例$7.19$设偏序集$<A$,$\leqslant>$如图$7.8$所示,求$A$的极小元、最小元、极大元和最大元.
没有最小元与最大元.
(3)偏序集$\left\langleA,R_{\subsetneq}>\right.$中极大元和极小元的一般形式是什么?并说明理由.
考察幂集$P(X)$的哈斯图,最底层的顶点是空集,记作第0层.由底向上,第1层是单元集,第2层是二元子集,$\cdots$,由$|X|=n$,则第$n-1$层是$X$的$n-1$元子集,第$n$层,也就是最高层只有一个顶点$X$.偏序集$\left\langleA,R_{\varsigma}\right\rangle$与$\left\langleP(X),R_{\varsigma}\right\rangle$相比,恰好缺少第0层与第$n$层(因为$X$是$n$元集).因此$\left\langleA,R_{\subseteq}\right\rangle$的极小元就是$X$的所有单元集,即$\{x\},x\inX$;而极大元恰好比$X$少一个元素,即$X-\{x\},x\inX$.
(3)令$C=\{y\midy$为$B$的上界$\}$,则称$C$的最小元为$B$的最小上界或上:知识点:偏序关系确界.
(4)令$D=\{y\midy$为$B$的下界$\}$,则称$D$的最大元为$B$的最大下界或下确界.
由以上定义可知,$B$的最小元一定是$B$的下界,同时也是$B$的最大下界.同理,$B$的最大元一定是$B$的上界,同时也是$B$的最小上界.但反过来不一定正确,$B$的下界不一定是$B$的最小元,因为它可能不是$B$中的元素;$B$的上界也不一定是$B$的最大元.
$B$的上界、下界、最小上界、最大下界都可能不存在.如果存在,最小上界与最大下界是唯一的.
考虑图$7.8$中的偏序集.令$B=\{b,c,d\}$,则$B$的下界和最大下界都不存在,上界有$d$和$f$,最小上界为$d$.
偏序关系广泛存在于实际问题中,调度问题就是典型的实例.一般性的调度问题可以描述如下.
给定有穷的任务集$T$和$m$台相同的机器,$T$上存在偏序关系$\leqslant$,如果$t_{1}<t_{2}$,那么任务$t_{1}$完成以后$t_{2}$才能开始工作.$\forallt\inT,l(t)$表示完成任务$t$所需要的时间,$d(t)$表示任务$t$的截止时间,$l(t),d(t)\in\mathbf{Z}^{+}$.设开始时间为$0,\sigma:T\rightarrow\{0,1,\cdots\}$表示对任务集$T$的一个调度方案,其中$\sigma(t)$表示任务$t$的开始时间.$D=\max\{\sigma(t)+l(t)\midt\inT\}$表示完成所有任务的最终时间.假设每项任务都可以安排在任何一台机器上进行加工,如果$\sigma$满足下述3个条件,则称$T$为可行调度：
条件(1)表示每项任务都要在截止时间之前完成,条件(2)表示任何时刻同时工作的机器台数不超过$m$,条件(3)表示任务安排必须满足任务集的偏序约束.求使得$D$最小的可行调度.
例$7.21$设$m=2,T=\left\{t_{1},t_{2},\cdots,t_{6}\right\}$,每项任务的截止时间都等于7.去掉自反成分,$T$中的偏序约束如图$7.9$所示,每个任务结点中的数字表示完成该任务所用的时间.图中给出了两个可行的调度方案,其中$D=5$的方案是最优的方案,因为根据$t_{1},t_{2}$和$t_{4}$的顺序关系,完成所有的任务至少需要5个单位的时间.\\
对于一般性的调度问题,目前还没找到好的算法.如果只有一台机器,并且每项任务的截止时间没有限制,那么问题将简化很多.对于这种问题可以使用拓扑排序给出调度方案.所谓拓扑排序,就是将原来的偏序集$\left\langleA,R>\right.$扩展成一个对应的全序集$\left\langleA,R^{\prime}>\right.$,忽略关系$R^{\prime}$的自反性部分得到拓扑排序的序关系$T$.因此有$R-I_{A}\subseteqT$.图$7.10$给出了一个偏序集的哈斯图和两个不同的拓扑排序的结果,出现多个结果的原因是:在扩展成全序关系时,原来偏序集中不可比的元素之间的次序可以任意确定.
{习题$七$}
设$A,B,C,D$是任意集合，
(2)下列等式中哪些成立?哪些不成立?对于成立的给出证明,对于不成立的举一反例.
判断下述命题的真假,如果为真,给出证明;如果为假,给出反例.\\
列出从集合$A=\{1,2\}$到$B=\{1\mid$的所有的二元关系.
列出集合$A=\{2,3,4\}$上的恒等关系$I_{A}$、全域关系$E_{A}$小于等于关系$L_{A}$和整除关系$D_{A}$.
列出集合
上的包含关系.
对于下面每个小题,确定哪些有序对属于给定的关系.
$R_{i}$是$X$上的二元关系,对于$x\inX$定义集合
给出$R$的关系矩阵和关系图.
讽
设
设
设$R_{1}$和$R_{2}$为$A$上的关系,证明:
说明$R$具有哪些性质并说明理由.
(1)画出$R$的关系图
（2）说明$R$的性质.
设$A=\{1,2,3\}$.图$7.11$给出了12种$A$上的关系,对于每种关系写出相应的关系矩阵,并说明它所具有的性质.
请看表$7.2$,试对表中打“V"部分的命题给出证明,对打“$\times$”部分的命题举出反例.
设$R$的关系图如图$7.12$所示,试给出$r(R),s(R)$和$t(R)$的关系图.
（3）求$R$的传递闭包.
对于给定的$A$和$R$,判䉼$R$是否为$A$上的等价关系.
画出$R$的关系图,并求出$A$中各元素的等价类.
(1)证明$R$是$A\timesA$上的等价关系.
(2)确定由$R$引起的对$A\timesA$的划分.
（1）给出$R^{*}$的关系矩阵.
设$R$为$A$上的自反和传递的关系,证明$R\capR^{-1}$是$A$上的等价关系.
（1）证明$R$为等价关系.
(1)证明$R$为等价关系;
(2)求$R$导出的划分.
设$R$是$A$上的自反和传递关系,如下定义$A$上的关系$T$,使得$\forallx,y\inA$,
证明$T$是$A$上的等价关系.
对于下列集合与整除关系画出哈斯图.
针对图$7.14$中的每个哈斯图,写出集合以及偏序关系的表达式.
图$7.15$是两个偏序集$<A,R_{\varangle}>$的哈斯图.分别写出集合$A$和偏序关系$R_{<}$的集合表达式.
分别画出下列各偏序集$<A,R_{<}>$的哈斯图,并找出$A$的极大元、极小元、最大元和最小元.
在偏序集$<A,\leqslant>$中求$B$的上界、下界、最小上界和最大下界.
设$<A,R>$和$\langleB,S>$为偏序集，在集合$A\timesB$上定义关系$T$如下：
证明$T$为$A\timesB$上的偏序关系.
(1)证明$S$也是$A$上的偏序关系.
(2)如果$R$是整数集合上的小于等于关系,那么$S$是什么关系?如果$R$是正整数集合上的整除关系,那么$S$是什么关系?
（3）偏序集$<A,R>$和$<A,S>$中的极大元、极小元、最大元、最小元等之间有什么关系?
一个项目$P$由12个任务构成,任务之间的顺序关系如图$7.16$所示.任务$i$到$j$有一条边表示任务$i$必须安排在$j$之前完成.试给出$P$的一个拓扑排序.
{第八章
|倸1籹}
{1函数的定义与性质}
函数是一种特殊的二元关系.
判断它们是否为函数.
由于函数是集合,可以用集合相等来定义函数的相等.
定义$8.2$设$F,G$为函数,则
由以上定义可知,如果两个函数$F$和$G$相等,一定满足下面两个条件:
当$A$或$B$中至少有一个集合是空集时,可以分成下面3种情况.
在这里注意区别函数的值和像两个不同的概念.函数值$f(x)\inB$,而像$f\left(A_{1}\right)\subseteqB$.
知识点:函数定义
下面讨论函数的性质.
(3)若$f:A\rightarrowB$既是满射又是单射的,则称$f:A\rightarrowB$是双射的(或一一映像).
例$8.4$判断下列函数是否为单射、满射、双射的.为什么?
解(1)$f:\mathbf{R}\rightarrow\mathbf{R},f(x)=-x^{2}+2x-1$是开口向下的抛物线,不是单调函数,并且在$x=1$点取得极大值0.因此它既不是单射也不是满射的.
例8.5对于以下各题给定的$A,B$和$f$,判断是否构成函数$f:A\rightarrowB$.如果是,说明$f:A\rightarrowB$是否为单射、满射和双射的.并根据要求进行计算.
例$8.6$对于给定的集合$A$和$B$,构造双射函数$f:A\rightarrowB$.
(3)将$\mathbf{Z}$中元素依下列顺序排列并与$\mathbf{N}$中元素对应:
则这种对应所表示的函数是
下面定义一些常用的函数.
(2)称$A$上的恒等关系$I_{A}$为$A$上的恒等函数.对所有的$x\inA$都有$I_{A}(x)=x$.
(5)设$R$是$A$上的等价关系,令
称$g$是从$A$到商集$A/R$的自然映射.
大家都很熟悉实数集$\mathbf{R}$上的函数$f:\mathbf{R}\rightarrow\mathbf{R},f(x)=x+1$,它是单调递增的且是严格单调递增的,但它只是上面定义中的单调函数的特例.而在上面的定义中,单调函数可以定义于一般的偏
再谈谈集合的特征函数.设$A$为集合,不难证明,$A$的每一个子集$A^{\prime}$都对应于一个特征函数,不同的子集则对应于不同的特征函数.例如$A=\{a,b,c\}$,则有
由于$A$的子集与特征函数的对应关系,可以用特征函数来标记$A$的不同的子集.
下面讨论自然映射$g$.给定集合$A$和$A$上的等价关系$R$,就可以确定一个自然映射$g:A\rightarrowA/R$.例如$A=\{1,2,3\},R=\{<1,2>,<2,1\rangle\}\cupI_{A}$是$A$上的等价关系,那么有
不同的等价关系将确定不同的自然映射,其中恒等关系所确定的自然映射是双射,而其他的自然映射一般说来只是满射.
最后介绍一类定义在自然数集合上的函数.许多实际问题都需要用计算机求解,在求解过程中首先需要将实际问题用形式化的方法表述出来,然后要选择一个好的算法.算法的好坏取决于运行效率和占用资源的多少,一般说来,效率较高、占用资源较少的算法就是比较好的算法.估计算法效率的方法是:选择一个基本运算,对于给定规模为$n$的输人,计算算法所做基本运算的次数,将这个次数表示为输人规模的函数.比如排序和检索问题的基本运算是比较,矩阵乘法的基本运算是元素的相乘.容易看到,对于规模为$n$的不同输人,一个算法所做的基本运算次数是不同的.例如检索问题,设$L=\left\{x_{1},x_{2},\cdots,x_{n}\right\}$是$n$个不同的数构成的有序数组,从$L$中检索给定的元素$x$.如果$x$在$L$中,输出$x$在$L$中的位置$i$;如果$x$不在$L$中,输出0.这个问题的基本运算是比较运算,输人规模是$n$,算法采用顺序比较的方法.如果给定数组$L$和元素$x$,恰好$x=x_{1}$,那么只需要1次比较,算法就可以输出结果;如果$x$不在$L$中,必须通过$n$次比较才能输出0.为了解决这个问题,一般只估计算法在最坏情况下所做基本运算的次数和平均情况下所做基本运算的次数,通常将最坏情况下的基本运算次数记为$W(n)$,平均情况下的基本运算次数记为$A(n)$,分别称为算法最坏情况下和平均情况下的复杂度.显然,$W(n)$和$A(n)$都是正整数集合或自然数集合上的函数.例如顺序搜索算法最坏情况下的复杂度函数$W(n)=n$.
设$f$是定义在自然数集合上的函数,当$n$很大时,函数值$f(n)$的增长取决于函数的阶.函数的阶越高,增长得越快,算法的复杂度就越高,同时也意味着算法的效率越低.算法分析的主要工作就是估计复杂度函数的阶.复杂度函数的阶可以是$n,n^{2},n\logn,\logn,2^{n}$等,这里的$\logn$是$\log_{2}n$的简写.如果这个函数是指数函数,那么它随着$n$的增加将增长得非常快.当$n$比较大时,即使最先进的计算机也不可能在允许的时间内求解,这就是所谓的“指数爆炸”问题.
在算法分析中,为了表示函数的阶,经常使用下述符号.
在算法设计中分治策略是经常采用的设计技术，它的基本思想是:设问题的输人规模为$n$.用某种方法把原问题分解为$k$个规模相等的子问题.这些子问题互相独立,除了输人规模减小以外,其他都与原问题相同.使用同样的算法分别求解这些子问题,然后把子问题的解组合起来就得到了原问题的解.这种方法称为分治策略.例如,上面的检索问题就可以采用二分检索算法.它的基本思想就是把$x$和中间的数比较,如果$x$等于这个数,那么算法结束;如果$x$大于这个数,下面只需搜索后半个数组;如果$x$小于这个数,那么只需搜索前半个数组.不管怎样,经过一次比较,数组的规模将缩小一半.忽略算法的细节处理,可以用伪码描述如下.
{算法二分法搜索}
输人:数组$L$,下标从1到$n$;数$x$
根据前面的分析,经过一次比较,问题规模将至少减半.如果原来的问题规模$n=2^{k}$,那么至多经过$k$次比较,问题规模就可以减少到1.所以复杂度函数$W(n)$的阶为$\Theta(k)=\Theta(\logn)$.不难看出,在最坏情况下的复杂度函数,对于顺序搜索算法为$\Theta(n)$,而对于二分搜索算法为$\Theta(\logn)$.显然二分搜索算法的复杂度函数的阶更低,是效率高的算法.
例$8.7$下面是一些常用函数,它们是按照阶从高到低的顺序排列的.
{2函数的复合与反函数}
函数是一种特殊的二元关系,函数的复合就是关系的右复合.一切和关系右复合有关的定理都适用于函数的复合.下面着重考虑函数在复合中的特有性质.
定理$8.1$设$F,G$是函数,则$F\circG$也是函数,且满足
证因为$F,G$是关系,所以$F\circG$也是关系.
所以$F\circG$为函数.
利用这个定理不难得到下面两个推论.
下面两个定理给出了函数复合运算的性质,由于篇幅所限,略去相关的证明.
则有
不难看出,$f:A\rightarrowB$和$f\circg:A\rightarrowC$都是单射的,但$g:B\rightarrowC$不是单射的.关于满射的情况也可以给出类似的反例.
定理$8.3$说明了恒等函数在函数复合中的特点,特别对于$f\inA^{A}$有$f\circI_{A}=I_{A}\circf=f$.
下面考虑函数的逆运算.
任给函数$F$,它的逆$f^{-1}$不一定是函数,只是一个二元关系.例如
则有
显然,$F^{-1}$不是函数.因为对于$y_{1}\in\operatorname{dom}F^{-1}$有$x_{1}$和$x_{2}$两个值与之对应,破坏了函数的单值性.
任给单射函数$f:A\rightarrowB$,则$f^{-1}$是函数,且是从$\operatorname{ran}f$到$A$的双射函数,但不一定是从$B$到$A$的双射函数.因为对于某些$y\inB-\operatorname{ran}f,f^{-1}$没有值与之对应.
证先证明$f^{-1}$是从$B$到$A$的函数$f^{-1}:B\rightarrowA$.因为$f$是函数,所以$f^{-1}$是关系,且由定理$7.1$得
成立,则由逆的定义有
根据$f$的单射性可得$y_{1}=y_{2}$,从而证明了$f^{-1}$是函数.综上所述,$f^{-1}:B\rightarrowA$是满射的函数.
下面讨论反函数的性质.证明方法与前面类似,不再策述,这里仅给出结果.
定理8.5告诉我们,对于双射函数$f:A\rightarrowA$,有
求$f\circg,g\circf$.如果$f$和$g$存在反函数,求出它们的反函数.
解
{3双射函数与集合的基数}
这一节将利用双射函数来讨论集合的势.通俗地说,集合的势是量度集合所含元素多少的量.集合的势越大,所含的元素越多.
定义$8.8$设$A,B$是集合,如果存在着从$A$到$B$的双射函数,就称$A$和$B$是等势的,记作$A\approxB$,如果$A$不与$B$等势,则记作$A\neqB$.
下面给出一些等势集合的例子.
(2)$\mathbf{N}\times\mathbf{N}\approx\mathbf{N}$.为建立$\mathbf{N}\times\mathbf{N}$到$\mathbf{N}$的双射函数,只需把$\mathbf{N}\times\mathbf{N}$中所有的元素排成一个有序图形,如图$8.1$所示.$\mathbf{N}\times\mathbf{N}$中的元素恰好是坐标平面上第一象限(含坐标轴在内)中所有整数坐标的点.如果能够找到“数遍”这些点的方法,这个计数过程就是建立$\mathbf{N}\times\mathbf{N}$到$\mathbf{N}$的双射函数的过程.按照图中箭头所标明的顺序,从$<0,0>$开始数起,依次得到下面的序列:
设$\langlem,n\rangle$是图上的一个点,并且它所对应的自然数是$k$.考察$m,n$和$k$之间的关系.首先计数$<m,n>$点所在斜线下方的平面上所有的点数,是
然后计数$\langlem,n>$所在的斜线上按照箭头标明的顺序位于$<m,n>$点之前的点数,是$m$.因此$<m,n>$点是第$\frac{(m+n+1)(m+n)}{2}+m+1$个点.这就得到
(3)$\mathbf{N}\approx\mathbf{Q}$.为建立$\mathbf{N}$到$\mathbf{Q}$的双射函数,先把所有形式为$p/q(p,q$为整数且$q>0)$的数排成一张表.显然所有的有理数都在这张表内.如图$8.2$所示,以$0/1$作为第一个数,按照箭头规定的顺序可以“数遍”表中所有的数.但是这个计数过程并没有建立$\mathbf{N}$到$\mathbf{Q}$的双射,因为同一个有理数可能被多次数到.例如$1/1,2/2,3/3$等都是有理数1.为此规定，在计数过程中必须跳过第二次以及以后各次所遇到的同一个有理数.如$1/1$被计数,那么$2/2,3/3$等都要被跳过.表中数$p/q$上方的方括号内标明了这个有理数所对应的计数.这样就可以定义双射函数$f:\mathbf{N}\rightarrow\mathbf{Q}$,其中$f(n)$是$[n]$下方的有理数.从而证明了$\mathbf{N}\approx\mathbf{Q}$.
为构造$[0,1]$到$(0,1)$的双射函数,必须要解决端点0和1的对应问题.为此,选择一个无限序列:
如下构造一一对应:
显然这个对应是双射的.区间$[0,1]$中其余的数则自己对应自己,从而得到了双射函数$f:[0,1]\rightarrow$$(0,1)$.将$f$的对应法则形式化就是
知㛣点.双射函通过以上证明可以得到$[0,1]\approx(0,1)$.
数与集命等执
只需找到一个过点$(0,a)$和$(1,b)$的单调函数即可.显然一次函数是最简单的.由解析几何的知识不难得到
以上已经给出了若干个等势的集合.一般说来,等势具有下面的性质:自反性、对称性和传递性.
定理$8.6$设$A,B,C$是任意集合,有
证明留作练习.
根据前面的分析和这个定理可以得到下面的结果.
而后一个结果可以进一步强化成:任何的实数区间(包括开区间、闭区间以及半开半闭的区间)都与实数集合$\mathbf{R}$等势.那么$\mathbf{N}$与$\mathbf{R}$是否等势呢?请见下面的定理.
义.下面就来做这件事.
定义8.9(1)设$A,B$是集合,如果存在从$A$到$B$的单射函数,就称$B$优势于$A$,记作$A\leqslantB$.如果$B$不是优势于$A$,则记作$A\leqslant\cdotB$.
不加证明,我们给出下述与优势有关的性质.
定理$8.8$设$A,B,C$是任意的集合,则
总结前边的讨论,有
其中$[a,b],(c,d)$代表任意的实数闭区间和开区间.
上面只是给出了集合的等势与优势的概念,表示集合势的大小的量称作集合的基数.集合$A$的基数记作card$A$.最简单的集合是有穷集,有穷集含有的元素个数是自然数,可以用它表示集合的基数.自然数集合$\mathbf{N}$和实数集$\mathbf{R}$的基数是什么?请见下面的定义.
定义8.10(1)对于有穷集合$A$,称$A$的元素个数为$A$的基数,记作$\operatorname{card}A$(或$|A|)$.
（2）自然数集合$\mathbf{N}$的基数记作$\aleph_{0}$(读作阿列夫零)，即
下面定义基数的相等和大小.
定义8.11设$A,B$为集合,则
根据上一节关于势的讨论不难得到:
不难看出,两个集合相比,优势集合的基数大.由于对任何集合$A$都满足$A\precP(A)$,所以有
这说明不存在最大的基数.将已知的基数按从小到大的顺序排列就得到:
其中$0,1,2,\cdots,n,\cdots$恰好是全体自然数,是有穷集合的基数,也称作有穷基数,而$\aleph_{0},\kappa,\cdots$是无穷集合的基数,也称作无穷基数,$\aleph_{0}$是最小的无穷基数,而$k$后面还有更大的基数,如$\operatorname{card}P(\mathbf{R})$等.
在可计算性理论和程序语义中经常要考虑函数是否可计算、程序是否终止的问题,就会用到“可数”的概念.下面给出可数集的定义.
例如$\{a,b,c\},\mathbf{N}$,整数集$\mathbf{Z}$,有理数集$\mathbf{Q}$,以及$\mathbf{N}\times\mathbf{N}$等都是可数集,但实数集$\mathbf{R}$不是可数集,与$\mathbf{R}$等势的集合也不是可数集.对于任何可数集,它的元素都可以排列成一个有序图形.换句话说,都可以找到一个“数遍”集合中全体元素的顺序.回顾前边的可数集,特别是无穷可数集,都是
用这种方法来证明的.
关于可数集有下面的命题.
可数集的任何子集都是可数集.
两个可数集的并是可数集.
两个可数集的笛卡儿积是可数集.
可数个可数集的并仍是可数集.
无穷集$A$的幂集$P(A)$不是可数集.
例8.10求下列集合的基数.
例8.11设$A,B$为集合,且
定义函数
给定函数$f$和集合$A,B$如下.\\
对以上每一组$f$和$A,B$,分别回答以下问题.
(a)$f$是不是满射、单射和双射的?如果$f$是双射的,求$f$的反函数.
判断下列函数中哪些是满射的,哪些是单射的,哪些是双射的.
(1)$f$是从$X$到$Y$的二元关系,但不是从$X$到$Y$的函数.
(2)$f$是从$X$到$Y$的函数,但不是满射的,也不是单射的.
(3)$f$是从$X$到$Y$的满射,但不是单射的.
(4)$f$是从$X$到$Y$的双射.
对于给定的$A,B$和$f$,判断$f$是否为从$A$到$B$的函数$f:A\rightarrowB$.如果是,说明$f$是否为单射、满射、双射的.\\
(1)给出一个函数$f:A\rightarrowB$,使得$f$不是单射的,也不是满射的.
(2)给出一个函数$f:A\rightarrowB$,使得$f$不是单射的,但是满射的.
(3)能侈给出一个函数$f:A\rightarrowB$,使得$f$是单射但不是满射的吗?
（4）设$|A|=m,|B|=n$,分别说明存在单射、满射、双射函数$f:A\rightarrowB$的条件.
给出自然数集$\mathbf{N}$上的函数$f$,使得
（1）$f$是单射的,但不是满射的.
(2)$f$是满射的,但不是单射的.
设$A$是$n$元集$(n\geqslant1)$,则从$A$到$A$的函数中有多少个双射函数?多少个单射函数?
（1）说明$f$是否为单射、满射、双射的.
确定$f$是否为从$X$到$Y$的函数,并对$f:X\rightarrowY$指出哪些是单射,哪些是满射,哪些是双射的.
设$A$为非空集合,$R$为$A$上的等价关系,$g:A\rightarrowA/R$为自然映射.
（1）设$n$为给定自然数,$R$为整数集合上的模$n$相等关系,求$g(2),g(0)$.
（2）说明$g$的性质（单射、满射、双射).
(3)在什么条件下,$g$为双射函数.
设$A=\{a,b,c\},R$为$A$上的等价关系,且
(2)问$g\circf$和$f\circg$是否为单射、满射、双射的.
(3)$f,g,h$中哪些函数有反函数?如果有,求出这些反函数.
(2)说明$f\circg$是否为单射、满射、双射的.
(1)说明$f$是否为单射和满射并说明理由;
(2)$f$的反函数是否存在,如果存在,求出$f$的反函数;
对于以下集合$A$和$B$,构造从$A$到$B$的双射函数.
按照阶从低到高的次序排列下列函数,如果$f(n)$与$g(n)$的阶相等,则表示为$f(n)=\Theta(g(n))$.
证明定理8.6.
找出3个不同的$\mathbf{N}$的真子集$A,B,C$使得
计算下列集合的基数.
(6)平面上所有的圆心在$x$轴上的单位圆的集合
{图论}
{第三部分}
{第空
图的基本概念}
在日常生活、生产活动及科学研究中,人们常用点表示事物,用点与点之间是否有连线表示事物之间是否有某种关系,这样构成的图形就是图论中的图.其实,集合论中二元关系的关系图都是图论中的图.在这些图中,人们只关心点之间是否有连线,而不关心点的位置,以及连线的曲直,这是图论中的图与几何学中的图形的本质区别.为了给出图论中图的抽象而严格的数学定义,先给出无序积的概念.
设$A,B$为任意的两个集合,称
为$A$与$B$的无序积,记作$A\&B$.
为方便起见,将无序积中的无序对$\{a,b\}$,记为$(a,b)$,并且允许$a=b$.需要指出的是,无论$a$,$b$是否相等,均有$(a,b)=(b,a)$,因而$A\&B=B\&A$.
定义$9.1$一个无向图$G$是一个有序的二元组$\langleV,E\rangle$,其中
（1）$V$是一个非空有穷集,称为顶点集,其元素称为顶点或结点.(2)$E$是无序积$V\&V$的有穷多重子集(1),称为边集,其元素称为无向边,简称边.定义$9.2$一个有向图$D$是一个有序的二元组$\langleV,E\rangle$,其中
(2)$E$是笛卡儿积$V\timesV$的有穷多重子集,称为边集,其元素称为有向边,简称边.
通常用图形来表示无向图和有向图:用小圆圈(或实心点)表示顶点,用顶点之间的连线表示无向边,用带箭头的连线表示有向边.
画出$G$与$D$的图形.
解图9.1中(a),(b)分别给出了无向图$G$和有向图$D$的图形.
与定义$9.1$和$9.2$有关的还有下面一些概念和规定.
无向图和有向图统称为图,但有时也常把无向图简称为图.通常用$G$表示无向图,$D$表示有向图,有时也用$G$泛指图(无向的或有向的).用$V(G),E(G)$分别表示$G$的顶点集和边集,$|V(G)|,|E(G)|$分别是$G$的顶点数和边数.有向图也有类似的符号.
顶点数称作图的阶,$n$个顶点的图称为$n$阶图.
一条边也没有的图称为零图.$n$阶零图记作$N_{n}$.一阶零图$N_{1}$称为平凡图.平凡图只有一个顶点,没有边.
在图的定义中规定顶点集$V$为非空集,但在图的运算中可能产生顶点集为空集的运算结果,为此称顶点集为空集的图为空图,并将空图记为$\varnothing$.
当用图形表示图的时候,如果给每一个顶点和每一条边起一个名字(字母或数字,当然字
(1)元素可以重复出现的集合称为$夕$重集,或称多重集合.某元素重复出现的次数称为该元素的重复度.例如,在多重集$\backslasha,a,b,b$,$b,c,d\mid$中,$a,b,c,d$的重复度分别为$2,3,1,1$.从多重集的角度考虑,无元素重复出现的集合是各元素重复度均为1的多重集.母还可以带下标),则称这样的图为标定图,否则称为非标定图.
将有向图的各条有向边改成无向边后所得到的无向图称为这个有向图的基图.
若两个顶点$v_{i}$与$v_{j}$之间有一条边连接,则称这两个顶点相邻.若两条边至少有一个公共端点,则称这两条边相邻.
若两个顶点之间有一条有向边,则称这两个顶点相邻.若两条边中一条边的终点是另一条边的始点,则称这两条边相邻.
图(无向的或有向的)中没有边关联的顶点称为孤立点.
定义$9.3$在无向图中,如果关联一对顶点的无向边多于1条,则称这些边为平行边,平行边的条数称为重数.在有向图中,如果关联一对顶点的有向边多于1条,并且这些边的始点与终点相同(也就是它们的方向相同),则称这些边为平行边.含平行边的图称为多重图,既不含平行边也不含环的图称为简单图.
定义$9.4$设$G=\langleV,E\rangle$为无向图,$\forallv\inV$,称$v$作为边的端点的次数为$v$的度数,简称为度,记作$d_{G}(v)$.在不发生混淆时,略去下标$G$,简记为$d(v)$.设$D=\langleV,E>$为有向图,$\forallv\inV$,称$v$作为边的始点的次数为$v$的出度,记作$d_{D}^{+}(v)$,简记作$d^{+}(v)$.称$v$作为边的终点的次数为$v$的入度,记作$d_{D}^{-}(v)$,简记作$d^{-}(v)$.称$d^{-}(v)+d^{+}(v)$为$v$的度数,记作$d_{D}(v)$,简记作$d(v)$.
注意:在无向图中,顶点$v$上的环以$v$作两次端点.在有向图中,顶点$v$上的环以$v$作一次始点和一次终点,共作两次端点.
在无向图$G$中,令
分别称为$G$的最大度和最小度.可类似定义有向图$D$的最大度$\Delta(D)$、最小度$\delta(D)$和最大出度$\Delta^{+}(D)$、最小出度$\delta^{+}(D)$、最大人度$\Delta^{-}(D)$、最小人度$\delta^{-}(D)$.
另外,称度数为1的顶点为悬挂顶点,与它关联的边称为悬挂边.度为偶数(奇数)的顶点称为偶度(奇度)顶点.
下述定理是欧拉于1736年给出的,称为握手定理,是图论的基本定理.
定理$9.1$在任何无向图中,所有顶点的度数之和等于边数的2倍.
证图中每条边(包括环)均有两个端点,所以在计算各顶点度数之和时,每条边均提供2度.$m$条边,共提供$2m$度.
定理$9.2$在任何有向图中,所有顶点的度数之和等于边数的2倍;所有顶点的人度之和等于所有顶点的出度之和,都等于边数.
本定理的证明类似于定理9.1.
推论任何图(无向的或有向的)中,奇度顶点的个数是偶数.
证由握手定理,所有顶点的度数之和是偶数,而偶度顶点的度数之和是偶数,故奇度顶点的度数之和也是偶数.奇数个奇数之和是奇数,所以奇度顶点的个数必是偶数.
知识点,图的基本:例$9.2$(1)每个顶点的度数都为5的8阶无向图有几条边?
概念与握手定理$\quad$(2)10条边的无向图最多有几个度数大于等于3的顶点?
解(1)顶点的度数之和为$5\times8=40$,由握手定理,有$40/2=20$条边.
(2)设有$n$个度数大于等于3的顶点,$3n\leqslant2\times10,n\leqslant20/3$,故最多有6个度数大于等于3的顶点.
下述定理是显然的.
在图$9.2$中,(a)与(b)同构,这只需把(a)中的顶点$a,b,c,d,e,f$依次对应到(b)中的1,2,$3,4,5,6$即可.而(c)与它们不同构.(c)是两个分离的三角形.(d),(e),(f)彼此之间都不同构.
在图$9.3$中,(a),(b),(c)是4阶3条边的所有非同构的简单无向图,(d),(e),(f),(g)是3阶2条边的所有非同构的有向简单图.
图之间的同构关系“®”构成全体图集合上的二元关系.它是等价关系,具有自反性、对称性和传递性.在这个等价关系的每个等价类中的图在同构意义下都可以看成一个图.在图$9.2$中,(a)和(b)可以看成一个图.在图$9.4$中,(a),(b),(c)可以看成一个图,它们都是彼得松图.至今
还没有找到判断两个图是否同构的、便于检查的充分必要条件.显然,阶数相同、边数相同、顶点度数相同等都是必要条件,但都不是充分条件.
若图$G\cong\bar{G}$,则称$G$是自补图.在图$9.3$中,(b)与(c)互为补图,(a)是自补图.
定义$9.7$设$G$为$n$阶无向简单图,若$G$中每个顶点均与其余的$n-1$个顶点相邻,则称$G$为$n$阶无向完全图,简称$n$阶完全图,记作$K_{n}(n\geqslant1)$.
设$D$为$n$阶有向简单图,若$D$中每个顶点都邻接到其余的$n-1$个顶点,则称$D$是$n$阶有向完全图.
设$D$为$n$阶有向简单图,若$D$的基图为$n$阶无向完全图$K_{n}$,则称$D$是$n$阶竞赛图.
由定义可知,$n$阶零图是0-正则图,$n$阶无向完全图是$(n-1)$-正则图,彼得松图是3-正则图.由握手定理可知,$n$阶$k$-正则图中,边数$m=\frac{kn}{2}$,因而当$k$为奇数时,$n$必为偶数.
(2)设$v\inV$,用$G-v$表示从$G$中去掉$v$及所关联的一切边,称为删除顶点$v$.又设$V^{\prime}\subsetV$,用$G-V^{\prime}$表示从$G$中删除$V^{\prime}$中所有的顶点,称为删除$V^{\prime}$.
(3)设$e=(u,v)\inE$,用$G\backslashe$表示从$G$中删除$e$后,将$e$的两个端点$u,v$用一个新的顶点$w$(可以用$u$或$v$充当$w$)代替,并使$w$关联除$e$以外$u,v$关联的所有边,称为边$e$的收缩.
（4）设$u,v\inV(u,v$可能相邻，也可能不相邻),用$G\cup(u,v)$(或$G+(u,v))$表示在$u,v$之间加一条边$(u,v)$,称为加新边.
在收缩边和加新边过程中可能产生环和平行边.
(c)知识点:图的同构、
正则图与子图
{2通路与回路}
在图中,从一个顶点出发沿一条边到一个顶点,再沿一条边到一个顶点,如此经过若干步就得到一条通路.如果最后回到出发点就得到一条回路.通路与回路的定义如下.定义9.11设$G$为无向标定图,$\Gamma=v_{i_{0}}e_{j_{1}}v_{i_{1}}e_{j_{2}}\cdotse_{j_{i}}v_{i_{i}}$是$G$中顶点与边的交替序列,如果$v_{i_{i_{-1}}}$,$v_{i_{r}}$为$e_{j_{r}}$的端点,$r=1,2,\cdots,l$,则称$\Gamma$为$v_{i_{0}}$到$v_{i_{t}}$的通路,$v_{i_{0}},v_{i_{l}}$分别称为$\Gamma$的始点与终点,$\Gamma$中的边数称为它的长度.若又有$v_{i_{0}}=v_{i_{t}}$,则称$\Gamma$为回路.若$\Gamma$的所有边各异,则称$\Gamma$为简单通路.若又有$v_{i_{0}}=v_{i_{l}}$,则称$\Gamma$为简单回路.若所有顶点(除$v_{i_{0}}$与$v_{i_{l}}$可能相同外)各异,所有边也各异,则称$\Gamma$为初级通路或路径.若又有$v_{i_{0}}=v_{i_{i}}$,则称$\Gamma$为初级回路或圈.长度为奇数的圈称为奇圈,长度为偶数的圈称为偶圈.
注意,在初级通路与初级回路的定义中,将初级回路看成初级通路(路径)的特殊情况.但是在应用中,初级通路(路径)始点与终点通常都是不相同的.长为1的圈只能由一个环生成,长为2的圈只能由两条平行边生成,因而在简单无向图中,圈的长度至少为3.
另外,若$\Gamma$中有边重复出现,则称$\Gamma$为复杂通路.若又有$v_{i_{0}}=v_{i_{l}}$,则称$\Gamma$为复杂回路.
在有向图中,通路、回路及分类的定义与无向图中基本一样,只是要注意有向边方向的一致性.
根据定义,回路是通路的特殊情况;初级通路(回路)必是简单通路(回路),但反之不真.
在简单图中可以只用顶点序列表示通路(回路),写成$\Gamma=v_{i_{1}}v_{i_{2}}\cdotsv_{i_{i}}$.
定理$9.4$在$n$阶图$G$中,若从顶点$u$到$v(u\neqv)$存在通路,则从$u$到$v$存在长度小于等于$n-1$的通路.
推论在$n$阶图$G$中,若从顶点$u$到$v(u\neqv)$存在通路,则$u$到$v$一定存在长度小于等于$n-$1的初级通路(路径).
类似可证明下面的定理和推论.
定理$9.5$在$n$阶图$G$中,若存在$v$到自身的回路,则一定存在$v$到自身长度小于等于$n$的回路.
推论在$n$阶图$G$中,若存在$v$到自身的简单回路,则一定存在$v$到自身长度小于等于$n$的初级回路.
例$9.3$无向完全图$K_{n}(n\geqslant3)$中有几种非同构的圈?
解长度相同的圈都是同构的,因而只有长度不同的圈才是非同构的.易知$K_{n}(n\geqslant3)$中含长度为$3,4,\cdots,n$的圈,所以$K_{n}(n\geqslant3)$中有$n-2$种非同构的圈.
长度相同的圈都是同构的,因此在同构意义下给定长度的圈只有一个.在标定图中,圈表示成顶点和边的标记序列.只要两个圈的标记序列不同,就称这两个圈在定义意义下不同.
例$9.4$无向完全图$K_{3}$的顶点依次标定为$a,b,c$.在定义意义下$K_{3}$中有多少个不同的圈?
解在$K_{3}$中只有长为3的圈.在同构意义下,只有一个长为3的圈.但在定义意义下,不同起
点(终点)的圈是不同的,顶点间排列顺序不同的圈也看成是不同的,因而$K_{3}$中有
回路
下面介绍最短路径问题.设想有若干个城市,某些城市之间有直接到达的公路,现在要选择一条从A城到B城的最短的路.为此,可以用图表示这些城市和城市之间的公路.此外,还要在每一条边的旁边标上这条边所表示的公路的长度.这种在边的旁边标有数字的图称作带权图.
设$P$是$G$中的一条通路,$P$中所有边的权之和称为$P$的长度,记作$W(P)$.类似地,可定义回路$C$的长度$W(C)$.
设带权图$G=\langleV,E,W\rangle$(无向图或有向图),其中每一条边$e$的权$W(e)$为非负实数.$\forallu,v\inV$,当$u$和$v$连通$(u$可达$v)$时,称从$u$到$v$长度最短的路径为从$u$到$v$的最短路径,称其长度为从$u$到$v$的距离,记作$d(u,v)$.约定:$d(u,u)=0$;当$u$和$v$不连通$(u$不可达$v)$时,$d(u,v)=+\infty$.
最短路径问题:给定带权图$G=\langleV,E,W\rangle$及顶点$u$和$v$,其中每一条边$e$的权$W(e)$为非负实数,求从$u$到$v$的最短路径.
算法给出从起点$s$到每一点的最短路径.在计算过程中,赋予每一个顶点$v$一个标号$l(v)=$$\left(l_{1}(v),l_{2}(v)\right)$).标号分永久标号和临时标号.在$v$的永久标号$l(v)$中,$l_{2}(v)$是从$s$到$v$的距离,$l_{1}(v)$是$s$到$v$的最短路径上$v$的前一个顶点.当$l(v)$是临时标号时,$l_{1}(v)$和$l_{2}(v)$分别是当前从$s$经过永久标号的顶点到$v$的长度最短的路径上$v$的前一个顶点和这条路径的长度.
输出:$s$到$G$中每一顶点的最短路径及距离
for与$u$关联的临时标号的顶点$v$
计算结束时,对每一个顶点$u,d(s,u)=l_{2}(u)$,利用$l_{1}(v)$从$u$开始回溯找到从$s$到$u$的最短路径.
例$9.5$带权图$G$如图$9.8$所示,求从$v_{1}$到其余各点的最短路径和距离.
解用Dijkstra标号法求解,计算过程如表$9.1$所示.表中$*$表示永久标号,$**$表示这一步选中的永久标号,其余均是临时标号.
表9.1Dijkstra标号法求解过程
根据表$9.1$的最后一行,从$v_{1}$到其余各点的最短路径和距离如下.
{3图的连通性}
首先讨论无向图的连通性.
定义$9.13$设无向图$G=\langleV,E\rangle$,若$u,v\inV$之间存在通路,则称$u,v$是连通的,记作$u\simv$.规定:$\forallv\inV,v\simv$.若无向图$G$是平凡图或$G$中任何两个顶点都是连通的,则称$G$为连通图,否则称$G$为非连通图.
由定义不难看出,无向图中顶点之间的连通关系是$V$上的等价关系,具有自反性、对称性和传递性.
定义$9.14$设无向图$G=\langleV,E\rangle,V_{i}$是$V$关于顶点之间的连通关系的一个等价类,称导出子图$G\left[V_{i}\right]$为$G$的一个连通分支.$G$的连通分支数记为$p(G)$.
由定义,若$G$为连通图,则$p(G)=1$;若$G$为非连通图,则$p(G)\geqslant2$.在所有的$n$阶无向图中,$n$阶零图是连通分支最多的,$p\left(N_{n}\right)=n$.
下面讨论无向图的连通程度.
定义$9.17$设$G$为无向连通图且不是完全图,则称
为$G$的点连通度,简称连通度.$\kappa(G)$有时简记为$\kappa$.规定完全图$K_{n}(n\geqslant1)$的点连通度为$n-1$,非连通图的点连通度为0.又若$\kappa(G)\geqslantk$,则称$G$是$k-$连通图,$k$为非负整数.
图9.9中图的点连通度为1,此图为1-连通图,$K_{5}$的点连通度$\kappa=4$,所以$K_{5}$是1-连通图,2-连通图,3-连通图,4-连通图.图$9.7$中,(a)图的点连通度$\kappa=2$,所以它是2-连通图,也是1-连通图.若$G$是$k$-连通图$(k\geqslant1)$,则在$G$中删除任何$k-1$个顶点后,所得图一定还是连通的.
定义$9.18$设$G$是无向连通图,称
为$G$的边连通度.$\lambda(G)$有时简记为$\lambda$.规定非连通图的边连通度为0.又若$\lambda(G)\geqslantr$,则称$G$是$r$边-连通图.
若$G$是$r$边-连通图,则在$G$中任意删除$r-1$条边后,所得图依然是连通的.完全图$K_{n}$的边连通度为$n-1$,因而$K_{n}$是$r$边-连通图,$0\leqslantr\leqslantn-1$.图$9.9$中图的边连通度$\lambda=1$,它只能是1边-连通图.
例$9.6$求图9.10所示各图的点连通度和边连通度,并指出它们各是几连通图及几边连通图.
（b）是$1,2,3$-连通图,1,2,3边一连通图.
(c)是1，2-连通图,1,2边一连通图.
（d）是1-连通㠽,1边一连通图.
（f）是1,2-连通图,1,2边一连通图.
（g）是0-连通图,0边-连通图.
（h）是0-连通图,0边一连通图.
根捃定义不难证明点连通度和边连通度有下述性质.
定理9.6对于住何无向图$G$,有
（2）在两个$K_{n}(n\geqslant4)$之间放置一个顶点$v$,并连接$v$与苇一个$K$的两个顶点.所得简单图有一个割点,$\kappa=1$.它没有桥,但有两条边组成的边害集,所以$\lambda=2.$当$n=4$时,$\delta=3$,当$n\geqslant5$时,$\delta=$4.图9.11给出了$n=4$和$n=5$的情况.
图9.11下面讨论有向图的连通性.
$\rightarrow$与←都是$V\mathrm{~上的二元关系,~并且不难看出}$
由定义可知,强连通图一定是单向连通图,单向连通图一定是弱连通图.在图$9.12$中,(a)为强连通图,(b)为单向连通图,(c)是弱连通图.
下面给出强连通图与单向连通图的判别定理.
定理$9.7$有向图$D=\langleV,E\rangle$是强连通图当且仅当$D$中存在经过每个顶点至少一次的回路.
定理$9.8$有向图$D=\langleV,E\rangle$是单向连通图当且仅当$D$中存在经过每个顶点至少一次的通路.证明略.
下面介绍一种在涉及路径和圈的构造性证明中常用的方法.设$G=\langleV,E>$为$n$阶无向图,$\Gamma$为一条路径.若$\Gamma$的始点和终点都不与$\Gamma$外的顶点相邻,则称$\Gamma$是一条极大路径.“极大”的意思是这条路径不能再向外延长了.任给一条路径,如果它的始点或终点与路径外的某个顶点相邻,就把它延伸到这个顶点.继续这一过程,直到最后不能向外延伸为止,最后总能得到一条极大路径.称如此构造一条极大路径的方法为扩大路径法.在有向图中可以同样定义极大路径的概念和用扩大路径法构造图中的一条极大路径.
证不妨设$G$是连通图,否则,因为$G$的各连通分支的最小度也都大于等于3,因而可对它的某个连通分支进行讨论.设$u,v$为$G$中任意两个顶点,由$G$是连通图,因而$u,v$之间存在通路,由定理$9.4$的推论可知,$u,v$之间存在一条路径.用扩大路径法扩大这条路径,设最后得到的极大路径为$\Gamma=v_{0}v_{1}\cdotsv_{l}$.由于$\delta(G)\geqslant3$,必有$l\geqslant3$.若$v_{0}$与$v_{l}$相邻,则$\Gamma\cup\left(v_{0},v_{l}\right)$为长度大于等于4的
知识点:连通度
{4图的矩阵表示}
图多半用图形来表示,也可以用集合来定义,还可以用矩阵来表示.用矩阵表示图便于用代数方法研究图的性质.为了用矩阵表示图,必须指定顶点或边的顺序,使其成为标定图.本节中讨论图的关联矩阵、邻接矩阵和可达矩阵.
图$9.14$所示无向图的关联矩阵为
不难看出,关联矩阵$\boldsymbol{M}(G)$有以下性质.
每条边恰好关联两个顶点(环所关联的两个顶点重合).
第$j$列与第$k$列相同当且仅当边$e_{j}$与$e_{k}$是平行边.
图$9.15$所示图$D$的关联矩阵为
$M(D)$有如下各条性质.
$-1$的个数等于$+1$的个数,都等于边数$m$,这正是有向图握手定理的宾.
平㐹边所对应的邜相同.
图$9.16$所示有吕图$D$的邻接矩阵为
有向图的邻接矩阵有以下性质.
上述性质表明,$A(D)$中所有元系之和为$D$中长度为1的通路（即边）的条数，$\sum_{i=1}^{n}a_{ii}^{(1)}$为$D$中长度为1的回路(即环)的条数.现在考虑$A(D)$的2㐸幂$A^{2}=\left(a_{ij}^{(2)}\right.$)$n\timesn$,其中$a_{ij}^{(2)}=\sum_{k=1}^{n}a_{ik}^{(1)}a_{kj}^{(1)}$.对每一个$k(1\leqslantk\leqslantn),a_{ik}^{(1)}a_{kj}^{(1)}$等于顶点$v_{i}$邻接到贶点$v_{k}$的边数乘以顶点$v_{k}$邻接到顶点$v_{j}$的边数,即顶点$v_{i}$到顶点$v_{j}$的长度为2的通路的条数.从而$A^{2}$的元素之和$\sum_{i=1}^{n}\sum_{j=1}^{n}a_{ij}^{\text{(2)}}$等于$D$中所有长度为2的通路数.这里的通路可以是复杂通路,包括回路在内,且是在定义的意义下计数的.而$a_{ii}^{(2)}$为$v_{i}$到自身的长度为2的回路数,$\sum_{i=1}^{n}a_{ii}^{(2)}$等于$D$中所有长度为2的回路数.根据这个思路,不难用归纳法证明下述定理.
前面已经计算出图9.16所示有向图$D$的邻接矩阵$A$,下面给出$A^{2},A^{3},A^{4}$.
从$\boldsymbol{A}\sim\boldsymbol{A}^{4}$不难看出,$D$中$v_{2}$到$v_{4}$长度为$1,2,3,4$的通路分别为$0,1,1,2$条.$v_{4}$到自身长度为1,$2,3,4$的回路分别为$1,2,3,5$条,其中有复杂回路.$D$中长度小于等于4的通路有53条,其中有15条回路.
图9.15、图$9.16$所示有向图的可达矩阵分别为
对无向图可以同样定义邻接矩阵和可达矩阵,实际上只要把每一条无向边$(u,v)$看作一对方向相反的有向边$\langleu,v>$和$\langlev,u\rangle$即可.定理$9.9$及推论对无向图同样成立.与有向图的区别是,无向图的邻接矩阵和可达矩阵都是对称的.
{$习$题九}
给定下面4个图(前两个为无向图,后两个为有向图)的集合表示,画出它们的图形表示.
先将图9.17中各图的顶点标定顺序,然后写出各图的集合表示.
写出图9.17中各图的顶点的度数,对有向图还要写出出度和人度.
（1）写出图9.18(a)中与顶点$v_{1}$相邻的顶点.
（2）写出图9.18(b)中与顶点$u_{1}$相邻的顶点,以及以$u_{1}$为始点的边的终点和以$u_{1}$为终点的边的始点.
设无向图$G$有10条边,3度与4度顶点各两个,其余顶点的度数均小于$3.G$中至少有几个顶点?在最少顶点的情况下,写出各顶点的度数及$\Delta(G),\delta(G)$.
（1）设$n$阶图$G$中有$m$条边,证明:
(2)$n$阶非连通的简单图的边数最多可为多少?最少可为多少?
已知5阶图的顶点度数分别为$5,4,3,2,2$,问它有多少条边.
设无向图中有6条边,3度与5度顶点各一个,其余的都是2度顶点,问该图有几个顶点.
是否存在具有下列顶点度数的5阶图?若有,则画出一个这样的图.\\
画顶点度数为$1,2,2,3$的4阶简单图和非简单图各一个.
设9阶无向图$G$中,每个顶点的度数不是5就是6,证明$G$中至少有5个6度顶点或至少有6个度顶点.
证明三维空间中不可能存在有奇数个面且每个面都有奇数条棱的多面体.
图9.19中各对图是否同构?若同构,则给出它们顶点之间的双射函数.\\
画出所有3条边的5阶简单无向图和3条边的3阶简单有向图.
设$G$是$n$阶自补图,证明$n=4k$或$n=4k+1$,其中$k$为正整数.
已知$n$阶无向简单图$G$有$m$条边,试求$G$的补图$\bar{G}$的边数$m^{\prime}$.
20.6阶2-正则图有儿种非同构的情况?
在图9.20中,下述顶点序列是否构成通路?哪些是简单通路?哪些是初级通路?哪些是回路?哪些是简单回路?哪些是初级回路?\\
在图9.21中,下述顶点序列是否构成通路?哪些是简单通路?哪些是初级通路?哪些是回路?哪些是简单回路?哪些是初级回路?\\
用Dijkstra标号法求图9.22中各图中从顶点$v_{1}$到其余各顶点的最短路径和距离.
某工厂使用一台设备,每年年初要决定是继续使用,还是购头新的.预计该设备第1年的价格为11万元,以后每年涨1万元.使用的第1年,第2年,$\cdots$,第5年的维修费分别为5万、6万、8万、11万、18万元使用1年后的残值为4万元,以后每使用1年残值淢少1万元.试制定构买维修该设备的5年计划,使总支出最小.
图9.23中各图有儿个连通分支?给出它们的所有连通分支.
无向图$G$如图$9.24$所示.
(1)求$G$的全部点割集和边割集,并指出其中的割点和桥(割边).
无向图$G$如图$9.25$所示,先将该图顶点和边标定.然后求图中的全部割点和桥,以及该图的点连通度和边连通度.
设$G$是$n$阶$n+1$条边的无向图,证明$G$中存在顶点$v$,使得$d(v)\geqslant3$.
设$e=(u,v)$为无向图$G$中的一条边,证明$e$为桥当且仅当$e$不在任何圈中.
试求彼得松图的点连通度$\kappa$和边连通度$\lambda$.
设$e=(u,v)$为无向图$G$中的桥,证明$u$(或$v)$是割点当且仅当$u$(或$v)$不是悬挂顶点.
设$G$是$n$阶无向简单图,$n\geqslant3$且为奇数,证明$G$与$\bar{G}$中奇度顶点的个数相等.
若无向图$G$中恰有两个奇度顶点,证明这两个奇度顶点必然连通.
设$G$是无向简单图,$\delta(G)\geqslant2$,证明$G$中存在长度大于等于$\delta(G)+1$的圈.
有向图$D$如图9.27所示,问$D$是哪类连通图.
写出图$9.27$的关联矩阵.
写出图$9.28$中各图的关联矩阵.
图$9.28$40.写出图9.29中各图的邻接矩阵.
试求$D$中各顶点的人度与出度.
试在同构意义下画出$G$的图形.
有向图$D$如图9.29(a)所示.
(3)$D$中长度为4的通路有多少条?其中长为4的回路为多少条?
（4）$D$中长度小于等于4的通路为多少条?其中有多少条为回路?
(5)写出$D$的可达矩阵.
(3)$D$中长度为4的通路数(含回路).
(4)$D$中长度小于等于4的回路数.
（5）写出$D$的可达矩阵.
设$G$是$n$阶$m$条边的无向连通图,证明$m\geqslantn-1$.
设$G$是6阶无向简单图,证明$G$或它的补图$\bar{G}$中存在3个顶点彼此相邻.树是图论的重要内容,在计算机科学技术,特别是数据结构中有着广泛的应用.
{1无向树及其性质}
定义10.1连通无回路的无向图称为无向树,或简称树.每个连通分支都是树的无向图称为森林.平凡图称为平凡树.在无向树中,悬挂顶点称为树叶,度数大于$v_{1}$
图$10.1$等于2的顶点称为分支点.
说明:定义中的回路是指初级回路或简单回路.本章均如此约定,以后不再重复说明.
下面给出树的一些重要性质,其中定理$10.1$给出树的几个充分必要条件.
定理$10.1$设$G=\langleV,E\rangle$是$n$阶$m$条边的无向图,则下面各命题是等价的.
(2)$G$中任意两个顶点之间存在唯一的路径.
(5)$G$是连通的且任何边均为桥.
(6)$G$中没有回路,但在任何两个不同的顶点之间加一条新边后所得图中有唯一的一个含新边的圈.
证$(1)\Rightarrow(2)$.由$G$的连通性及定理$9.4$的推论可知,$\forallu,v\inV,u$与$v$之间存在一条路径.若路径不是唯一的,设$\Gamma_{1}$和$\Gamma_{2}$都是$u$到$v$的路径,则必存在由$\Gamma_{1}$和$\Gamma_{2}$上的边构成的回路,这与$G$中无回路矛盾.
$(2)\Rightarrow(3)$.首先证明$G$中无回路.若$G$中存在关联某顶点$v$的环,则$v$到$v$存在长为0和1的两条路径(注意初级回路是路径的特殊情况),这与已知条件矛盾.若$G$中存在长度大于等于2的圈,则圈上任何两个顶点之间都存在两条不同的路径,这也引出矛盾,下面用归纳法证明$m=$$n-1.$
$(5)\Rightarrow(6)$.由于$G$中每条边均为桥,因而$G$中无圈.又由于$G$连通,所以$G$为树.由(1)$\Rightarrow(2)$可知,$G$中任意两个不同的顶点$u,v$之间存在唯一的路径$\Gamma$.设$e$是在$u,v$之间添加的新边,则$\Gamma$$\cupe$是一个圈,且显然是唯一的.
$(6)\Rightarrow(1)$.只要证明$G$是连通的.对任意两个不同的顶点$u$和$v$,在$u,v$之间添加一条新边$e$后产生唯一的一个含$e$的圈$C$.显然,$C-e$为$G$中$u$到$v$的通路,故$u\simv$.由$u,v$的任意性可知,$G$是连通的.
定理$10.2$设$T$是$n$阶非平凡的无向树,则$T$中至少有两片树叶.
证设$T$有$x$片树叶,由握手定理及定理$10.1$可知，
例$10.1$画出所有6阶非同构的无向树.
解设$T$是6阶无向树.由定理$10.1$可知,$T$的边数$m=5$.由握手定理可知,$T$的6个顶点的度数之和等于10.又有$\delta(T)\geqslant1,\Delta(T)\leqslant5$.于是,$T$的顶点度数必为以下情况之一:
它们对应的树如图$10.2$所示,其中$T_{1}$对应于(1),$T_{2}$对应于(2),$T_{3}$对应于(3),$T_{4},T_{5}$对应于(4),$T_{6}$对应于(5).(4)对应两棵非同构的树,在一棵树中两个2度顶点相邻,在另一棵树中不相邻;其他情况均对应一棵非同构的树.
知识点:无向树
图,称其唯一的分支点为星几片树叶?
例$10.2$树$T$有一个3度顶点,3个2度顶点,其余顶点均为树叶,问$:T$有
解设$T$有$x$片树叶,由捯于手定理和定理$10.1$,
定$10.2$如果无向图$G\mathrm{~的生成帇}$
图$10.3$在$T$中的边称为$T$的树枝,不在$T$中的边为$T$的弜糸.称$T$的所有弦的导出子图为$T$的余树,记作$\bar{T}$.
注意$\bar{T}$不一定连通,也不一定不含回路.在冬10.3所示苳中,实边庝为该图的一棵生成树$T$,余树$\bar{T}$为虚边所示,它不连通,同时含有回路.
定理$10.3$无向图$G$有生成树当且仅当$G$是连通图.
证必要性显然.下面证明充分性.若$G$中无回路,则$G$为自己的生成树.若$G$中含圈,任取一圈,随意地删除圈上的一条边;若仍有圈,再任取一个圈并删去这个圈上的一条边,重复进行,直到最后无圈为止.最后得到的图无圈(当然无回路)、连通且是$G$的生成子图,因而是$G$的生成树.
定理$10.3$的证明是构造性证明,这个产生生成树的方法称为破圈法.
由定理$10.3$和树的边数等于顶点数减1可立即得到下述推论.推论设$G$为$n$阶$m$条边的无向连通图,则$m\geqslantn-1$.(习题九第45题)
下面讨论连通带权图中的最小生成树.
定义$10.3$设无向连通带权图$G=\langleV,E,W\rangle,T$是$G$的一棵生成树,$T$的各边权之和称为$T$的权,记作$W(T).G$的所有生成树中权最小的生成树称为$G$的最小生成树.
求最小生成树已经有许多种算法,这里介绍避圈法(Kruskal算法).
设$n$阶无向连通带权图$G=\langleV,E$,W>有$m$条边.不妨设$G$中没有环(否则,可以将所有的环先删去),将$m$条边按权从小到大顺序排列,设为$e_{1},e_{2},\cdots,e_{m}$.
算法停止时得到的$T$为$G$的最小生成树(证明略).
例$10.3$求图$10.4$所示两个图中的最小生成树.
解用避㒽法,求出的最小生成树如图$10.5$中实线所示,它们的权分别为6和12.
例10.4数据分析中的单链聚类.在数据分析中经常用到各种不同的聚类捛作,所谓聚类捛作京是把数据集$D$中的数据按照它们之间的相似程度最集成若干个类.这种
知识点:生成树捛作在数据挖掘、图像处理、电路叒计、系统划分中经常用到.下面考虑一种最与最小生成树简单的单链聚类.
离”.为此如下定义划分$\pi$的最小间隔$D(\pi)$.
对任何两个不同的子类$C_{s},C_{t}$,定义它们之间的距离$D\left(C_{s},C_{t}\right)$是$C_{s}$中数据与$C_{t}$中数据的相似度的最小值,即
我们的问题是:给定数据集$D$和$D$上的相似度函数$d$以及正整数$k$,如何求使得$D(\pi)$达到最大值的$k$聚类$\pi$?
可以利用最小生成树的Kruskal算法解决这个问题.定义带权完全图$G=\langleV,E,d\rangle$,其中$V=$$\{1,2,\cdots,n\}$,对于任意$i,j\inV,i\neqj$,边$(i,j)$的权为$d(i,j)$.根据Kruskal算法,先将边按照权从小到大的顺序排序为$e_{1},e_{2},\cdots,e_{n(n-1)/2}$.初始$T$中没有边,是由$n$个孤立顶点构成的森林.换句话说,$T$有$n$个连通分支.接着,依次按照权从小到大的顺序考察$G$的每条边,只要不构成圈就把它加到$T$中.在加人边的过程中计数$T$的连通分支个数.直到$T$恰好含有$k$个连通分支时算法停止.这时候,所得到的$k$个连通分支恰好就是所求聚类的$k$个子类$C_{1},C_{2},\cdots,C_{k}$,它的最小间隔达到最大.
{$10.3$根树及其应用}
定义$10.4$若有向图的基图是无向树,则称这个有向图为有向树.一个顶点的人度为0、其余顶点的人度为1的有向树称为根树.人度为0的顶点称为树根,人度为1出度为0的顶点称为树叶,人度为1出度不为0的顶点称为内点,内点和树根统称为分支点.从树根到任意顶点$v$的路径的长度(即,路径中的边数)称为$v$的层数,所有顶点的最大层数称为树高.
在画根树时通常将树根画在最上方,有向边的方向向下或斜下方,并省去各边上的箭头,如图10.6所示.在这棵根树中,有8片树叶,6个内点,7个分支点,高度为5,在树叶$u$和$v$处达到.
常将根树看成家族树,家族中成员之间的关系由下面的定义给出.则称$v_{i}$为$v_{j}$的父亲,而$v_{j}$为$v_{i}$的儿子.若$v_{j},v_{k}$的父亲相同,则称$v_{j}$与$v_{k}$是兄弟.
设$T$为根树,若将$T$中层数相同的顶点都标定次序,则称$T$为有序树.
根据根树$T$中每个分支点的儿子数以及是否有序,可以将根树分成下列各类.(1)若$T$的每个分支点至多有$r$个儿子,则称$T$为$r$叉树;又若$r$又树是有序的,则称它为$r$叉有序树.
(2)若$T$的每个分支点都恰好有$r$个儿子,则称$T$为$r$叉正则树;又若$T$是有序的,则称它为$r$叉正则有序树.
(3)若$T$是$r$叉正则树,且每片树叶的层数均为树高,则称$T$为$r$叉完全正则树;又若$T$是有序的,则称它为$r$叉完全正则有序树.
定义$10.6$设$T$为一棵根树,$\forallv\inV(T)$,称$v$及其后代的导出子图$T_{v}$为$T$的以$v$为根的根子树.
二叉正则有序树的每个分支点的两个儿子导出的根子树分别称为该分支点的左子树和右子树.
在所有的$r$叉树中,最常用的是二叉树.下面介绍二叉树的应用.
图$10.7$所示的3棵树$T_{1},T_{2},T_{3}$都是带权为$2,2,3,3,5$的2叉树.它们的权分别为
下面介绍求最优二叉树的算法一-Huffman算法.
在所有人度为0的顶点(不一定是树叶)中选出两个权最小的顶点,添加一个新分支点,它以这两个顶点为儿子,其权等于这两个儿子的权之和.
重复2,直到只有一个人度为0的顶点为止.
$W(T)$等于所有分支点的权之和.
例$\mathbf{10.5}$求带权$2,2,3,3,5$的最优二叉树.解图10.8给出用Huffman算法计算最优树的过程.(e)为最优树,$W(T)=34$.这表明图10.7所示3棵树都不是最优树.
$\mathrm{~知识点:最优~龶通信中,常用一进牛编码表小示㣔}$10,11分别表示$A,B,C,D$.称这种表示法为等长码表示法.若在传输中,$A,B,C,D$一双树出现的频率大体相同,用等长码表示是很好的方法.昍当它们出现的频率昍差悬殊时,为了芇省一进制数位,以达到提高效率的目的,就要采用非等长的编码.
可用一叉树产生一元前叕码.设$T$是具有$n$矣树叶的二叉树,则$T$的苺个分支点有一个或两一个一元码.由做法可知，树叶$v_{i}$处的等号串的䏍纰均在以
(b)个㔫设$v$为$T$的分支点,若$v\mathrm{~有两个子,}$的两条边上,㡳边的标0,右边的标$1.$若$v$只有$一$儿子,由它弓出的边可标0,也可以标1.叒$v_{i}$是$T$的任意$一$矣树叶,从树根到$v_{i}$的通路上各边的标号$(0$或1$)$按通路上边的顺度组成的等号串放在$v_{i}$处,$t$片树叶的$t$个等号串组成树根到$v_{i}$的通路上的顶点处达到,因而所得符号串集合必㠽$10.9$为前叕码.若$T$是一叉正则树,则由$T$产生的前叕码是隹一的.或者说,由一棵一叉正则树可以产生唯一的一个一元前纰码.
例10.6求图$10.9$所示两棵二叉树所产生的二元前缀码.
解图$10.9(\mathrm{a})$是二叉树,但不是正则的.将苺个分支点弓出的两条边分别标0和1,若树根$\mathrm{~右孖出的边标~1,~}$儿子弓㚎的边标0,心图$10.10(\mathrm{~b})$,则产生前叒码为$\{10,01,000,0010,0011\}$.图$10.9(b)$是一叉正则树,它只能产牛唯一的前叕码,标定后的一是一则树如图10.10（c）所示，前叒码为
上面产生的任一个前缀码都可以用来传输5个符号,如$A,B,C,D,E$.但当在文本中这些字母出现频率不同时,传输这个文本所用的二进制位数是不同的.设共有$t$个符号,用树叶$v_{i}$处的二进制串表示的符号出现的频率为$c_{i},v_{i}$处的二进制串的长度等于$v_{i}$的层数$l\left(v_{i}\right)$,因而传输$m$个符号使用的二进制位数为$m\sum_{i=1}^{1}c_{i}l\left(v_{i}\right)$.显然,用以各个符号出现的频率为权的最优二叉树产生的前缀
码所用的二进制位数最少.称这个由最优二叉树产生的前缀码为最佳前缀码.用最佳前缀码传输的二进制位数最省.
例$10.7$在通信中,八进制数字出现的频率如下.
求传输它们的最佳前缀码,并求传输$10^{n}(n\geqslant2)$个按上述比例出现的八进制数字需要多少个二进制数字?若是用等长(长为3)的码子传输需要多少个二进制数字?
解用100个八进制数字中各数字出现的个数,即以100乘各频率为权,用Huffman算法求最优二叉树,如图$10.11$(a)所示.它产生的最佳前缀码为
设图10.11(a)中树为$T$,传输100个按题中给定频率出现的八进制数字所用的二进制数字个数等于$W(T)$,它等于各分支点权之和:
传输$10^{n}$个按题中给定频率出现的八进制数字需要$10^{n-2}\times285=2.85\times10^{n}$个二进制数字.而用长为3的0,1组成的符号串传输$10^{n}$个八进制数字(如000传0,001传$1,\cdots,111$传7)要用$3\times10^{n}$个二进制数字.
最后还要说明一点,就是最佳前缀码并不唯一.由于每一步选择两个最小的权的选法可能不唯一,而且两个权对应的顶点所放的左右位置也可以不同,画出的最优树可能不同.当然,它们的权应该相等,都是最优树.
图10.11(b)所示的二叉正则树也是例$10.7$对应的最优树,其权等于
下面介绍二叉有序树的周游及应用.
对一棵有序树的每个顶点访问一次且仅一次称为行遍或周游一棵树.二叉有序树有以下3种周游方式.
中序行遍法.访问的次序为左儿子、树根、右儿子.
前序行遍法.访问的次序为树根、左儿子、右儿子.
后序行遍法.访问的次序为左儿子、右儿子、树根.
这里规定,当分支点只有一个儿子时,把它作为右儿子,在上述访问次序中左儿子空缺.上述定义是递归定义,当子树只有一个顶点时,它是子树的树根,在上述访问次序中两个儿子都空缺.
对图$10.12$所示有序树,按中序、前序、后序行遍的周游结果如下.
上式中$v$表示$v$为子树的树根,一对括号给出相应的子树.
用二叉有序树可以表示各种含有二元运算和一元运算的算式,然后根据不同的访问方法得到不同的算法.表示的方法如下:每个分支点放一个运算符,其运算对象是以它的儿子为树根的子树所表示的子算式.规定运算对象的排列顺序,如被除数、被减数放在左边.所有的变量和常量都放在树叶上.
例$10.8$(1)用二叉有序树表示下面合式公式.
(2)用3种行遍法访问这棵二叉树,写出访问结果.
解(1)表示算式的二叉树如图$10.13$所示.
(2)中序行遍法访问结果为
前序行遍法访问结果为
后序行遍法访问结果为
在(10.1)式中,利用运算规则可省去两对括号,得到原算式,所以中序行遍法访问结果是还原算式.
消去(10.2)式中的全部括号,得
对(10.4)式的运算规则为:从右到左每个运算符对它后面紧邻的两个或一个对象
进行运算.在这种算法中,由于运算符在它的运算对象之前,所以称为前缀符号法或波兰符号法.
消去(10.3)式中的全部括号,得
对(10.5)式的运算规则为:从左到右每个运算符对它前面紧邻的两个或一个对象进行运算.由于运算符在它的运算对象之后,所以称此种算法为后缀符号法或逆波兰符号法.
{$习$题十}
图$10.14$中的哪些图是树?
一棵无向树$T$有5片树叶,3个2度分支点,其余的分支点都是3度顶点,问$T$有几个顶点.
无向树$T$有8片树叶,两个3度分支点,其余的分支点都是4度顶点,问$T$有几个4度分支点.请画出3棵非同构的这种无向树.
一棵无向树$T$有$n_{i}(i=2,3,\cdots,k)$个$i$度分支点,其余顶点都是树叶,问$T$有几片树叶.
$n(n\geqslant3)$阶无向树$T$的最大度$\Delta(T)$至少为几?最多为几?
若$n(n\geqslant3)$阶无向树$T$的最大度$\Delta(T)=2$,问$T$中最长的路径长度为几.
是否存在以下面正整数为顶点度数的无向树?若存在,请画出2棵这样非同构的无向树.
设$e$为无向连通图$G$中的一条边,$e$在$G$的任何生成树中,可$e$应有什么性质.
设$e$为无向连通图$G$中的一条边,$e$不在$G$的任何生成树中,问$e$应有什么性质.
设$e$为无向连通图$G$中的一条边,$e$既不是环,也不是桥,证明存在$G$的生成树含$e$作为树枝,又存在生成树以$e$为弦.
设$T$为无向图$G$的生成树,$\bar{T}$为$T$的余树,证明$\bar{T}$中不含$G$的边割集.
设$S$为无向连通图$G$的一个边割集,证明$G[E(G)-S]$不含$G$的生成树.
在图$10.15$所示的无向图中,画出含边$e_{1},e_{2},e_{3}$作为树枝的2棵非同构的生成树.
设$T$是$k+1$阶无向树,$k\geqslant1.G$是无向简单图,已知$\delta(G)\geqslantk$,证明$G$中存在与$T$同构的子图.
已知$n$阶$m$条边的无向图$G$是$k(k\geqslant2)$棵树组成的森林,证明$:m=n-k$.
设$T$为无向连通图$G$中的一棵生成树,$e$为$T$的一条弦,则$G$中存在只含一条弦$e$其余边均为树枝的包,而且不同的弦对应的图也不同.
设$T$是连通图$G$的一棵生成树,$e$为$T$的树枝,则$G$中存在只含树枝$e$,其余边都是弦的割集,且不同的树枝对应的害集也不同.
在图$10.16$的两个图中,实边构成一棵生成树,记为$T.a$是$T$的一条树枝,$d$是$T$的一条弦.
（1）给出每个图中由$d$和$T$的树枝构成的圈.(见第16题)
(2)给出每个图中由$a$和$T$的弦构成的割集.(见第17题)
求图$10.17$中两个带权图的最小生成树.
设$T$为非平凡的无向树,$\Delta(T)\geqslantk$,证明$T$至少有$k$片树叶.
根树$T$如图$10.18$所示.回答以下问题.
（1）$T$是儿叉树?
(2)$T$的树高为几?
(3)$T$有几个内点?
(4)$T$有几个分支点?
画出3棵树高为3,其基图非同构的正则二叉树.
画一棵树高为3的完全正则二叉树.
画出所有非同构的4阶根树.
设$T$是有$t$片树叶的2叉正则树,证明$T$有$2t-1$个顶点.
有500人参加丘乓球比赛,规定一个选手输拈一场就被淘汰.为了决出冠军,共要进行多少场比赛?
画一棵权为$3,4,5,6,7,8,9$的最优二叉树,并计算出它的权.
下面给出的各符号串集合哪些是前缀码?
用图$10.19$中的二叉树产生一个二元前缀码.
用哪类二叉树能产生等长的前缀码?
设7个字母在通信中出现的频率如下：
用Huffman算法求传输它们的最佳前缀码.要求画出最优树,指出每个字母对应的编码,并指出传输$10^{n}(n\geqslant2)$个按上述频率出现的字母需要多少个二进制数字.
分别用中序行遍法、前序行遍法和后序行遍法周游图$10.20$中的二叉有序树,给出周游二叉树的顶点顺序.
图10.21中的二叉树表达一个算式.
图$10.21$（1）用中序行遍法还原算式.
（2）用前序行遍法写出该算式的波兰符号法表示式.
（3）用后序行遍法写出该算式的逆波兰符号法表示式.
用二叉树表示下述算式,写出算式的波兰符号法和逆波兰符号法表示式.
{第十一章}
{几种特殊的图}
{1欧拉图}
定义11.1图(无向图或有向图)中恰好通过所有边一次且经过所有顶点的通路称为欧拉通路.图中恰好通过所有边一次且经过所有顶点的回路称为欧拉回路.具有欧拉回路的图称为欧拉图.具有欧拉通路而无欧拉回路的图称为半欧拉图.
规定平凡图是欧拉图.
关于欧拉图和半欧拉图有下述充分必要条件,证明略去.
定理$11.1$(1)无向图$G$是欧拉图当且仅当$G$是连通的且没有奇度顶点.
(2)无向图$G$是半欧拉图当且仅当$G$是连通的且恰有两个奇度顶点.
(3)有向图$D$是欧拉图当且仅当$D$是强连通的且每个顶点的人度等于出度.
(4)有向图$D$是半欧拉图当且仅当$D$是单向连通的且恰有两个奇度顶点,其中一个顶点的人度比出度大1,另一个顶点出度比人度大1,而其余顶点的人度等于出度.
由定理11.1,图$11.1$中的3个无向图中,(a)是欧拉图,(b)是半欧拉图,(c)不是半欧拉图,更不是欧拉图.3个有向图中只有(d)是欧拉图,没有半欧拉图.
18世纪中叶在欧洲普鲁士的哥尼斯堡城内有一条贯穿全市的普雷格尔河,河中有两个小
岛,由七座桥相连接(如图11.2(a)所示).当时该城市的人们热衣于一个难题:一个人怎样不重复地走完七座桥,最后回到出发地点?这就是所谓的哥尼斯堡七桥问题.很长时间都没有人能解决这个难题.1736年,瑞士数学家欧拉(Euler)发表论文,他用4个点分别表示两个小岛和两岸,用连接两点的线段表示桥,如图$11.2(\mathrm{~b})$所示.于是,用现在的语言,哥尼斯堡七桥问题就是要求在这个图中走一条欧拉回路.欧拉在这篇论文中证明了定理11.1.由于4个顶点都是奇度顶点,故该问题无解.这篇论文现在被公认为是第一篇关于图论的论文.这也正是欧拉回路和欧拉图这个名字的来源.
证只需证明$G$的任意一条边$e$都不是桥.设$C$是一条欧拉回路,$e$在$C$上,因而$p(G-e)=p$$(G)$,故$e$不是桥.
$\mathrm{~下面介绍一个求欧拉回路的算法一伵e笲一岶}$
例11.2图11.3(a)是一个欧拉图.某人用Fleury算法求这个图中的欧拉回路时,走了简单回路$v_{2}e_{2}v_{3}e_{3}v_{4}e_{14}v_{9}e_{10}v_{2}e_{1}v_{1}e_{8}v_{8}e_{9}v_{2}$之后,无法进行下去,试分析他在哪步犯了错误.
Fleury算法给出牡欧拉图中"一笔畐出"欧拉回路的方法.所谓一个苳䏍笔画出,是指从某一点出发,不间䉼且不重复地甶完整个图,最后回到起点."$一$笔画"问题就是问一个图是否能一劮画出和如何一笔畐出.定理$11.1$和Fleury算法回智、这个由题.
{$11.2$哈密顿图}
定义$11.2$经过图(有向图或无向图.)中所有顶点一次且仅一次的通路称为
哈密顿通路.经过图中所有顶点一次且仅一次的回路称为哈密顿回路.具有哈密顿回路的图称为哈密顿图,具有哈密顿通路但不具有哈密顿回路的图称为半哈密顿图.
规定:平凡图是哈密顿图.
图$11.1$中所示的3个无向图都有哈密顿回路,都是哈密顿图.在有向图中,(d)有哈密顿回路,是哈密顿图.(e)只有哈密顿通路,但无哈密顿回路,是半哈密顿图,而(f)中既无哈密顿回路,也没有哈密顿通路,因而不是哈密顿图,也不是半哈密顿图.
与判断一个图是否为欧拉图不一样,到目前为止,人们还没有找到哈密顿图便于判断的充分必要条件.下面给出的定理都是哈密顿图和半哈密顿图的必要条件或充分条件.
本定理给出哈密顿图的必要条件,但不是充分条件.可以验证彼得松图(图9.4(a))满足定理中的条件,但它不是哈密顿图.
例$\mathbf{11.3}$在图$11.4$中哪些是哈密顿图?哪些是半哈密顿图?为什么?
例$11.4$图$11.5$所示的3个图中哪些是哈密顿图?哪些是半哈密顿图?
解在图11.5(a)中,按字母顺序经过各顶点走出一条哈密顿回路$abc\cdotsrsta$,所以图$11.5$(a)为哈密顿图.在图$11.5(\mathrm{~b})$中,取$V_{1}=\{a,b,c,d,e\}$,从图中删除$V_{1}$,得7个连通分支,由定理$11.2$及推论可知,图11.5(b)不是哈密顿图,也不是半哈密顿图.在图$11.5(\mathrm{c})$中取$V_{1}=\{b,e,h\}$,从图中删除$V_{1}$得4个连通分支,由定理$11.2$可知,它不是哈密顿图.但图11.5(c)中abcifedhg为哈密顿通路,所以图$11.5(\mathrm{c})$是半哈密顿图.
1859年,英国数学家哈密顿(Hamilton)提出一个周游世界问题:有20个城市,城市之间的交通线如图11.5(a)所示.问:能否从某个城市出发沿交通线经过每个城市一次并且仅一次,最后回到出发点?用现在的语言,就是问这个图中是否有哈密顿回路.哈密顿自己做了肯定的回答.哈密顿回路和哈密顿图即由此得名.
下面给出哈密顿图和半哈密顿图的一个充分条件,证明略去.
定理$11.3$设$G$是$n$阶无向简单图,若对于$G$中任意不相邻的顶点$u,v$,均有
则$G$中存在哈密顿通路.
推论设$G$为$n(n\geqslant3)$阶无向简单图,若对于$G$中任意两个不相邻的顶点$u,v$均有
则$G$中存在哈密顿回路.
例$11.5$在某次国际会议的预备会中,共有8人参加,他们来自不同的国家.已知他们中任何两个无共同语言的人,与其余有共同语言的人数之和大于等于8,试证明能将这8个人排在圆桌旁,使其任何人都能与两边的人交谈.
证明一个图是哈密顿图或半哈密顿图最直接的方法是给出一条哈密顿回路或哈密顿通路,当然也可以使用充分条件,如定理$11.3$及推论.证明一个图不是哈密顿图或半哈密顿图,通常都需要证明它不满足某个必要条件,如定理$11.2$及推论.
货郎担问题(也称旅行商问题):有$n$个城市,给定城市之间道路的长度(长度可以为$\infty$,对应这两个城市之间无交通线).货郎从某个城市出发,要经过每个城市一次且仅一次,最后回到出发的城市,问:如何走才能使他走的路线最短?
这个问题可用图论方法描述如下:设$G=\langleV,E,W\rangle$为一个$n$阶完全带权图,各边的权$W(e)$非负且可以为$\infty$.求$G$中一条最短的哈密顿回路.
例如,图11.6(a)给出一个4阶完全带权图$K_{4}$.不计起点,也不计顺时针和逆时针,只有3条不同的哈密顿回路:
知识点:哈密顿图
分别如图$11.6$中(b),(c),(d)所示,其长度分别为$8,10,12$.因此,$C_{1}$是所求的最短路线.
至今还没有找到解决哈密顿回路存在性问题和货郎担问题的有效算法,它们是众多NP难问题中的两个问题.
{3二部图与匹配}
注意,$n(n\geqslant2)$阶零图为二部图.
在图$11.7$中所示各图都是二部图,其中,图$11.7(\mathrm{c})$为完全二部图$K_{3,3}$常将$K_{3,3}$画成与其同构的形式(e).图$11.7(\mathrm{~d})$是完全二部图$K_{2,3}$,常画成(f)的形式.
画二部图时,通常将互补顶点子集$V_{1},V_{2}$分开画成两排,如图$11.7(\mathrm{e}),(\mathrm{f})$的形式.请读者将该图中(a),(b)也画成这种形式.
一个图是否为一部图,可由下面定理判别.
定理$11.4n(n\geqslant2)$阶无向㫡$G$是二部图当且仅当$G$中无奇圈.
充分性.不妨设$G$为连通图,否则可对每个连通分支进行讨论,柧立点吼根据需要分属$V_{1}$和$V_{2}$.设$v_{0}$为$G$中仕意一个顶点,令
其中$d\left(v_{0},v\right)$是$v_{0}$到$v$的最短路径的长度,即最短路径中的边数,这里把每一条边
知识点:欧拉的权看作1.易知$,V_{1}\neq\varnothing,V_{2}\neq\varnothing,V_{1}\capV_{2}=\varnothing,V_{1}\cupV_{2}=V(G)$.下面证明$V_{1}$中任意图、哈密顿图两顶点不相邻.用反证法,若存在$v_{i},v_{j}\inV_{1}$相邻,记$e=\left(v_{i},v_{j}\right)$,设$v_{0}$到$v_{i},v_{j}$的最短路径分别为$\Gamma_{i},\Gamma_{j}$,它们的长度$d\left(v_{0},v_{i}\right),d\left(v_{0},v_{j}\right)$都是偶数.于是,由$\Gamma_{i},\Gamma_{j}$和$e$构成一条长度为奇数的回路.这条回路可能是一条复杂回路,可以分解成若干由$\Gamma$，$\Gamma_{j}$共有的边构成的回路（实际上是苺条边重复一次的路径）和由$\Gamma_{i},\Gamma_{j}$不共有的边及$e$构成的淃.由$\Gamma_{i},\Gamma_{j}$共有的边构成的回路的长度为偶数,故在由$\Gamma_{i},\Gamma_{j}$不共有的边(可以还包括$e)$构成的圈中一定有奇圈,这与已知条件矛盾.得证$V$中任意两顶点不相邻.由对称性,$V_{2}$中也不存在昍邻的页点,得证$G$为一部图.
定$11.4$叒$G=<V_{1},V_{2},E>$为一部图,$M\subseteqE$,如果$M$中的任意两条边都不相邻,则称$M$是$G$的一个匹配.$G\mathrm{~中边数最多的匹䣪称作~最大匹配.~又谋弜㤊的⿰}$$|M|=\left|V_{1}\right|$,则称$M$是$V_{1}$到$V_{2}$的完备匹㬝.当$\left|V_{2}\right|=\left|V_{1}\right|$时,完备】酉称作完美匹哯.显然,二部图的完备匹配是最大匹配.但最大匹配不一定是完备匹配.
在图$11.8$中,(a),(b)中的实线边是完备匹配,其中(b)中的实线边是完美匹配.而(c)中的实线边是最大匹配,但不是完备匹配.
为了叙述最大匹配的充分必要条件,先要引人下述名词.
定义$11.5$设$M$是二部图$G=\left\langleV_{1},V_{2},E>\right.$的一个匹配.称$M$中的边为匹配边,不在$M$中的边为非匹配边.与匹配边相关联的顶点为饱和点,不与匹配边相关联的顶点为非饱和点.$G$中由匹配边和非匹配边交替构成的路径称为交错路径,起点和终点都是非饱和点的交错路径称为可增广的交错路径.
显然,$M$为$G$的完美匹配当且仅当$G$中的每个顶点都是饱和点.
叒$M$为$G$的一个匹配,若存在关于$M$的可增广的交错路径$\Gamma$,由于$\Gamma$的起点和终点都是非饱和点,故它的匹配边比非匹配边少1条.将$\Gamma$中的非配边变成匹配边,匹配边变成非匹配边,得到$M^{\prime}$,即$M^{\prime}=(M\cupE(\Gamma))-(M\capE(\Gamma))=M\oplusE(\Gamma)\cdotM^{\prime}$中的边彼此不相邻且比$M$多一条边,人而得至比$M$多一条边的匹配$M^{\prime}$.例如，在图$11.9(\mathrm{a})$中将可增广的交错路径$u_{2}v_{3}u_{4}v_{2}u_{1}v_{4}$中的匹配边变成非匹配边,非匹配边变成匹配边,就得到冬一条边的匹配,如图$11.9(b)$所示.这就证明了不含可增广的交错路径是最大匹配的必要条件.事实上,还可以证明它也是最大匹配的充分条件.从而有下述定理.
定理$11.5$设$M$是一部图$G$的一个酋,则$M$是$G\mathrm{~的最大}$的叮垾厂的交钴路径.
下述定理给出一咅图有完备匹配的充分要条件.
本定理中的条件常称为“相异性条件”.
证定理的必要性显然,下面证明充分性.设$M$为$G$的最大匹配,若$M$不是完备匹配,必存在非饱和点$v_{x}\inV_{1}$.根据相异性条件,必存在$e\inE_{1}=E-M$与$v_{x}$关联.并且$V_{2}$中与$v_{x}$相邻的顶点都是饱和点,否则与$M$是最大匹配矛盾.考虑从$v_{x}$出发的尽可能长的所有交错路径,由于$M$是最大匹配,又由定理$11.5$可知这些交错路径都不是可增广的,因此每条路径的另一个端点一定是饱和点,从而这些端点全在$V_{1}$中.令
注意到,除$v_{x}$外,$S$和$T$中的顶点都是饱和点,且由匹配边给出两者之间的一一对应,因而$|S|=$$|T|+1$.这说明$V_{1}$中有$|T|+1$个顶点只与$V_{2}$中$|T|$个顶点相邻,与相异性条件矛盾.因此,$V_{1}$中不可能存在非饱和点,故$M$是完备匹配.
在图$11.8(\mathrm{c})$中,$V_{1}$中有两个顶点只与$V_{2}$中的一个顶点相邻,不满足相异性条件,因而(c)不存在完备匹配.而(a),(b)均满足相异性条件,都有完备匹配.
定理$11.7$设二部图$G=\left\langleV_{1},V_{2},E\right\rangle$,如果存在正整数$t$,使得$V_{1}$中每个顶知识点:二部图点至少关联$t$条边,而$V_{2}$中每个顶点至多关联$t$条边,则$G$中存在$V_{1}$到$V_{2}$的完备匹配.
证由定理中的条件可知,$V_{1}$中任意$k\left(1\leqslantk\leqslant\left|V_{1}\right|\right)$个顶点至少关联$kt$条边,而$V_{2}$中每个顶点至多关联$t$条边,所以这$kt$条边至少关联$V_{2}$中$k$个顶点.这说明$G$满足相异性条件,因而$G$中存在完备匹配.
常称定理$11.7$中的条件为$t$条件$t$条件是二部图有完备匹配的充分条件,但不是必要条件.在图$11.8$中,(a)不满足$t$条件,但有完备匹配.
例$11.6$某公司招聘了3名大学毕业生.公司有5个部门需要人,部门领导与毕业生们进行了交谈.不考虑单向的意愿,他们交谈之后的结果(毕业生愿意去这个部门,这个部门也同意接受这名毕业生)如表$11.1$所示.如果每个部门只能接收一名毕业生,问:这3名毕业生都能到他满意的部门工作吗?试给出分配方案.
表$11.1$毕业生与部门双向意原
解表$11.1$中的关系可以用一个二部图$G=\left\langleV_{1},V_{2},E\right\rangle$表示,如图$11.10$所示,其中$V_{1}=$$\left\{v_{1},v_{2},v_{3}\right\}$表示3名大学毕业生,$V_{2}=\left\{u_{1},u_{2},\cdots,u_{5}\right\}$表示5个部门.一个分配方案就是$G$的一个匹配.由于$v_{1},v_{2},v_{3}$都关联3条边,而$u_{1},u_{2},\cdots,u_{5}$都至多关联2条边,$G$满足$t$条件,其中$t=3$.根据定理$11.7,G$有完备匹配,从而每名毕业生都能到他满意的部门工作.这样的分配方案很多,例如A到部门$1,B$到部门$2,C$到部门$3;A$到部门$3,B$到部门$2,C$到部门5等.
例$11.7$视频检索.一段视频通常称作“片断”,每个片断由一串连续的“镜头”构成,每个镜头可以看作由若干“帧”构成的序列,而每一帧就是一幅图像.因此,视频检索从上层到下层可以分为片断检索、镜头检索与图像检索.
所谓视频检索,就是在视频库中找到与给定镜头$X$具有最大相似度的镜头$Y$.
求二部图的最大匹配和带权二部图的最大权匹配的有效算法可以在有关算法的教材中找到.
{4平面图}
定义$11.6$如果能将无向图$G$画在平面上使得除顶点处外无边相交,则称$G$是可平面图,简称平面图.画出的无边相交的图称为$G$的平面嵌入.无平面嵌人的图称为非平面图.
$K_{1}$(平凡图)$,K_{2},K_{3},K_{4}$都是平面图.$K_{1},K_{2},K_{3}$的通常画法就是它们的平面嵌人.$K_{4}$的平面嵌人如图11.11(d)所示.$K_{5}-e\left(K_{5}\right.$删除任意一条边)也是平面图,它的平面嵌人如图11.11(e)所示.完全二部图$K_{1,n}(n\geqslant1),K_{2,n}(n\geqslant2)$也都是平面图,用标准画法画出的$K_{1,n}$已经是平面嵌人,$K_{2,3}$的平面嵌人如图$11.11$(f)所示.图$11.11$中(a),(b),(c)分别为$K_{4},K_{5}-e,K_{2,3}$的通常画法.
下面讨论平面图的性质,有些性质与图的画法有关,这时是针对平面嵌人的.因此,下面谈到平面图有时是指平面嵌人,有时则不是,不难根据上下文来区分.当然,有时为了强调会特别指明是平面嵌人.
显然平行边和环不影响图的平面性，即在平面冬中加平行边或环仍是平面图,在非平面图中删去平行边或环付是非平面图,因而在研穴一个庝是否为平面图时可不考虑平行边和环.
在这里还要提前指出并使用下述事实:在平面图理论中有两个居特殊地位的图一䀼和$K_{3,3}$,它们都是非平面图（见定理$11.13$).
下述定理是显然的.
定理$11.8$平面图的子图都是平面图,非平面图的母图都是非平面冬.
由定理$11.8$立刻可知,所有度数不超过4的简单图都是平面苳,当|$V_{1}\mid=1$和2时一部图$G=\left\langleV_{1},V_{2},E>\right.$是平面图.含$K_{5}$或$K_{3,3}$作为子图的图都是非平面图,特别地$K_{n}(n\geqslant5)$和$KK_{s,t}(s,t\geqslant$3)都是非立面界.
定义$11.7$给定平面图$G$的平面嵌人,$G$的边将平面划分成若干个域,每个区域都称为$G$的一个面,其中有一个面的面积无限,称为无㡾面或外部面,其余面的面积有限,称为有限面或内部面.包用苒个面的所有边组成的回路组称为该面的边界,边界的长度称为该面的次数.
常记夕欮面为$R_{0}$,内部面为$R_{1},R_{2},\cdots,R_{k}$,面$R$的次数记为$\operatorname{deg}(R)$.定义中"回路组"中的回路可䏍是卷、笪单回路,也可能是复杂回路.
图$11.12$定理$11.9$平面图所有面的次数之和等于边数的两倍.
证对每一条边$e$,若$e$在两个面的公共边界上,则在计算这两个面的次数时,$e$各提供1.而当$e$只在某一个面的边界上出现时,它必在该面的边界上出现两次,如图$11.12$中的边$i$所示,从而在计算该面的次数时,$e$提供2.于是,在计算总次数时,每条边都提供2,因而所有面的次数之和等于边数的两倍.
定义$11.8$设$G$为简单平面图,若在$G$的任意两个不相邻的顶点之间加一条边,所得图为非平面图,则称$G$为极大平面图.
$K_{5},K_{3,3}$删除任意一条边是极大平面图($K_{3,3}$删除一条边是平面图见本章习题29中图$11.29$(a)).另外,$K_{1},K_{2},K_{3},K_{4}$都是极大平面图,因为它们不存在两个不相邻的顶点.
下面给出极大平面图的充分必要条件.
定理$\mathbf{11.10}$设$G$是$n(n\geqslant3)$阶简单连通的平面图,$G$为极大平面图当且仅当$G$的每个面的次数均为3.
证本定理的充分性留在定理$11.14$的后面证明,现在只证必要性.
因为$G$为简单平面图,无环和平行边,故$G$中各面的次数都大于等于3.下面要证明$G$各面的次数不可能大于3.假设面$R_{i}$的次数$\operatorname{deg}\left(R_{i}\right)=s\geqslant4$,见图$11.13$所示.若$v_{1}$与$v_{3}$不相邻,在$R_{i}$内加边$\left(v_{1},v_{3}\right)$不破坏平面性,这与$G$是极大平面图矛盾,因而$v_{1}$与$v_{3}$必相邻,且边$\left(v_{1},v_{3}\right)$必在$R_{i}$外部.类似地,$v_{2}$与$v_{4}$也相邻,且边$\left(v_{2},v_{4}\right)$也在$R_{i}$的外部.于是,$\left(v_{1},v_{3}\right)$与$\left(v_{2},v_{4}\right)$相交于$R_{i}$的外部,这又与$G$是平面图矛盾.所以,必有$s=3$,即$G$中不存在次数大于等于4的面.
根据定理$11.10$,在图$11.14$所示的各平面图中,只有(c)是极大平面图.
定义$11.9$若在非平面图$G$中任意删除一条边,所得图为平面图,则称$G$为极小非平面图.$K_{5}$和$K_{3,3}$都是极小非平面图.
欧拉在研究多面体时发现,多面体的顶点数减去棱数加上面数等于2.可以把多面体的表面展开成连通的平面图:把一个面从中间斯开后平摊开在平面上,如图$11.15$所示.在图$11.15$中,(a)是一个六面体.把上面的面$abcd$从中间撕开,平推开成(b)中的平面图$G$,其中六面体的面$abcd$对应$G$的外部面.六面体的顶点对应平面图的顶点,棱对应边,面对应面.从而连通平面图的阶数、边数、面数之间也有同样的关系.
定理11.11(欧拉公式)设连通平面图$G$的顶点数、边数和面数分别为$n,m$和$r$,则有
证对边数$m$作归纳证明.
当$m=0$时,由于$G$为连通图,所以$G$只能是平凡图,此时$n=1,m=0,r=1$,结论成立.
设$m=k(k\geqslant0)$时结论成立.当$m=k+1$时,对$G$进行如下讨论.
于是
若$G$中没有1度顶点,则每一条边都在某两个面的公共边界上.任取一条边$e$,令$G^{\prime}=G-e$,则$G^{\prime}$仍连通且$n^{\prime}=n,m^{\prime}=m-1=k,r^{\prime}=r-1$.由归纳假设有
于是
得证当$m=k+1$时结论也成立.
推论(欧拉公式的推广)对于有$k$个连通分支的平面图$G$,有
其中$n,m,r$分别为$G$的顶点数、边数和面数.
经过整理得
由欧拉公式及其推广可以进一步得到平面图的一些性质.
定理$\mathbf{11.12}$设$G$是连通的平面图,且每个面的次数至少为$l(l\geqslant3)$,则$G$的边数$m$与顶点数$n$有如下关系:
证由定理11.9,
由欧拉公式
代人上式得
经过整理得
证用反证法.假设$K_{5}$是平面图,由于$K_{5}$中无环和平行边,所以每个面的次数均大于等于3.$K_{5}$有5个顶点和10条边,由定理$11.12$,应该有
矛盾,所以$K_{5}$不是平面图.
类似地,假设$K_{3,3}$是平面图,由于$K_{3,3}$中最短圈的长度为4,从而每个面的次数均大于等于4.$K_{3.3}$有6个顶点和9条边,应该有
矛盾,所以$K_{3,3}$也不是平面图.
证由于极大平面图是连通图,由欧拉公式得
又因为$G$是极大平面图,由定理$11.10$的必要性可知,$G$的每个面的次数均为3,所以
代人上式,整理后得$m=3n-6$.
推论设$G$是$n(n\geqslant3)$阶$m$条边的简单平面图,则
现在回过来证明定理$11.10$的充分性:如果简单连通平面图$G$的每个面的次数都等于3,则$G$为极大平面图.
由定理$11.9$可知
知识点:平面图概
又因为$G$是连通的,由欧拉公式可知念与欧拉定理
代人上式,经过整理得
这与定理$11.14$的推论相矛盾.
为了叙述平面图的充分必要条件,要先引人同胚的概念.
定义$11.10$设$e=(u,v)$为图$G$的一条边,在$G$中删除$e$,增加新的顶点$w$,使$u,v$均与$w$相邻,称为在$G$中揷入2度顶点$w$.设$w$为$G$中一个2度顶点,$w$与$u,v$相邻,删除$w$,增加新边$(u,v)$,称为在$G$中消去2度顶点$w$.
若两个图$G_{1}$与$G_{2}$同构,或通过反复揷人、消去2度顶点后同构,则称$G_{1}$与$G_{2}$同胚.
下面给出平面图的两个充分攵要条件,证明都超出了本冑的范用拝.定理11.15(Kuratowski定理1)图$G$是平面图当且仅当$G$中既不含与$K_{5}$同胚的子图,也不含与$K_{3,3}$同胚的子图.
定理11.16(Kuratowski定理2)图$G$是平面图当且仅当$G$中既没有可以收缩到$K_{5}$的子图,也没有可以收缩到$K_{3,3}$的子图.
关于边的收缩见定义$9.10$.
例$11.8$证明彼得松图不是平面图.
还可以这样证明:删去(a)中的两条边$(j,g)$和$(c,d)$,得到(c).不难看出,它与$K_{3,3}$同胚.
本章最后介绍图着色问题和四色定理.
定义$11.11$设无向图$G$无环,对$G$的每个顶点涂一种颜色,使相邻的顶点涂不同的颜色,称为图$G$的一种点着色,简称着色.若能用$k$种颜色给$G$的顶点着色,则称$G$是$k$-可着色的.
图的着色问题就是要用尽可能少的颜色给图着色.图$11.18$中给出各图的着色,不难验证所用的颜色数是最少的.(a),(b)是圈,偶圈要用2种颜色,奇圈要用3种颜色.(c),(d)分别称作9阶和8阶轮图,奇阶轮图要用3种颜色,偶阶轮图要用4种颜色.
图着色问题有着广泛的应用.当试图在有冲突的情况下分配资源时,就会自然地产生这个问题.例如,有$n$项工作,每项工作需要一天的时间完成.有些工作由于需要相同的人员或设备而不能同时进行,问:至少需要几天才能完成所有的工作?用图描述如下:用顶点表示工作,如果两项工作不能同时进行就用一条边连接对应的顶点.工作的时间安排对应于这个图的点着色:着同一种颜色的顶点对应的工作可以安排在同一天,所需的最少天数正好是这个图着色所需要的最少颜色数.
又如,计算机有$k$个寄存器,现正在编译一个程序,要给每一个变量分配一个寄存器.如果两个变量要在同一时刻使用,则不能把它们分配给同一个寄存器.我们构造一个图,每一个变量是一个顶点,如果两个变量要在同一时刻使用,则用一条边连接这两个变量.于是,这个图的$k$-着色对应给变量分配寄存器的一种安全方式:给着不同颜色的变量分配不同的寄存器.
还有一个应用是无线交换设备的波长分配.有$n$台设备和$k$个发射波长,要给每一台设备分配一个波长.如果两台设备靠得太近,则不能给它们分配相同的波长,以防止干扰.以设备为顶点构造一个图,如果两台设备靠得太近,则用一条边连接它们.于是,这个图的$k$-着色给出一个波长分配方案:给着不同颜色的设备分配不同的波长.
例$11.9G$是2-可着色的当且仅当$G$为二部图.
证设$G$是2-可着色的,取$G$的一个着色方案,它用两种颜色1和2.令$V_{1}$是所有着颜色1的顶点,$V_{2}$是所有着颜色2的顶点,则$V_{1}$中任意两点都不相邻,$V_{2}$中任意两点也都不相邻,从而$G$是二部图.
反之,设$G$是二部图$\left\langleV_{1},V_{2},E\right\rangle$,给$V_{1}$中的顶点着颜色$1,V_{2}$中的顶点着颜色2,得到$G$的一个着色方案,从而$G$是2-可着色的.
例$11.10$给出图$11.19$所示各图颜色尽可能少的着色.
解图11.19(a)是一部图,可以用两种颜色着色,显然它也至少要用两种颜色,如图$11.20(\mathrm{a})$所示.图$11.19(\mathrm{~b})$是彼得松图,里面的5个页点是一个周,要用3种颜色.给它们着色厉,不难仍用这$3\mathrm{~种堐}$色,如图$11.20(\mathrm{~b})$所示.对于图$11.19(\mathrm{c})$,先用3种彥色给最外面的3个顶点着色,然后仍用这3种颜色给中层的3个页点着色.由于每个页点都与最外面测试题11.1211.13的两个顶点相邻,故着色的方法是唯一的.最厉,最里面的顶占由于的的3个页点相邻,必须用第4种颜色着色,如㠽$11.20(\mathrm{c})$所示.
着色问题与哈密顿回路问题、货郎担问题一样,也是NP难问题,至今没有找到有效的算法.
在历史上,着色问题起源于地图着色.19伞纪50年代一个青年学生注意到可以用4种颜色给英格兰的郡地图着色,使得相邻的郡着不同的颜色.在这个基础上,他猜想任何地图都可以用4种颜色着色.他的弟弟是德-摩根的学生,把哥哥的这个想法告诉了德-摩根.德-摩根对这个问题非常感兴趣并把它公布于众.这就是著名的四色猜想.
地图是连通无桥平面图的平面嵌人,每一个面是一个国家(或省、市、区等).若两个国家有公共的边界,则称这两个国家是相邻的.对地图上的每个国家涂上一种颜色,使相邻的国家涂不同的颜色,称为对地图的面着色,简称地图着色.地图着色问题就是要用尽可能少的颜色给地图着色.
地图的面着色可以转化成平面图的点着色.
定义$11.12$设$G$是一个平面图的平面嵌人,构造图$G^{*}$如下:在$G$的每一个面$R_{i}$中放置一个顶点$v_{i}^{*}$.设$e$为$G$的一条边,若$e$在$G$的面$R_{i}$与$R_{j}$的公共边界上,则作边$e^{*}=\left(v_{i}^{*},v_{j}^{*}\right)$与$e$相交,且不与其他任何边相交.若$e$为$G$中的桥且在面$R_{i}$的边界上,则作以$v_{i}^{*}$为端点的环$e^{*}=$$\left(v_{i}^{*},v_{i}^{*}\right)$.称$G^{*}$为$G$的对偶图.
图$11.21$给出两个平面嵌人的对偶图,实线和空心点是平面嵌人,虚线和实心点是对偶图.实际上这两个平面嵌人是同一个平面图的平面嵌人.
地图是无桥的平面图,它的对偶图无圈.由于地图上的国家与它的对偶图的顶点一一对应,且两个国家相邻当且仅当对应的顶点相邻,因此可以把地图的面着色转化成它的对偶图的点着色.由于平面图的对偶图是平面图,从而地图着色(面着色)可以归结于平面图的点着色.因此,四色猜想的提法后来变成:任何平面图都是4-可着色的.1890年希伍德证明任何平面图都是5-可
着色的,称作五色定理.此后一直没有什么进展,直到1976年两位美国数学家阿佩尔和哈肯终于证明了它,从而使得四色猜想成为四色定理.阿佩尔和哈肯的证明是根据前人的证明思路,用计算机完成的.他们证明,如果四色猜想不成立,则存在一个反例,这个反例大约有2000种(后来有人简化到600多种)可能,然后他们用计算机分析了所有这些可能,都没有导致反例,从而证明四色猜想成立.但是,对四色定理的研究并没有到此结束,他们的证明毕竟是用计算机完成的.寻找相对短的、能被人阅读和检查的证明仍是数学家追求的目标.
定理11.17(四色定理)任何平面图都是4-可着色的.
判断图$11.22$中哪些是欧拉图,哪些是半欧拉图.对欧拉图给出一条欧拉回路.对半欧拉图给出一条欧拉通路.对不是的,说明不是欧拉图或不是半欧拉图的理由.
判断图$11.23$中哪些是欧拉图,哪些是半欧拉图.对欧拉图给出一条欧拉回路.对半欧拉图给出一条欧拉通路.对不是的,说明不是欧拉图或不是半欧拉图的理由.
判断下列命题是真是假.
(2)$n(n\geqslant2)$阶有向完全图是欧拉图.
(3)当$r,s$为正偶数时,完全二部图$K_{r,s}$是欧拉图.
画一个无向欧拉图,使它具有:
（1）偶数个顶点,偶数条边.
(2)奇数个顶点,奇数条边.
（3）偶数个顶点,奇数条边.(4)奇数个顶点,偶数条边.
5.画一个有向欧拉图,要求同上题.
在$k(k\geqslant2)$个长度大于等于3的彼此分离的圈（全为无向的或全为有向的)之间至少加多少条新边（有向的加有向边）才能使所得图为欧拉图?
证明:若有向图$D$是欧拉图,则$D$是强连通的.
设$G$是恰含$2k(k\geqslant1)$个奇度顶点的无向连通图.证明$G$所有的边可以划分成$k$条边不重的简单通路.
给出图$11.24$中各图的哈密顿回路或哈密顿通路.要求对给出哈密顿通路的说明不存在哈密顿回路的理由,
说明图$11.25$中各图不是哈密顿图,也不是半哈密顿图的理由.
设$G$是无向连通图,证明:若$G$中有桥或割点,则$G$不是哈密顿图.
彼得松图既不是欧拉图,也不是哈密顿图.至少加几条新边才能使它成为欧拉图?至少加几条新边才能使它变成哈疝顿图?
证明图$11.26$中(a)不是哈密顿图,但是半哈密顿图.而(b)是哈密顿图.
今有$2k(k\geqslant2)$个人去完成$k$项任务.已知每个人均能与另外$k$个人中的任何人组成一组（每组两个人)去完成他们共同熟悉的任务,问这$2k$个能否分成$k$组（每组两人）,每组完成一项他们共同熟悉的任务.
今有$n$个人,已知他们中的任何两人合起来认识其余的$n-2$个人.证明:当$n\geqslant3$时,这$n$个人能排成一列,使得任何两个相邻的人都相互认识.而当$n\geqslant4$时,这$n$个人能排成一个圆圈,使得每个人都认识两旁的人.
某工厂生产由6种不同颜色的纱织成的双色布.已知在一批双色布中,每种颜色至少与其他3种颜色相搭配.证明可以挑出3种双色布,它们恰由6种不同颜色的纱织成.
国际象棋中的马走日字,即在$(x,y)$格子的马可以走到$(x\pm2,y\pm1),(x\pm1,y\pm2)$中的任何一个,只要棋盘中有这个格子.马从某个格子开始,走遍所有的格子且每个格子只走一次称作马的周游.证明：
（1）在$3\times4$的棋盘上存在马的周游.
(2)在$3\times3$的棋盘上不存在马的周游.
则$G$是哈密顿图.以上结论成立吗?为什么?
设$G$是$n(n\geqslant3)$阶无向简单哈密顿图,则对于任意不相邻的顶点$v_{i},v_{j}$,均有
以上结论成立吗?为什么?
指出图$11.27$中哪些是二部图,并把二部图画成互补顶点子集分列两行的样子.对不是二部图的,说明不是的理由.
给出图$11.27$中二部图的最大匹配,这个匹配是否是完美匹配?是否是完备匹配?
二部图$G$如图$11.28$所示,其中实线边是它的一个匹配$M$.指出$G$中关于$M$的饱和点和非饱和点.给出一条可增广的交错路径,并利用它得到一个比$M$多一条边的匹配.
证明:在$8\times8$的国际象棋棋盘的一条主对角线上移去两立㧫的方格后,所得棋盘不能用$1\times2$的长方形不重叠地填满.
$n$位教员教$n$门课程,已知每个教员至少能教两门课程,而每门课程至多有两位教员能教,问能否每位教员正好教一门课.27.今有胀、王、李、赽、陈5名学生,报名参加物理、化学、生物3个课外小组活动.已知,张报了物理和化学组,王只报了物理组,李、赵都报了化学组和生物组,陈只报了生物组.根据他们的报名情况,能否从这5名学生中选出3名任这3个小组的组长?
又若张报了物理组和化学组,而王、李、赵、陈都只报了生物组,还能选出3名组长吗?为什么?
现有4名教师:张、王、李、赵,要求他们去教4门课程:数学、物理、电工和计算机基础，已知张能胜任数学和计算机基础;王能胜任物理和电工;李能胜任数学、物理和电工;而赵只能胜任电工.如何安排，才能使每位教师都教一门自己能胜任的课程并且每门课都有一名教师教?讨论有几种安排方案.
证明图$11.29$中所示各图都是平面图,分别画出各平面图的一个平面嵌人,并验证各面次数之和等于边数的两倍.
图$11.30$所示各图都是平面嵌人,先给图中各边标定名字,然后给出图中各面的边界及次数.
给图$11.30$(a)重新画两个平面嵌人,使外部面的次数分别为3和4.
证明阶数大于等于3的极大平面图没有割点和桥.
判断图11.31中的图是否是极大平面图.
图$11.32$是极小非平面图闯?为什么?
验证图$11.33$所示平面图满足欧拉公式.
验证图$11.34$所示非连通的平面图满足欧拉公式的推广.37.利用$K_{3,3}$说明定理$11.14$的推论是$n(n\geqslant3)$阶简单平面的一个必要条件,而不是充分条件.
设$G$是简单平面图,面数$r<12,\delta(G)\geqslant3$.证明$G$中存在次数小于等于4的面.举例说明,当$r=12$时,上述结论不真.
设$G$是简单平面图，
设$G$是$n$阶无向简单图,证明:当$n\geqslant11$时,$G$和$\bar{G}$中至少有一个是非平面图.
证明图$11.35$中的图全为非平面图.
图$11.35$所示3个图中,哪个(些)是极小非平面图?
给下列各图的顶点用尽量少的颜色着色.
给图$11.36$中各图的顶点用尽量少的颜色着色.
某大学计算机专业三年级有5门选修课,其中课程1与2,1与3,1与4,2与4,2与5,3与4,3与5均有人同时选修.问安排这5门课的考试至少需要儿个时间段.
某中学高三年级有5个班,由4位教师$(A,B,C,D)$为他们授课,周一每位教师为每个班上课的节数如表$11.2$所示.问:本年级周一至少要安排多少节课?需要多少个教室?
假设当两台无线发射设备的距离小于$200\mathrm{~km}$时不能使用相同的频率.现有6台设备,表$11.3$给出它们之间的距离,问它们至少需要几个不同的频率.
有6名博士生要进行论文答辩,答辩委员会的成员分别为$A_{1}=\{$张教授,李教授,王教授$\},A_{2}=\{$李教授,赵教授,刘教授$\},A_{3}=\{$张教授,刘教授,王教授$\},A_{4}=\{$赵教授,刘教授,王教授$\},A_{5}=\{$张教授,李教授,孙教授$\},A_{6}=\{$李教授,刘教授,王教授$\}$,那么这次论文答辩必须安排在多少个不同的时间进行?49.求图$11.37$所示各平面图的对偶图.
用尽量少的颜色给图$11.38$中的地图面着色,并利用它们的对偶图的点着色说明你所用的颜色是最少的.
{第四部分组合数学}
{第十二章基本的组合计数公式}
{1加法法则与乘法法则}
加法法则与乘法法则是最基本的计数法则.
加法法则:设事件$A$有$m$种产生方式,事件$B$有$n$种产生方式,当$A$与$B$产生的方式不重叠时,“事件$A$或$B$”有$m+n$种产生方式.
加法法则使用的条件是事件$A$与$B$产生的方式不能重叠.也就是说,每一种产生的方式不能同时属于两种事件.
加法法则可以推广到$n$个事件的情况.设$A_{1},A_{2},\cdots,A_{n}$是$n$个事件,它们的产生方式分别有$p_{1},p_{2},\cdots,p_{n}$种,当其中任何两个事件产生的方式都不重叠时,事件“$A_{1}$或$A_{2}$或$\cdots$或$A_{n}$”有$p_{1}+$$p_{2}+\cdots+p_{n}$种产生的方式.
乘法法则:设事件$A$有$m$种产生方式,事件$B$有$n$种产生方式,当$A$与$B$产生的方式彼此独立时,“事件$A$与$B$”有$mn$种产生方式.
乘法法则使用的条件是事件$A$与$B$产生的方式彼此独立.换句话说,事件$A$与事件$B$对产生方式的选择彼此没有影响.
乘法法则也可以推广到$n$个事件的情况.设$A_{1},A_{2},\cdots,A_{n}$是$n$个事件,它们的产生方式分别有$p_{1},p_{2},\cdots,p_{n}$种,当其中任何两个事件产生的方式都彼此独立时,事件“$A_{1}$与$A_{2}$与$\cdots$与$A_{n}$”有$p_{1}p_{2}\cdotsp_{n}$种产生的方式.
可以用加法法则与乘法法则解决$n$元集上关系和函数的计数问题.
(1)A上的自反关系有多少个?
(2)A上的对称关系有多少个?
(3)A上的反对称关系有多少个?
(4)A上的函数有多少个?其中双射函数有多少个?
解(1)在$A$上自反关系的关系矩阵中,主对角线元素都是1,其他位置的元素可以是1,也可以是0,有两种选择.这种位置有$n^{2}-n$个,根据乘法法则,自反关系的个数是$2^{n^{2}-n}$.
(2)考虑$A$上对称关系的矩阵.先考虑主对角线上的元素.对于主对角线的每个位置,元素可以选择0或1,有两种选法.再考虑不在主对角线上的元素,它们的值的选择并不是完全独立的.因为矩阵是对称的,$i$行$j$列的元素$r_{ij}$必须与$j$行$i$列的元素$r_{ji}$相等.因此当矩阵的上三角元素(或者下三角元素)的值确定以后,另一半对称位置的元素就完全确定了.这种能够独立选择0或者1的位置有$\left(n^{2}-n\right)/2$个.加上主对角线的$n$个位置,总计$\left(n^{2}+n\right)/2$个位置,根据乘法法则,构成矩阵的方法数是$2^{\left(n^{2}+n\right)/2}$.
(3)类似于(2)的分析,也分两步考虑,区别在于对非主对角线位置元素取值的约束条件不同.将这些位置分成$\left(n^{2}-n\right)/2$组,每组包含处在对称位置的两个元素$r_{ij}$和$r_{ji}$.根据反对称的性质,$r_{ij}$与$r_{ji}$的取值有以下3种可能:
因此所有这些位置元素的选择方法数为$3^{\left(n^{2}-n\right)/2}$.再考虑到主对角线元素的选取,由乘法法则总方法数为$2^{n}3^{\left(n^{2}-n\right)/2}$.
其中每个$y_{i}(i=1,2,\cdots,n)$有$n$种可能的选择,根据乘法法则,有$n^{n}$个不同的函数.如果$f$是双射的,那么当$y_{1}$确定以后,$y_{2}$只有$n-1$种可能的取值.类似的分析可以知道,$y_{3}$只有$n-2$种可能的取值,$\cdots,y_{n}$只有1种取值.根据乘法法则,构成双射函数的方法数是$n(n-1)(n-2)\cdots1=n!$.
例$12.2$根据IPv4网络协议,每个计算机的地址是32位二进制数字构成的串.如图$12.1$所示,A类地址第一位是0,接着7位网络标识,再接着24位主机标识.B类地址前两位是10,接着14位网络标识,再接着16位主机标识.C类地址前三位是110,接着21位网络标识,再接着8位主机标识.此外,$\mathrm{A}$类地址中全1不能做网络标识,在三类地址中全0和全1都不能作为主机标识.问:按照IPv4协议,在Internet中有多少个有效的计算机地址?
为了找到$N_{\mathrm{A}}$,由于1111111是无效的,故存在$2^{7}-1=127$个$\mathrm{A}$类的网络标识.对于每个网络标识,存在$2^{24}-2=16777214$个主机标识,这是由于全0和全1组成的主机标识是无效的。因
为了找到$N_{\mathrm{B}}$和$N_{\mathrm{C}}$,首先注意到存在$2^{14}=16384$个B类网络标识和$2^{21}=2097152$个C类网络标识.对每个B类网络标识存在着$2^{16}-2=65534$个主机标识,而对每个$C$类网络标识存在着$2^{8}-2=$254个主机标识,这也是考虑到全0和全1组成的主机标识是无效的.因而,$N_{\mathrm{B}}=1073709056,N_{\mathrm{C}}=$532676608.可以断言IPv4协议中计算机的有效地址总数是$N=N_{\mathrm{A}}+N_{\mathrm{B}}+N_{\mathrm{C}}=2130706178+$$1073709056+532676608=3737091842$.面向计算机的广泛使用,这些地址总数已经显得不够用了,正在更新的IPv6协议采用128位地址格式,这将能够提供更多的有效地址.
在这个例题中,先把所有的地址分成$\mathrm{A},\mathrm{B},\mathrm{C}$三类,这种分类处理对应了加法法则;而在每一类的计数中使用了分步处理的思想:第一步计数网络标识的数目,第二步计数主机标识的数目,这种分步处理对应了乘法法则.许多计数问题都是通过分类处理和分步处理的思想来求解的.
{$12.2$排列与组合}
排列和组合的计数是基本的计数问题.根据从集合中选择元素的有序与无序、是否允许重复等限制条件,可以将这个问题划分成4个子类型一一集合的排列、集合的组合、多重集的排列、多重集的组合.先考虑不允许重复的选取一一集合的排列与组合的计数.
定义$12.1$设$S$为$n$元集，
(1)从$S$中有序选取的$r$个元素称作$S$的一个$r$排列.$S$的不同$r$排列总数记作$\mathrm{P}(n,r).r=n$时的排列称为$S$的全排列.
(2)从$S$中无序选取的$r$个元素称作$S$的一个$r$组合.$S$的不同$r$组合总数记作$\mathrm{C}(n,r)$.关于$\mathrm{P}(n,r)$和$\mathrm{C}(n,r)$有下述公式.
定理$12.1$设$n,r$为自然数,规定$0!=1$,则
(1)首先确定排列中的第1个元素,有$n$种选择的方式.然后确定排列的第2个元素,它只能取自剩下的$n-1$个元素,有$n-1$种选法.类似地,选择第3个元素,第4个元素,$\cdots$,第$r$个元素的方式数依次为$n-2,n-3,\cdots,n-r+1$.根据乘法法则,总的选法数为
(2)分两步构成$r$排列.首先无序地选出$r$个元素,然后再构造这$r$个元素的全排列.无序选择$r$个元素的方法数是$\mathrm{C}(n,r)$;针对每种选法,能构造$r$!个不同的全排列.根据乘法法则,不同的$r$排列数满足
推论1元素依次排成一个圆圈的排列称为环排列.$S$的$r$环排列数等于$P(n,r)/r$.
证设线排列的$r$个元素依次为$a_{1},a_{2},\cdots,a_{r}$,将$a_{1}$接在$a_{r}$的后边就组成一个环排列.只要相邻关系不变,这$r$个元素中的任何一个作为线排列的首元素,首尾相连所构成的环排列都相同.因此环排列数是线排列数的$1/r$.
推论2设$n,r$为正整数,则
这3个公式都可以通过把定理$12.1$的公式代人右边化简得到.下面介绍另一种组合分析的证明方法.所谓组合分析就是根据等式类型设计一个组合计数问题,使得公式两边都对应于这个问题的计数结果.下面以(2)和(3)为例来说明这种证明方法.
证(2)设$S=\{1,2,\cdots,n\}$是$n$元集合,对于$S$的任意$r$组合$A=\left\{a_{1},a_{2},\cdots,a_{r}\right\}$,都存在一个$S$的$n-r$组合$S-A$与之对应.显然不同的$r$组合对应了不同的$n-r$组合,反之也对,因此$S$的$r$组合数恰好与$S$的$(n-r)$组合数相等.
(3)考虑(2)中的$S$集合,将$S$的所有$r$组合划分成两类:包含1的$r$组合,不含1的$r$组合.如果一个$r$组合包含1,那么它的其余$r-1$个元素取自$\{2,3,\cdots,n\}$,有$\mathrm{C}(n-1,r-1)$种取法;如果一个$r$组合不含1,那么它的其余$r$个元素都取自$\{2,3,\cdots,n\}$,有$\mathrm{C}(n-1,r)$种取法.根据加法法则,$S$的$r$组合的总数等于$\mathrm{C}(n-1,r-1)+C(n-1,r)$.
上述公式有着广泛的应用,比如利用(2)将$\mathrm{C}(100,98)$写作$\mathrm{C}(100,2)$.而(3)中的公式就是我国古代著名的杨辉三角形(见图12.2),也称作Pascal公式.这些公式广泛用于组合公式的化简和恒等式的证明.
(1)从$S$中有序选取的$r$个元素称为多重集$S$的一个$r$排列.$r=n$的排列称为$S$的全排列.
(2)从$S$中无序选取的$r$个元素称作多重集$S$的一个$r$组合.
对于多重集$S$的$r$排列和组合数,下面给出某些特殊情况的公式,而一般的计数只能利用生成函数或包含排斥原理来求解.有关生成函数的知识将在下一章介绍.
再考虑多重集$S$的$r$组合.
证可以使用一一对应的思想来证明这个定理.
这个方程称为不定方程,可以在它的非负整数解$x_{1},x_{2},\cdots,x_{k}$和$r$个$1、k-1$个0的排列之间建立一一对应:对于解$x_{1},x_{2},\cdots,x_{k}$,排列具有下述形式:
知识点:排列与
组合计数
其中$k-1$个0将$r$个1分成$k$段,每段含有1的个数分别为$x_{1},x_{2},\cdots,x_{k}$.不难看出，这个排列是多重集$S=\{r\cdot1,(k-1)\cdot0\}$的全排列,根据定理$12.2$,这样的排列有
与选取问题的计数类似,不定方程整数解的计数也是一个重要的组合计数模型,许多组合计数问题都可以使用这两个计数模型来求解,解决的关键在于将实际问题与适当的计数模型之间建立对应关系,然后应用相应的计数公式.
例$12.3$排列26个字母,使得$a$与$b$之间恰有7个字母,求排列的方法数.
解采用分步处理的方法.先固定$a$和$b$,中间揷人7个字母,构成一个结构,有$2\mathrm{P}(24,7)$种方法,其中2表示$a$在$b$前面与$b$在$a$前面有两种可能.将这个结构看作一个大字母再与其余17个字母进行全排列,有18!种排列的方法.根据乘法法则,$N=2\mathrm{P}(24,7)18!$.
例$12.4$把$2n$个人分成$n$组,每组两人,求不同的分法数$N$.
解因为这个分组是无序的,而且每个组的人数还有等于2的限制,没有直接的计数模型可以使用.如果是有序分组,可以采用分步处理的方法,先选出两个人放到第1组,接着在剩下的人中选出两个人放到第2组,$\cdots$,最后将剩下的两个人放到第$n$组.进行有序分组的另一种方法是:先找出所有$N$个无序分组,然后对每一个分组方案中的$n$个组用$1,2,\cdots,n$进行标记,标记的方法数恰好是$n$!,从而得到所有的有序分组.因此这个问题的求解思路是:先计数有序分组的方法,然后除以$n$!,就得到无序分组的方法数.
例$12.4$告诉我们,利用有序与无序计数之间的关系求解计数问题是一种常用的技巧.
例$12.5$下面给出一段简单的程序,它的输出$x$是什么?
解程序中包含一个$k$重的嵌套循环,对于给定的$i_{1},i_{2},\cdots,i_{k}$,其中$1\leqslanti_{k}\leqslanti_{k-1}\leqslant\cdots\leqslanti_{1}\leqslantn$,循环体运行一次,就对$x$加$1.x$的初值是0,于是$x$的输出就是循环体的执行次数.这恰好对应了整数序列$i_{1},i_{2},\cdots,i_{k}$可能的取值个数,也就是多重集$S=\{\infty\cdot1,\infty\cdot2,\cdots,\infty\cdotn\}$的$k$组合数.一旦从$S$中选定$k$个整数,按从大到小的顺序排列(这里允许两个数相等),就唯一确定了一组$i_{1}$,$i_{2},\cdots,i_{k}$的值.根据定理$12.3,x=\mathrm{C}(n+k-1,k)$.
例$12.6$从$S=\{1,2,\cdots,n\}$中选择$k$个不相邻的数,有多少种方法?
解设$a_{1},a_{2},\cdots,a_{k}$是选出的$k$个不相邻的数,由这$k$个数对应生成另外的$k$个数$b_{1},b_{2},\cdots$,$b_{k}$.产生规则是$b_{i}=a_{i}-(i-1)$.例如,如果原来的数是$3,6,8,14$,那么生成的数
{知识点:基本计数模型及其应用}
例$12.5$与例$12.6$使用的求解技巧是一一对应.有许多典型的组合计数问题,如选取问题、不定方程的非负整数解问题等,已经得到相应的公式或者求解的方法,换句话说,已经建立了相应的组合计数模型.当遇到其他组合计数问题,如果可以与这些典型的计数模型建立一一对应,那么就可以直接应用有关的结果来求解.这是一种非常有用的方法.
{$12.3$二项式定理与组合恒等式}
关于组合数$\mathrm{C}(n,r)$有许多有用的公式,有些公式的证明需要使用二项式定理.
定理12.4(二项式定理)设$n$是正整数,对一切$x$和$y$,
可以使用数学归纳法证明二项式定理,这里使用组合分析的方法加以证明.
在二项式定理中令$y=1$可以得到以下推论.
推论设$n$是正整数,则
下面给出有关二项式系数的一些主要的恒等式,这些恒等式也称为组合恒等式.
以上公式的证明已经在上一节给出过.递推式在计算组合数的序列和或恒等式证明中经常用到,主要用于组合数的化简或者变形.\\
上述公式的组合数$\left(\begin{array}{l}n\\k\end{array}\right)$中的$n$不变,而$k$是随项的标号改变的,简称为变下项的求和公式.这些公式的证明主要使用二项式定理或者组合分析方法.这里只证明公式(12.4).
证在二项式定理中令$x=y=1$即可.
证使用组合分析的方法.令$S=\left\{a_{1},a_{2},\cdots,a_{n+1}\right\}$为$n+1$元集合.等式右边是$S$的$k+1$元子集数.考虑另一种分类计数的方法.将所有的$k+1$元子集分成如下$n+1$类.
注意在公式(12.6)中,当$l<k$时等式左边的项都等于0.这个公式的组合数$\left(\begin{array}{l}l\\k\end{array}\right)$中的下项$k$不变,而上项$l$随项的标号改变,是变上项的求和式.主要用于有关组合数序列的求和或者证明组合恒等式.
证公式左边计数了先从$n$元集$S$中选取$r$个元素,然后在这$r$个元素中再选$k$个元素的方法.公式右边的$\left(\begin{array}{l}n\\k\end{array}\right)$是从$S$中直接选取$k$子集的方法数.显然前一种方法选择的同一个$k$子集会重复出现.例如,从集合$\{a,b,c,d,e\}$中先选4子集,然后从这些4子集中再选3子集.那么3子集$\{b,c,d\}$可能被选出2次,一次是从4子集$\{a,b,c,d\}$中选出的,另一次是从4子集$\{b,c,d,e\}$中选出的.下面计算采用第一种方法时同一个$k$子集重复出现的次数.换句话说,就是计算有多少个$r$子集能够选出相同的$k$子集.设$k$子集为$A$,一个$r$子集中除了$A$的元素外,剩下的$r-k$个元素取自$S-A$.因此有$\left(\begin{array}{l}n-k\\r-k\end{array}\right)$个$r$子集能生成相同的$k$子集.这就证明了等式左边的值恰好是$\left(\begin{array}{l}n\\k\end{array}\right)$的$\left(\begin{array}{c}n-k\\r-k\end{array}\right)$倍.
如果在公式(12.8)中用$n$替换$r$就可得到公式(12.9).因此只需要证明公式(12.8).
上面给出了8个经常使用的组合恒等式,还有许多其他组合恒等式没有列出来.总结一下有关组合恒等式的证明方法,大致有以下几种.
已知恒等式代人并化简;
使用二项式定理比较相同项的系数,或者进行级数的求导或者积分;
数学归纳法;
组合分析方法.
例$12.7$证明以下组合恒等式.\\
证(1)由二项式定理有
两边求导数得
在上面的公式中令$x=1$即可.\\
知识点:二项式\\
消去变系数\\
定理\\
常量外提\\
拆项\\
改变求和的下限\\
利用(1)的结果
组合数与另一个重要的计数模型非降路径问题有着密切的联系.考察图12.3.设$m,n$是正整数,从$(0,0)$点到$(m,n)$点
囱$12.3$的非降路径是一条折线,这条折线由$m+n$次移动构成,每次允许向上或者向右移动一步.问:不同的非降路径有多少条?
不同的路径取决于$m+n$步的选择,其中包含$m$步向右,$n$步向上.这种路径条数等于从$m+n$个位置中选$m$个位置的方法数,即$\left(\begin{array}{c}m+n\\m\end{array}\right)$或$\left(\begin{array}{c}m+n\\n\end{array}\right)$.下面考虑这个问题的其他情况.
给定非负整数$a,b,m,n$,其中$a\leqslantm,b\leqslantn$.从$(a,b)$点到$(m,n)$点的非降路径数等于从$(0,0)$点到$(m-a,n-b)$点的非降路径数,这相当于坐标平移,或者说在两类路径之间建立了一一对应.因此这种路径条数等于$\left(\begin{array}{c}m-a+n-b\\m-a\end{array}\right)$.
设$a,b,c,d,m,n$是非负整数,其中$a\leqslantc\leqslantm,b\leqslantd\leqslantn$.从$(a,b)$点经过$(c,d)$点到$(m,n)$点的非降路径数等于从$(a,b)$点到$(c,d)$点的非降路径数与从$(c,d)$点到$(m,n)$点的非降路径数之积.这里采用了分步处理的思想.
利用非降路径模型可以解决实际的组合计数问题.请看下面的例子.
例$12.8$求集合$\{1,2,\cdots,n\}$上的单调递增函数个数.
解考虑集合$\{1,2,\cdots,n\}$上的单调递增函数$f:\{1,2,\cdots,n\}\rightarrow\{1,2,\cdots,n\}$.如图$12.4$所示,可以将自变量看作横坐标,对应的函数值看作纵坐标,得到$n$个点.在图上增加$(1,1)$和$(n+1,n)$两个点,并按照下面的方法连接这$n+$2个点:如果$f(1)$不等于1,那么从$(1,1)$点开始向上连接到$(1,f(1))$点.从$(1,f(1))$点先向右再向上连接到$(2,f(2))$点,依照“先向右,后向上”的规则顺次连接$(3,f(3))$点,$\cdots\cdots$直到$(n+1,n)$点.而这条连线恰好构成从$(1,1)$点到$(n+1,n)$点的一条非降路径.显然这种非降路径与单调函数是一一对应的,只需计数非降路径条数就得到所求的单调函数个数.根据公式,非降路径数是$\left(\begin{array}{c}2n-1\\n\end{array}\right)$.因此集合$\{1,2,\cdots,n\}$上的单调递增函数个数也是$\left(\begin{array}{c}2n-1\\n\end{array}\right)$.
例$12.9$在计算机算法的设计中,栈是一种很重要的数据结构.下面考虑一个涉及栈输出的计数问题.设有正整数$1,2,\cdots,n$,从小到大排成一个队列.将这些整数按照排列的次序依次压人一个栈(即后进先出栈).当后面的整数进栈的时候,已经在栈中的整数可以在任何时刻输出.问:可能有多少种不同的输出序列?例如整数$1,2,3$可能的输出序列有$1,2,3$;对应的操作是:1进栈,1出栈,2进栈,2出栈,3进栈,3出栈.也可能输出$1,3,2$;对应的操作是:1进栈,1出栈,2进栈,3进栈,3出栈,2出栈.
解将进栈、出栈分别记作$x,y$,一个输出对应了$n$个$x,n$个$y$的排列,且排列的任何前缀中的$x$的个数不少于$y$的个数.考虑非降路径的模型,从$(0,0)$点出发,将排列中的$x$看作向右走一步,$y$看作向上走一步,就可以得到一条从$(0,0)$点到$(n,n)$点不穿过对角线$y=x$的非降路径.
因为这种路径具有限制条件,不能直接使用前面的计数公式.可以采用下面的办法.将所有从$(0,0)$点到$(n,n)$点的非降路径分成两类:穿过对角线的与不穿过对角线的.只要求出了穿过对角线的路径条数$N_{1}$,那么从总数中减去$N_{1}$就得到所求的路径条数.下面要解决的是如何确定$N_{1}$的问题,使用的技巧仍旧是一一对应.
如图$12.5$所示,任何一条从$(0,0)$点到$(n,n)$点穿过对角线的路径一定要接触直线$y=x+1$,有可能接触多次,但最后会离开这条直线上的一点$P$,沿直线$y=x+1$下方的一条非降路径到达$(n,n)$点.把这条路径的前半段,即$(0,0)$点到$P$点的部分,以直线$y=x+1$为轴进行翻转,生成一段新的从$(-1,1)$点到$P$点的部分非降路径(图中虚线表示的路径).用这段新路径替换原来路径的前半段,就得到一条从$(-1,1)$点到$(n,n)$点的非降路径.容易看出这种路径与从$(0,0)$点到$(n,n)$点中间穿过对角线的非降路径之间存在一一对应.因此从$(0,0)$点到$(n,n)$点穿过对角线的非降路径数$N_{1}=\left(\begin{array}{c}2n\\n-1\end{array}\right)$.从$(0,0)$点到$(n,n)$点的非降路径总数为$\left(\begin{array}{c}2n\\n\end{array}\right)$条,从而得到不同的输出序列个数是
这个问题也可以使用生成函数的方法求解,有关的说明将在下一章给出.
{$12.4$多项式定理}
二项式定理可以推广为多项式定理.
证展开式中的项$x_{1}^{n_{1}}x_{2}^{n_{2}}\cdotsx_{t}^{n_{t}}$是如下构成的:在$n$个因式中选$n_{1}$个因式贡献$x_{1}$,从剩下的$n-n_{1}$个因式选$n_{2}$个因式贡献$x_{2},\cdots$,从剩下的$n-n_{1}-n_{2}-\cdots-n_{t-1}$个因式中选$n_{t}$个因式贡献$x_{t}$.根据乘法法则,这种项的个数是
不难看出二项式定理是多项式定理的特殊情况.当$t=2$时有
因此,多项式定理就变成了二项式定理.
多项式定理有下面的推论.
多项式系数$\left(\begin{array}{c}n\\n_{1}n_{2}\cdotsn_{t}\end{array}\right)$经常在一些组合问题中出现,回顾$12.2$节,它恰好是多重集$S=$$\left\{n_{1}\cdota_{1},n_{2}\cdota_{2},\cdots,n_{t}\cdota_{t}\right\}$的全排列数,同时它也对应了$n$个不同的球放到$t$个不同的盒子里,使得第1个盒子含有$n_{1}$个球,第2个盒子含有$n_{2}$个球,$\cdots\cdots$第$t$个盒子含有$n_{t}$个球的方法数.先从$n$个球中选出$n_{1}$个球放人第1个盒子,然后从剩下的$n-n_{1}$个球中选出$n_{2}$个球放人第2个盒子,$\cdots\cdots$最后从$n-n_{1}-n_{2}-\cdots-n_{t-1}$个球中选$n_{t}$个球放人第$t$个盒子.根据乘法法则,放球的方法数恰好为
从集合$\{1,2,\cdots,1000\}$中选3个数使得其和是4的倍数,有多少种方法?
以凸$n$边形顶点为顶点,以内部对角线为边的三角形有多少个?3.有多少个十进制三位数的数字恰有一个8和一个9?
由$1,2,3,4$这4种数字能构成多少个大于230的三位数?
从集合$\{1,2,\cdots,9\}$中选取不同数字构成七位数,如果5和6不相邻,则有多少种方法?
有$n$个不同的整数,从中取出两组数来,要求第一组数里的最小数大于第二组的最大数,问有多少种庄.
在1到1000之间（包括1和1000在内）有多少个整数的各位数字之和小于7?
用数字$0,1,2,3,4,5$能组成多少个没有重复数字且比34521大的五位数?
有多少个大于5400,不含2和7,且各位数字不重复的整数?
设有$k$种明信片,每种张数不限.现在要分别寄给$n$个朋友,$k\geqslantn$.若给每个朋友寄1张明信片,有多少种寄法?若给每个朋友寄1张明信片,但每个人得到的明信片都不相同,则有多少种寄法?若给每个朋友寄2张不同的明信片(不同的人可以得到相同的明信片),则有多少种寄法?
设有$k$类明信片,且第$i$类明信片的张数是$A_{i},i=1,2,\cdots,k$.把它们全部送给$n$个朋友,有多少种方法?
书架上有24卷百科全书,从其中选5卷使得任何2卷都不相继,这样的选法有多少种?
（1）没有两个$a$相邻的序列个数;
(2)$b,c,d,e$中的任何两个字母都不相邻的序列个数.
(1)证明:若$z=k+1$,则这样的有序三元组恰为$k^{2}$个;
(2)将所有的有序三元组按照$x=y,x<y,x>y$分成$A,B,C$三组,证明
(3)由（1)和(2)证明怛等式
假设计算机系统的每个用户有一个$4\sim6$个字符的登录密码,每个字符是大写字母或者数字,且每个密码必须至少包含一个数字.问有多少个可能的登录密码.
用数学归纳法证明二项式定理.
$11^{4}$等于什么?你能用二项式定理马上给出这个结果吗?
给定正整数$n$,对于哪个$k$值,$C(n,k)$的值达到最大?证明你的结论.
证明:
证明组合恒等式.
从$S=\{\infty\cdot0,\infty\cdot1,\infty\cdot2\}$中取$n$个数做排列,若不允许相邻位置的数相同,问有多少种排法.
有3只蓝球、2只红球、2只黄球排成一列,若黄球不相邻,则有多少种方法?
{第十三章}
{递推方程、生成函数及应用}
这一章介绍几种重要的组合计数方法.首先讨论递推方程的求解方法,然后讨论生成函数的定义及性质,并进一步介绍它们在组合计数中的应用.
{$13.1$递推方程的定义及实例}
请看下面的例子.
图$13.1$中有$A、B、C$三个柱子,在$A$柱上放着$n$个圆盘(图中的$n=3$),其中小圆盘放在大圆盘的上边.从$A$柱将这些圆盘移到$C$柱上去.如果把一个圆盘从一个柱子移到另一个柱子称作一次移动,在移动和放置时允许使用$B$柱,但不允许大圆盘放到小圆盘的上面.问:把所有的圆盘从$A$移到$C$总计需要多少次移动?
下面给出一种递归算法,其中$\operatorname{Hanoi}(X,Y,m)$表示从$X$柱到$Y$柱用Hanoi算法移动$m$只盘子的过程,$\operatorname{move}(X,Y)$表示从$X$柱移动1只盘子到$Y$柱的过程.
设使用Hanoi算法移动$n$个盘子的总次数为$T(n)$.步骤3使用Hanoi算法递归地将$n-1$个盘子从$A$柱移到$B$柱,移动次数为$T(n-1)$;步骤4利用1次移动将最下面的大盘子从$A$柱移到$C$柱;步骤5还是用Hanoi算法将$B$柱上的$n-1$个盘子移到$C$柱,移动次数为$T(n-1)$.因此得到递推方程
这个方程的初值是$T(1)=1$.后面将证明这个方程的解是$T(n)=2^{n}-1$.
这个问题就是著名的Hanoi塔问题,据说古代的僧侣按照这种方法移动64个金盘子,他们认为当64个金盘子全部移完以后,世界的末日就到了.计算一下移动时间.如果每秒钟移动1次,那么移动64个盘子需要
超过5000亿年.对于Hanoi塔问题,盘子的个数$n$代表问题规模,$T(n)$代表求解规模为$n$的问题所做的基本运算次数,它代表了这种算法的效率.Hanoi算法的$T(n)$是$n$的指数函数.不难看到,指数函数的值随着自变量$n$的增加呈爆炸性增长.对于比较大的$n$,即使再提高$\mathrm{CPU}$的速度,所占用的时间也是人们所不能承受的.正如上面的计算所显示的,即使1秒钟移动1亿次,移动64个盘子也需要超过5000年的时间.因此在处理实际问题时,通常不能选择指数时间的算法.为了对算法的效率做出估计,求解递推方程是经常使用的方法.
例$13.2$一个著名的数列称作Fibonacci数列(即斐波那契数列),这个数列的项是
Fibonacci数列的第$n$项$(n\geqslant2)$恰好等于第$n-1$项与第$n-2$项之和,即
这个方程是关于Fibonacci数列的递推方程,可以证明该方程的解是
下面讨论递推方程的求解方法.
{$13.2$递推方程的公式解法}
常系数线性递推方程是一类常用的递推方程,前面关于Hanoi塔和Fibonacci数列的递推方程都是常系数线性的递推方程,可以使用公式法求解.先给出它的定义.
定义$13.2$设递推方程满足
其中$a_{1},a_{2},\cdots,a_{k}$为常数,$a_{k}\neq0$,这个方程称为$k$阶常系数线性递推方程.$b_{0},b_{1},\cdots,b_{k-1}$为$k$个初值.当$f(n)=0$时称这个递推方程为齐次方程.
上述关于Hanoi塔的递推方程不是齐次的,而关于Fibonacci数列的递推方程是齐次的.为了说明常系数线性齐次递推方程的解的结构,需要引人特征根的概念.
定义$13.3$设给定常系数线性齐次递推方程如下：
方程$x^{k}-a_{1}x^{k-1}-\cdots-a_{k}=0$称为该递推方程的特征方程,特征方程的根称为递推方程的特征根.
下面的定理给出了递推方程及其特征根之间的关系.
定理$13.1$设$q$是非零复数,则$q^{n}$是递推方程(13.2)的解当且仅当$q$是它的特征根.
证$q^{n}$是递推方程的解
根据定理$13.1$和$13.2$,对$k$进行归纳,不难得到以下推论.
以上推论说明$c_{1}q_{1}^{n}+c_{2}q_{2}^{n}+\cdots+c_{k}q_{k}^{n}$是递推方程(13.2)的解.下面的问题是:除了这种形式的解以外,是否存在其他形式的解?为了解决这个问题,先定义通解.
下面的定理说明,当$k$个特征根彼此不等时,上述的解就是递推方程(13.2)的通解.
证根据前面的推论知道$H(n)$是解,下面证明这个解是通解.设$h(n)$是递推方程$(13.2)$的任意一个解,其中$h(0),h(1),\cdots,h(k-1)$由初值$b_{0},b_{1},\cdots,b_{k-1}$唯一确定.将初值代人得到以下线性方程组.
例$13.3$求解Fibonnaci数列的递推方程.
递推方程(13.2)的特征根中如果存在重根,当把对应这些特征根的项$q_{i}^{n}$进行线性组合时,那些对应于同一个重根的项就归并成一项.于是,当把这个通解代人初值时,所得到的线性方程组中方程的个数将比末知数的个数多.这样的方程组可能无解.解决的方法是必须使用线性无关的解来构造通解.定理$13.4$给出通解的表达式.限于篇幅,这里不再给出证明.定理$13.4$设$q_{1},q_{2},\cdots,q_{t}$是递推方程(13.2)的不相等的特征根,且$q_{i}$的重数为$e_{i}$,其中$i=$$1,2,\cdots,t$.令
那么该递推方程的通解是
例$13.4$求解以下递推方程.
解特征方程为$x^{3}-3x^{2}+4=0$,特征根为$-1,2,2$,通解为
其中待定常数满足以下方程组
下面考虑非齐次的递推方程.常系数线性非齐次递推方程的标准型是
为了求解上述方程,必须了解通解的结构.这里的通解与定义$13.4$关于齐次方程通解在概念上是一致的.
定理$13.5$设$\overline{H(n)}$是对应的齐次方程(13.2)的通解,$H^{*}(n)$是一个特解,则
是递推方程$(13.3)$的通解.
证将$H(n)$代人就可以验证它是递推方程(13.3)的解.下面证明它是通解.
设$h(n)$是递推方程(13.3)的一个解,只需证明$h(n)$可以表示为对应齐次方程的一个解与特解$H^{*}(n)$之和.因为$h(n)$与$H^{*}(n)$都是递推方程$(13.3)$的解,因此
将以上两个式子相减得
这说明$h(n)-H^{*}(n)$是对应齐次方程的一个解,换句话说,$h(n)$是对应齐次方程的一个解与特解$H^{*}(n)$之和.
定理$13.5$说明递推方程(13.3)的通解结构是对应的齐次方程的通解加上一个特解,而特解的形式依赖于$f(n)$.求解的关键是确定一个特解,可以先根据$f(n)$写出特解的函数形式,然后用待定系数法确定其中的系数.下面针对某些特殊函数形式进行讨论.
第一种情况:$f(n)$为$n$的$t$次多项式,那么特解一般也为$n$的$t$次多项式.但是如果递推方程的特征根是1,就必须提高所设定特解的多项式次数.因为当把这个特解代人原方程时,最高次项和常数项都会消去,于是化简后等式左边多项式的次数将低于右边函数$f(n)$的次数.
例$13.5$针对下面的顺序掐入排序算法估计它在最坏情况下的时间复杂度$W(n)$.
对$n$个数的数组$A$进行排序,算法对$A$的第1项不做任何工作.接着只需一次比较就可以把第2项揷到恰当的位置.然后算法将第3项揷人由排好序的前两项构成的子数组中,这至多需要两次比较$\cdots\cdots$如果前$j-1$项已经排好,揷人第$j$项至多需要$j-1$次比较.因此对于$n$个数的数组,在最坏情况下算法所做的比较次数$W(n)$满足以下递推方程:
整理成标准型
这里的函数$f(n)$是$n$的一次多项式,但是特征根是1.如果把特解设为$W^{*}(n)=P_{1}n+P_{2}$,将它代人递推方程,得
化简得$P_{1}=n-1$,左边是$n$的0次多项式,右边是$n$的1次多项式.没有常数$P_{1}$能够使它成立.根据上面的分析,将特解设为$W^{*}(n)=P_{1}n^{2}+P_{2}n$,代人递推方程得
化简得
代人初值$W(1)=0$,得$c=0$,最终得到$W(n)=n(n-1)/2$.这说明揷人排序在最坏情况下是$O\left(n^{2}\right)$的算法.
例13.6Hanoi塔问题的递推方程是
这是一个含有零次多项式函数的非齐次的递推方程.设特解为$H^{*}(n)=P$,代人原方程得$P=2P+$1,因此$P=-1$.从而得到递推方程的通解是
第二种情况:$f(n)$为指数函数$A\beta^{n}$,这里的$A$代表某个常数.若$\beta$不是特征根,则特解为$P\beta^{n}$,其中$P$为待定系数;若$\beta$是$e(e\geqslant1)$重特征根,则特解为$Pn^{e}\beta^{n}$.
例13.7求解下述递推方程
解因为2是对应齐次方程的二重特征根,因此特解是$a_{n}^{*}=Pn^{2}2^{n}$,代人递推方程得
解得$P=1/2$.因此原递推方程的通解是
代人初值得
{$13.3$递推方程的其他解法}
公式解法只能用于常系数线性递推方程,对于某些其他形式的递推方程,还可以使用换元法、迭代归纳法等技术求解.先考虑换元法.换元法的基本思想就是将原来关于某个变元的递推方程通过函数变换转变成关于其他变元的常系数线性递推方程,然后使用公式法求解.当得到解以后,再利用相反的变换将解转变成关于原来变元的函数.请看下面的例子.
{例$13.8$二分归并排序算法.}
这个算法的主要思想是:将被排序的数组划分成相等的两个子数组,然后递归使用同样的算法分别对两个子数组排序,最后将两个排好序的子数组归并成一个数组.归并的过程如下:假设两个子数组是$A$和$B$,它们的元素都按照从小到大的顺序排列.将$A$与$B$归并后的数组记作$C$.设定两个指针$p_{1},p_{2}$,初始分别指向$A$和$B$的最小元素.归并时只需比较$p_{1}$和$p_{2}$指向的元素,哪个元素小,就把它从原来的数组移到$C$,原来指向它的指针向后移动一个位置.如果$A$或$B$中有一个数组(比如说$A$)的元素已经被全部移走,那么比较过程结束,剩下的工作就是将$B$中剩下的元素顺序移到$C$的后面.算法描述如下.
如果$n=2^{k}$,以比较作为基本运算,试给出最坏情况下归并排序算法的时间复杂度函数.
解设$W(n)$表示归并排序算法在最坏情况下所做的比较次数,根据上面的分析,分别排序$A$和$B$的工作量为$2W(n/2)$.在归并$A$和$B$时,每比较一次,就可以移走一个元素.因为$A$和$B$总共有$n$个元素,至多需要$n-1$次比较,就可以完成归并工作.因此,对$n$个数进行二分归并排序在最坏情况下的比较次数满足如下递推方程:
将$n=2^{k}$代人,该递推方程可以转换成关于变元$k$的常系数线性递推方程.即
该方程是非齐次的,其函数部分是$2^{k}-1$,为指数函数$2^{k}$与多项式函数$-1$之和,因此特解也是指数函数与多项式函数的组合形式.由于2是特征根,令
将这个特解代人原方程,解得$P_{1}=P_{2}=1$,从而得到
根据特解得到通解
代人初值,得$c=-1$,因此得到原方程的解
下面考虑迭代归纳法.所谓迭代就是从原始递推方程开始,利用方程所表达的数列中后项对前项的依赖关系,把表达式中的后项用相等的前项的表达式代人,直到表达式中没有函数项为止.这时等式右边可能是一系列迭代后的项之和,然后,将右边的项求和并将结果进行化简.为了保证结果的正确性,往往需要代人原递推方程进行验证.下面用迭代归纳法求解归并排序的递推方程.
在这个递推方程中,函数项是$W(n)$.通过一次迭代,$W(n)$被$W(n/2)$替换.在接着的迭代中,$W(n/2)$将被$W(n/4)$替换,$W(n/4)$将被$W(n/8)$替换,$\cdots\cdots$直到右边的函数项只有$W(1)$为止.具体的求解过程如下.
对结果进行验证.使用数学归纳法.把$n=1$代人上述公式,得
符合初始条件.假设对于任何小于$n$的正整数$t,W(t)$都是正确的,将结果代人原递推方程的右边得
这说明得到的解满足原来的递推方程.
迭代方法一般适用于一阶的递推方程,对于某些二阶以上的递推方程,需要先进行化简.请看下面的例子.
例$13.9$前面曾经使用包含排斥原理求解错位排列的计数问题(见例6.7),现在用递推方程来求解这个问题.
解将$n$位的错位排列按照它的第一位是$2,3,\cdots,n$等分成$n-1$个组,不难看出每个组的排列个数一样多.考虑其中的一组,不妨设它的第1位是2.那么它的第2位可能是1,也可能不是1.如果第2位是1,那么剩下的$n-2$位是$3,4,\cdots,n$的错位排列,有$D_{n-2}$个;如果第2位不是1,那么从第2位到第$n$位构成$1,3,4,\cdots,n$的错位排列,有$D_{n-1}$个.根据这个分析得到下述递推方程和初值.
这个方程不是常系数线性的,不能使用公式法.由于它是二阶的,如果直接迭代,所得到的项太多,求和比较困难.这里先使用差消的方法把它转换为一阶方程.因为
从而得到一阶递推方程
不断迭代得
这个结果与第六章使用包含排斥原理得到的结果完全一样.
使用差消法也可以将某些高阶递推方程化简为一阶递推方程.下面的例子是关于快速排序算法平均情况下复杂度$T(n)$的递推方程.快速排序是实践中广泛应用的排序算法.这种算法的基本思想是:设要排序的数组是$A[p..r]$,不妨假设$A$中的元素彼此不等.以$A$的首元素$A[p]$作为标准,对$A$进行划分,使得所有小于$A[p]$的元素构成子数组$A_{1}$,所有大于$A[p]$的元素构成子数组$A_{2}$.需要说明的是,这个划分过程Partition并不对子数组$A_{1}$和$A_{2}$进行排序,只是把原来规模为$n$的问题转变成两个小规模的子问题.然后算法分别递归地对$A_{1}$和$A_{2}$进行排序.这个递归调用过程一直进行下去,直到子问题的数组只含有一个元素为止.下面给出快速排序算法的伪码描述.
算法Quicksort$(A,p,r)\quad//p$和$r$分别表示数组$A$的首元素和末元素的下标
其中的划分过程Partition描述如下.
$x\leftarrowA[p]//$选首元素作为划分标准$x$
until$A[i]>x\quad//A[i]$是从前向后找到的第一个比$x$大的元素9.if$i<j\quad//$继续搜索$A[i]$到$A[j]$之间的范围
考虑下面的划分实例,设数组$A[1..13]$初始是
$A$的首元素是27,它就是划分数组的标准.算法Quicksort先调用Partition过程,Partition过程的步骤5到6从后向前寻找第一个比27小的数,第一次找到25;然后步骤7到8从前向后找第一个比27大的数,就是99.这时候$i=2,A[2]=99,j=12,\mathrm{~A}[12]=25$,过程进行到步骤10,99和25交换.交换后的数组变成
接着,过程Partition回到步骤4,从当前交换的位置继续向中间搜索,寻找下一对交换的位置.不难看到,下一次需要交换的是64和10,交换后的数组是
继续这个过程,交换86和7,得到
下面的搜索将导致$i$大于$j$,步骤9的条件不再满足,过程Partition结束,返回$q=8$.算法Quicksort继续进行步骤3,把27和16交换,得到
以27为界,原来的数组被划分成两个子数组:$[16,25,0,8,13,10,7]$与$[86,64,88,99,90]$.算法Quicksort的步骤$4、5$接着递归地对这两个子数组继续排序.
考虑算法Quicksort在平均情况下的时间复杂度.如果首元素恰好是最小元素,用它作为划分标准,得到的子数组分别是空数组和具有$n-1$个元素的数组;如果首元素恰好是第二小元素,划分后得到的子数组分别是一个元素和$n-2$个元素的数组,如此等等.一般说来,如果首元素处在第$k$个位置,那么划分后的两个子问题的规模分别为$k-1$和$n-k$,其中$k=1,\cdots,n$.假定这$n$种情况出现的可能性相等,为计算平均时间复杂度,只需要对这$n$种情况分别计算各自的比较次数,然后取平均值即可.
设Quicksort算法对于规模为$n$的输人的平均比较次数是$T(n)$.若首元素处在第$k$个位置,划分后的子问题规模分别为$k-1$和$n-k$,平均比较次数分别是$T(k-1)$和$T(n-k)$,而划分过程Partition需要的比较次数是$O(n)$,因此总的比较次数为$T(k-1)+T(n-k)+O(n)$.对$k=1,2,\cdots,n$求和,去掉$T(0)=0$的项,就得到
把上式除以$n$就得到平均比较次数$T(n)$,因而得到下述递推方程.
从这个方程不难看出,$T(n)$依赖于$T(n-1),T(n-2),\cdots,T(1)$等所有的项,这种递推方程也称为全部历史递推方程.求解过程在例$13.10$中给出.
例$13.10$求解关于快速排序算法平均复杂度$T(n)$的递推方程.
解先使用差消法将原方程化简成一阶的方程.由原方程得到
将两个方程相减得到
化简得到
变形并迭代得到
上面公式中的$c$是某个常数,求和使用了积分作为近似结果,请见图13.2.根据积分有
因此得到原递推方程的解$T(n)=O(n\logn)$.
如上面的例子所示,许多递推方程不能求出精确的解,但是可以估计出函数的阶,这对于算法分析工作是有意义的.
用递归树的模型可以说明上述迭代的思想.下面以二分归并排序算法的递推方程
为例来构造递归树.递归树是一棵带权的二叉树,每个结点都有权.初始的递归树只有一个结点,它的权标记为$W(n)$.然后不断进行迭代,直到树中不再含有权为函数的结点为止.迭代规则就是把递归树中权为函数的结点,如$W(n),W(n/2),W(n/4)$等,用和这个函数相等的递推方程右部的子树来代替.这种子树只有两层,树根标记为方程右部除了函数之外的剩余表达式,每一片树叶则代表方程右部的一个函数项.例如第一步迭代,树中唯一的结点(第0层)$W(n)$可以用根是$n-1$、两片树叶都是$W(n/2)$的子树来代替.代替以后递归树由一层变成了两层.第二步迭代,应该用根为$n/2-1$、两片树叶都是$W(n/4)$的子树来代替树中权为$W(n/2)$的叶结点(第1层),代替后递归树就变成了3层.照这样进行下去,每迭代一次,递归树就增加一层,直到树叶都变成初值1为止.整个迭代过程与递归树的生成过程完全对应起来,正如图$13.3$所示.不难看出,在整个迭代过程中,递归树中全部结点的权之和不变,总是等于函数$W(n)$.
为了计算最终的递归树中所有结点的权之和,可以采用分层计算的方法.递归树有$k$层,各层结点的值之和分别为
因此总和为
这个结果与前面用换元法计算的结果完全一致.
递归算法是一种常用的算法,它的特点就是在算法中要递归调用自己.递归算法的分析中经常用到递推方程.分治策略是算法设计中的一种重要技术,它的主要思想是将原问题分解成规模更小的子问题,分别求解每个子问题,然后将子问题的解进行综合,从而得到原问题的解.设$a,b$为正整数,$n$为问题的输人规模,$n/b$为子问题的输人规模,$a$为子问题个数,$d(n)$为将原问题分解成子问题以及将子问题的解综合得到原问题解的代价.例如,对$n$个正整数进行二分归并排序,那么$b=2,a=2,d(n)=n-1$.一般情况下有
经过迭代得到
其中
当$d(n)=c$时,代人上式得到
当$d(n)=cn$时,代人上式得到
这些结果可以直接用于求解递推方程,例如二分归并排序的递推方程是
这些公式在递归算法的分析中经常会用到.下面给出一个实际应用的例子.
例$13.11$设$n$为正整数且恰好是2的幂.下述算法Power是计算$a^{n}$的算法.
针对这个算法考虑下面的问题.
（1）设$a$为实数,如果以两个数的相乘做基本运算,估计算法Power最坏情况下的时间复杂度.
(3)对于$n=2^{k},k$为正整数,如何利用上述公式和算法Power计算$F_{n}$?把这个算法与直接利用递推公式计算$F_{n}$的算法进行比较,哪个效率更高?为什么?解(1)令$T(n)$表示Power算法最坏情况下的计算复杂度,则$T(n)$满足
(2)对$n$归纳.$n=1$显然为真.假设$n$为真,则
知识点:递推
方程应用
只要利用Power算法计算出上述二阶矩阵的$n-1$次幂,就得到了$F_{n}$.两个二阶矩阵相乘需要8次乘法,使用Power算法完成整个计算需要$O(\logn)$次乘法.而按照递归定义直接从初值计算$F_{n}$需要$O(n)$次加法.对于比较大的$n$,显然$O(\logn)$比起$O(n)$的值要小很多,因此使用Power算法效率更高.
{$13.4$生成函数及其应用}
生成函数是与序列相对应的形式幂级数,利用生成函数可以直接求解组合计数序列.为了处理幂级数的需要,先引人牛顿二项式系数$\left(\begin{array}{l}r\\n\end{array}\right)$.
定义$13.5$设$r$为实数,$n$为整数,人形式符号
称为牛顿二项式系数.
例如
表面上看,这个符号与二项式系数的符号一样,但是在这里它只是一个形式符号,不具有任何组合意义.当$r$为自然数时,牛顿二项式系数就成为普通的二项式系数,这时才与集合的组合计数联系到一起.
和二项式定理对应,也有一个牛顿二项式定理,它恰好表示了某些函数的幂级数.
定理13.6(牛顿二项式定理)设$\alpha$为实数,则对一切实数$x,y,|x/y|<1$,有
其中
这个定理的证明可以在一般的数学分析书中找到,这里不再赘述.当$\alpha=m$时,这个定理就变成二项式定理(定理12.4);若$\alpha=-m$,其中$m$为正整数,那么
这时令$x=z,y=1$,牛顿二项式定理就变成
在上面式子中用$-z$代替$z$,就得到
特别当$m=1$或2时有
当$\alpha=1/2$时,牛顿二项式定理就变成
这些公式将在后面求解计数问题中用到.下面讨论生成函数.
定义13.6设序列$\left\{a_{n}\right\}$,构造形式幂级数
生成函数与序列是一一对应的,我们经常使用生成函数做工具来求解序列的通项公式,而这些项恰好代表了某个组合计数问题的解.给定序列$\left\{a_{n}\right\}$或关于$a_{n}$的递推方程,如何求它的生成函数$G(x)$呢?反之,给定生成函数$G(x)$,如何求对应序列的通项公式$a_{n}$呢?请看下面的例子.
对$G(x)$积分得
对两边求导得到
给定序列$\left\{a_{n}\right\}$的生成函数,求$a_{n}$.基本方法就是利用部分分式的待定系数法将原来的函数化成基本生成函数的表达式之和,然后利用这些基本生成函数的展开式求出$a_{n}$.
生成函数在组合问题中有着广泛的应用.可以用生成函数求解递推方程,特别是某些不适合使用公式法和迭代归纳法的方程,下面关于Catalan数$h_{n}$的递推方程就是一个例子.
例$13.14$求解递推方程
这是一个关于$H(x)$的一元二次方程,利用求根公式得到
回顾例$12.9$关于栈输出结果的计数实例,通过使用非降路径的模型,得到$n$个元素的栈的不同输出的个数是$\frac{1}{n+1}\left(\begin{array}{c}2n\\n\end{array}\right)$,这个数恰好是第$n+1$个Catalan数.下面使用生成函数的方法求解这个问题.
考虑字符序列$1,2,\cdots,n$.当某个字符$X$进栈时,在$X$前面记录一个左括号(;当$X$出栈时在$X$后面记录一个右括号).在这两个括号之间,除$X$之外的其他字符就是在$X$之后进栈并且在$X$之前出栈的字符.例如(1(2(3))(4))表示的过程是
1进栈,2进栈,3进栈,3出栈,2出栈,4进栈,4出栈,1出栈.
按照上述对应规则,栈的任何一种输出都对应了$n$个字符的进栈、出栈的一种操作序列,而这个操作序列又对应了$n$对括号的合理配对的方法数.显然,在$n$次进栈、$n$次出栈的操作序列中,从开始到中间的任何位置,进栈次数不可能少于出栈次数.这就意味着在括号配对的序列中,从左边算起到序列的任何位置,左括号的数目都不少于右括号的数目.
设$n$对括号的配对方法数是$T(n)$,考虑与最左边的左括号配对的右括号的位置,在这对括号中间有$k$对其他括号,这$k$对括号有$T(k)$种配对方法;而在这对括号后面有$n-1-k$对括号,其配对方法数是$T(n-1-k)$.因此,对于给定的$k$,构成输出序列的方法数是$T(k)T(n-1-k)$.由于$k$可能的取值是$0,1,2,\cdots,n-1$.根据加法法则,可以得到递推方程
通过这个例子可以看到,可以使用生成函数来求解关于$\left\{a_{n}\right\}$的递推方程,主要步骤如下.
利用递推方程的依赖关系导出关于生成函数$G(x)$的方程(可以是一次方程、二次方程、二元一次方程组、微分方程等不同的形式).
通过求解方程得到$G(x)$的函数表达式.
将$G(x)$展开成幂级数,其中$x^{n}$项的系数就是$a_{n}$.
生成函数除了上述应用之外,还可以用来计算多重集的$r$组合数.
设
这就建立了$S$的$r$组合与上述不定方程的解之间的一一对应关系.考虑函数
右边展开式中的每个项,恰好由$k$个因式$y^{x_{i}}$相乘构成,因此具有下述形式:$y^{x_{1}+x_{2}+\cdots+x_{k}}$.展开式中$y^{r}$的系数,恰好是上述不定方程的解的个数,也就是多重集$S$的$r$组合数.
解生成函数
其中$y^{10}$的系数是6,因此$N=6$.
从上面的分析可以看到,利用生成函数可以求不定方程的解的个数.下面对不定方程的解的计数问题进一步加以分析.考虑不定方程
根据定理$12.3$,解的个数是$\mathrm{C}(k+r-1,r)$,下面通过生成函数的方法求解这个问题.类似于上面的分析,生成函数为
考虑对变量取值存在限制情况下的不定方程
这时没有一般的公式,生成函数是
$G(x)$的展开式中$y^{r}$的系数就是不定方程的解的个数.
对于某些不定方程,变量的系数不全是1,而用其他正整数作为系数,即
那么也可以使用生成函数的方法求解,对应的生成函数是
$G(x)$的展开式中$y^{\prime}$的系数就是这个不定方程的解的个数.
最后需要说明的是,在不定方程既存在限制条件,同时系数也不全为1的情况下,也可以参照上面的方法写出对应的生成函数.请读者思考这种生成函数的形式.
下面给出一个用生成函数求解实际问题的例子.
例$13.16$设$n$为自然数,求平面上由直线$x+2y=n$与两个坐标轴所围成的直角三角形内(包括边上)的整点个数,其中整点表示横、纵坐标都是整数的点.
解对于$r=0,1,\cdots,n$,直线$x+2y=r$上的整点个数就是不定方程$x+2y=r$的非负整数解的个数$a_{r}$,设关于$\left\{a_{r}\right\}$的生成函数为$A(z)$,则
于是求得
对$r$求和就得到三角形中的全体整点个数
{$13.5$指数生成函数及其应用}
上一节已经看到生成函数在组合计数问题中的广泛应用,本节将进一步引人指数型生成函数,并讨论它在有序计数中的应用.
不难看出,$(1+x)^{m}$既是集合组合数序列$\{\mathrm{C}(m,n)\}$的普通生成函数,也是集合排列数序列$\{\mathrm{P}(m,n)\}$的指数生成函数.
使用指数生成函数可以求解多重集的排列问题.
其中
证考察上述指数生成函数展开式中$x^{\prime}$的项,它是由$k$个因式的乘积构成的,并具有下述形式:
即
因此
其中求和是对满足方程(13.7)的一切非负整数解来求.一个非负整数解对应了$S$的一个子多重集$\left\{m_{1}\cdota_{1},m_{2}\cdota_{2},\cdots,m_{k}\cdota_{k}\right\}$,即$S$的一个$r$组合,而该组合的全排列数是$\frac{r!}{m_{1}!m_{2}!\cdotsm_{k}!}$,因此$a$,代表了$S$的所有$r$排列数.
例$13.19$由$1,2,3,4$组成的五位数中,要求1出现不超过两次,但不能不出现,2出现不超过一次,3出现至多3次,4出现偶数次.求这样的五位数个数$N$.
解设所求序列数为$a_{n}$,在这样的序列中$\mathrm{A}$和$\mathrm{B}$出现次数的奇偶性一样,指数函数中对应于$\mathrm{A}$和$\mathrm{B}$的成分或者同时为$\frac{e^{x}+e^{-x}}{2}$,或者同时为$\frac{e^{x}-e^{-x}}{2}$.因此,$\left\{a_{n}\right\}$的指数生成函数为
知识点:指数
生成函数
将这个函数展开得到$x^{n}/n$!项的系数是
{习题十三}
求解递推方程.\\
有$n$条封闭的曲线,两两相交于两点,并且任意3条都不交于一点,求这$n$条封闭曲线把平面划分成的区域个数.
双Hanoi塔问题是Hanoi塔问题的一种推广,与Hanoi塔的不同点在于:$2n$个圆盘,分成大小不同的$n$对，每对圆舟完全相同.初始时这些圆盘按照从大到小的次序从下到上放在$A$柱上,最终要把它们全部移到$C$柱,移动的规则与Hanoi塔相同.
（1）设计一个移动的算法.
(2)计算你的算法所需要的移动次数.
在长方形$ABDC$中,$AC/AB=(1+\sqrt{5})/2$.作线段$EF$,使$ABFE$是一个正方形,证明长方形$EFDC$和$ACDB$相似.如果重复这个过程,就得到图$13.4$中的图形.证明苺一步得到的长方形都和原来的长方形相似.
某公司有$n$于万元可以用于对$a,b,c$三个项目的投资.假设每年投资一个项目，投资的规则是:或者对$a$投资1千万元,或者对$b$投资2千万元,或者对$c$投资2千万元.问用完$n$千万元有多少种不同的方案.
求$n$位$0-1$串中相邻两位不出现11的串的个数.
一个质点在水平方向运动,每秒钟它走过的距离等于它前一秒走过距离的2倍.设质点的初始位置为3,并设第一步走了1个单位长的距离.求第$t$秒钟质点的位置.
一个$1\timesn$的方格图形用红、蓝两色涂色每个方格,如果每个方格只能涂一种颜色,且不允许两个红格相令,问有冬少种涂色方案.
使用两个不同的信号在通信信道发送信息.传送一个信号需要$2\mu\mathrm{s}$,传送另一个信号要$3\mu\mathrm{s}.$个信息的脢个信号紧跟着下一个信号.
（1）求与在$n\mu\mathrm{s}$中可以发送的不同信号数有关的递推方程.
(2)对于（1）的递推方程,初始条件是什么?
(3)在$12\mu\mathrm{s}$内可以发送多少个不同的信息?
分别确定下述数列$\left\{a_{n}\right\}$的生成函数.
(3)寈个$a_{i}$至少出现10次.
把$n$个苹果$(n$为奇数)恰好分给3个孩子,如果第一个孩子和第二个孩子分的苹果数不相同,问有多少种分法.
如果传送信号$A$要$1\mu\mathrm{s}$,传送信号$B$和$C$各需要$2\mu\mathrm{s}$,一个信息是字符$A,B$或$C$构成的有限长度的字符串(不考虑空串),问在$n\mu\mathrm{s}$内可以传送多少个不同的信息.
设三角形$ABC$的边长为整数,且$AB+BC+AC$为奇数$2n+1$,其中$n$为给定的正整数.问这样的三角形有多少个.21.分别确定下面数列$\left\{a_{n}\right\}$的指数生成函数.\\
一个$1\timesn$的方格图形用红、蓝、绿或橙色4种颜色涂色,如果有偶数个方格被涂成红色,还有偶数个方格被涂成绿色,有多少种方案?
确定由$n$个奇数字组成并且1和3每个数字出现偶数次的数的个数.
设$\Sigma$是一个字母表且$|\Sigma|=n>1,a$和$b$是$\Sigma$中两个不同的字母.试求$\Sigma$上的$a$和$b$均出现的长为$k>1$的字(字符串)的个数.
把5项任务分给4个人,如果每个人至少得到1项任务,有冬少种方式?
设$A$是$n(n>1)$个不等的正整数构成的集合,其中$n=2^{k},k$为正整数.考虑下述在$A$中找最大数和最小数的算法MaxMin:如果$A$中只有两个数,那么比较一次就可以确定最大数与最小数.否则,将$A$划分成相等的两个子集$A_{1}$与$A_{2}$.用算法MaxMin递归地在$A_{1}$与$A_{2}$中找最大数与最小数.令$a_{1},a_{2}$分别表示$A_{1}$与$A_{2}$中的最大数,$b_{1}$与$b_{2}$分别表示$A_{1}$与$A_{2}$中的最小数,那么$\max\left(a_{1},a_{2}\right)$与$\min\left(b_{1},b_{2}\right)$就是所需要的结果.
（1）用伪码描述算法的主要步㵵.
（2）对于规模为$n$的输人,计算算法MaxMin最坏情况下所做的比较次数.
Internet上的搜索引擎经常需要对信息进行比较,比如可以通过某个人对一些事物的排名来估计他＼cjkstart或她）对各种不同信息的兴趣,从而实现个性化的服务.对于不同的排名结果可以用逆序来评价它们之间的差异.考虑$1,2,\cdots,n$的排列$i_{1}i_{2}\cdotsi_{n}$,如果其中存在$i_{j},i_{k}$,使得$j<k$但是$i_{j}>i_{k}$,那么就称$\left(i_{j},i_{k}\right)$是这个排列的一个羊㡴.一个排列含有逆序的个数称为这个排列的逆庠数.例如排列263451含有8个逆序$(2,1),(6,3),(6,4),(6,5)$,$(6,1),(3,1),(4,1),(5,1)$,它的逆序数就是8.显然,由$1,2,\cdots,n$构成的所有$n$!个排列中,最小的逆序数是0,对应的排列就是$12\cdotsn$;最大的逆序数是$n(n-1)/2$,对应的排列就是$n(n-1)\cdots21$.逆序数越大的排列与原始排列的差异度就越大.不难看到,如果使用顺序枚举逆序的蛮力算法来计算排列的逆序数,最坏情况下需要$O\left(n^{2}\right)$的时间.利用二分归并排序算法Mergesort可以设计一个计数逆序的更好的算法,它仅使用$O$($n$logn)时间.它的主要思想是:在递归调用算法分别对子数组$L_{1}$与$L_{2}$排序时,计数每个子数组内部的逆序;在归并排好序的
{第五部分代数系统简介}
{$\mathrm{~的那}$代数系统简介}
{$14.1$代数系统的基本概念}
定义14.1设$S$为集合,函数$f:S\timesS\rightarrowS$称为$S$上的二元运算,简称二元运算.函数$f:S\rightarrowS$称为$S$上的一个一元运算,简称一元运算.
如果$f$是$S$上的一元或二元运算,也可以称为$S$关于运算$f$封闭.这里封闭的含义是:$S$中的元素都可以参与这个运算,且运算后的结果仍属于$S$.
下面是一些二元运算和一元运算的例子.
例$14.1$(1)自然数集合$\mathbf{N}$上的加法和乘法是$\mathbf{N}$上的二元运算,但减法和除法不是.
(2)整数集合$\mathbf{Z}$上的加法、减法和乘法都是$\mathbf{Z}$上的二元运算,而除法不是.求一个数的相反数是整数集合$\mathbf{Z}$,有理数集合$\mathbf{Q}$和实数集合$\mathbf{R}$上的一元运算.
(3)非零实数集$\mathbf{R}^{*}$上的乘法和除法都是$\mathbf{R}^{*}$上的二元运算,而加法和减法不是,因为两个非零实数相加或相减可能得0.求一个数$x$的倒数$\frac{1}{x}$是$\mathbf{R}^{*}$上的一元运算.
则矩阵加法和乘法都是$\boldsymbol{M}_{n}(\mathbf{R})$上的二元运算.而矩阵转置是一元运算.
(5)$S$为任意集合,则$\cup,\cap,-,\oplus$为$S$的幂集$P(S)$上的二元运算,这里$\cup$和$\cap$是初级并和初级交.绝对补运算是$P(S)$上的一元运算.
(6)$S$为集合,$S^{S}$为$S$上的所有函数的集合,则函数的复合运算。为$S^{S}$上的二元运算.求反函数运算不一定是$S^{S}$上的一元运算,因为只有双射函数才有反函数.
通常用。,$*$,•等符号表示二元和一元运算,称为算符.设$f:S\timesS\rightarrowS$是$S$上的二元运算,对任意的$x,y\inS$,如果$x$与$y$的运算结果是$z$,即$f(\langlex,y\rangle)=z$,可用算符。简记为
对于有穷集$S$上的一元和二元运算,可以用运算表表示.表$14.1$和表$14.2$是一元运算表和二元运算表的一般形式,其中$a_{1},a_{2},\cdots,a_{n}$是$S$中的元素,。为算符.
{表$14.1$-元运算表}
表$14.2$二元运算表
例$14.2$设$S=\{1,2\}$,给出$P(S)$上的运算和$\oplus$的运算表,其中全集为$S$.
解所求的运算表见表$14.3$和表14.4.
下面讨论二元运算的主要性质.
定义$14.2$设。为$S$上的二元运算.如果对于任意的$x,y\inS$都有
则称运算。在$S$上是可交换的,或者说运算。在$S$上适合交换律.
例如,实数集合上的加法和乘法是可交换的,但减法不可交换.幂集$P(S)$上的$\cup,\cap$和$\oplus$都是可交换的,但是相对补运算不可交换.$n$阶$(n\geqslant2)$实矩阵集合$\boldsymbol{M}_{n}(\mathbf{R})$上的矩阵加法是可交换的,但矩阵乘法不是可交换的.$A^{A}$上函数的复合运算不是可交换的,因为一般地说$f\circg\neqg\circf$.
定义$14.3$设。为$S$上的二元运算,如果对于任意的$x,y,z\inS$都有
则称运算。在$S$上是可结合的,或者说运算。在$S$上适合结合律.
普通的加法和乘法在自然数集$\mathbf{N}$、整数集$\mathbf{Z}$、有理数集$\mathbf{Q}$、实数集$\mathbf{R}$和复数集$\mathbf{C}$上都是可结合的.矩阵的加法和乘法也是可结合的,集合的$\cup,\cap$和$\oplus$运算也是可结合的,还有函数的复合运算也是可结合的.
对于适合结合律的二元运算,在一个只由该运算的算符连接起来的表达式中,可以把所有表示运算顺序的括号去掉.
定义$14.4$设。为$S$上的二元运算,如果对于任意的$x\inS$都有
则称该运算。适合幂等律.
如果$S$中的某些$x$满足$x\circx=x$,则称$x$为运算。的共等元.易见如果$S$上的二元运算。适合幂等律,则$S$中的所有元素都是幂等元.
集合的并和交运算适合幂等律,$\oplus$运算和-运算一般不适合幂等律,但$\varnothing$是幂等元.普通数的加法和乘法不适合幂等律,但0是加法的幂等元,0和1是乘法的幂等元.
以上性质都是对一个二元运算来说的.下面的分配律和吸收律是对两个二元运算来说的.
定义$14.5$设。和$*$是$S$上的两个二元运算,如果对任意的$x,y,z\inS$有
则称运算$*$对。是可分配的,也称$*$对。适合分配律.
实数集$\mathbf{R}$上的乘法对加法是可分配的,在$n$阶$(n\geqslant2)$实矩阵的集合$\boldsymbol{M}_{n}(\mathbf{R})$上,矩阵乘法对于矩阵加法也是可分配的,而在幂集$P(S)$上$\cup$和$\cap$是互相可分配的.
定义$14.6$设。和$*$是$S$上两个可交换的二元运算,如果对于任意的$x,y$都有
则称。和$*$适合吸收律.
下面讨论有关二元运算的一些特异元素.
定义$14.7$设。为$S$上的二元运算,如果存在$e_{l}$(或$e_{r}$)使得对任何$x\inS$都有
则称$e_{l}$(或$e_{r}$)是$S$中关于。运算的一个左单位元(或右单位元).若$e$关于。运算既是左单位元又是右单位元,则称$e$为$S$上关于。运算的单位元.单位元也可以称作么元.
则称$\theta_{l}$(或$\theta_{r}$)是$S$上关于。运算的左零元(或右零元).若$\theta\inS$关于。运算既是左零元又是右零元,则称$\theta$为$S$上关于。运算的零元.
在自然数集$\mathbf{N}$上,0是加法的单位元和乘法的零元,1是乘法的单位元.在$\boldsymbol{M}_{n}(\mathbf{R})$上$(n\geqslant2),n$阶零矩阵是矩阵加法的单位元,也是矩阵乘法的零元;而$n$阶单位矩阵是矩阵乘法的单位元.在幂集$P(S)$上,$\varnothing$是$\cup$运算的单位元和$\cap$运算的零元,$S$是$\cap$运算的单位元和$\cup$运算的零元.$\varnothing$也是对称差运算$\oplus$的单位元,相对补运算没有单位元。在$A^{4}$上,恒等函数$I_{A}$是关于函数复合运算的单位元.
可以证明单位元和零元如果存在,则是唯一的.
定义$14.9$设。为$S$上的二元运算,$e$为。运算的单位元,对于$x\inS$,如果存在$y_{l}\inS$(或$y_{r}\in$$S$)使得
则称$y_{l}$(或$y_{r}$)是$x$的左逆元(或右逆元).若$y\inS$既是$x$的左逆元又是$x$的右逆元,则称$y$是$x$的逆元.如果$x$的逆元存在,则称$x$是可逆的.对于可结合的二元运算,可以证明逆元是唯一的.一般将可逆元素$x$的逆元记作$x^{-1}$.
在自然数集合$\mathbf{N}$上只有0有加法逆元,就是0本身.在整数集合$\mathbf{Z}$上加法的单位元是0.对任何整数$x$,它的加法逆元都存在,即它的相反数$-x$.在$n$阶$(n\geqslant2)$实矩阵的集合$\boldsymbol{M}_{n}(\mathbf{R})$上,$n$阶零矩阵是矩阵加法的单位元.对任何$n$阶实矩阵$\boldsymbol{M},-\boldsymbol{M}$是$\boldsymbol{M}$的加法逆元,而$n$阶单位矩阵是$\boldsymbol{M}_{n}(\mathbf{R})$上关于矩阵乘法的单位元.只有$n$阶实可逆矩阵$\boldsymbol{M}$存在乘法逆元$\boldsymbol{M}^{-1}$.在幂集$P(S)$上,对于$\cup$运算,$\varnothing$为单位元.只有$\varnothing$有逆元,就是它本身,其他的元素都没有逆元.类似地,对于$\cap$运算,$S$为单位元,也只有$S$有逆元,即$S$本身,其他元素都没有逆元.
最后再给出一条关于二元运算的算律一一消去律.
定义14.10设。为$S$上的二元运算,如果对于任意的$x,y,z\inS$,满足以下条件:
那么称。运算适合消去律,其中(1)称作左消去律,(2)称作右消去律.
注意被消去的$x$不能是运算的零元$\theta$.
整数集合上的加法和乘法都适合消去律.幂集$P(S)$上的并和交运算一般不满足消去律.
例$14.3$对于下面给定的集合和该集合上的二元运算,指出该运算的性质,并求出它的单位元、零元和所有可逆元素的逆元.
解(1)*运算可交换,可结合,适合幂等律.$\forallx\in\mathbf{Z}^{+},x*1=x,1*x=x,1$为单位元.不存在零元.只有1有逆元,是它本身,其他正整数无逆元.
由于$*$是可交换的,右消去律显然成立.
(1)说明$*,\circ$和·运算是否适合交换律、结合律、消去律和幂等律.
(2)求出关于$*,\circ$和$\cdot$运算的单位元、零元和所有可逆元素的逆元.
解$*$运算适合交换律、结合律和消去律,不适合幂等律.单位元是$a$,没有零元,且$a^{-1}=a,b^{-1}=c,c^{-1}=b$.
-运算适合交换律、结合律和幂等律,不适合消去律.单位元是$a$,零元是$b$.只有$a$有逆元,$a^{-1}=a$.
运算不适合交换律,适合结合律和幂等律,不适合消去律.没有单位元,没有零元,没有可逆元素.
下面定义代数系统.
定义14.11非空集合$S$和$S$上$k$个一元或二元运算$f_{1},f_{2},\cdots,f_{k}$组成的系统称为一个代数系
$<P(S),\cup,\cap,\sim>$也是代数系统,其中含有两个二元运算$\cup$和$\cap$以及一个一元运算$\sim.$
在某些代数系统中存在着一些特定的元素,它们对该系统的一元或二元运算起着重要的作用,例如二元运算的单位元和零元.在定义代数系统的时候,若把含有这样的特定元素也作为系统的性质,如规定系统的二元运算必须含有单位元,在这种情况下称这些元素为该代数系统的特异元素或代数常数.有时为了强调某个代数系统是含有代数常数的系统,也可以把这些代数常数列到系统的表达式中,例如$<\mathbf{Z},+>$中的+运算有单位元0,为了强调0的存在,将$<\mathbf{Z},+>$记作$<\mathbf{Z},+,0>$.又如$\langleP(S),\cup,\cap,\sim>$中的$\cup$和$\cap$运算存在单位元$\varnothing$和$S$,当规定$\varnothing$和$S$是该系统的代数常数时,也可将它记为$\langleP(S),\cup,\cap,\sim,\varnothing,S>$.当然,在不发生混淆的情况下,为了叙述的简便也常用集合的名字来标记代数系统,例如上述代数系统可以简记为$\mathbf{Z}$和$P(S)$.
定义$14.12$如果两个代数系统中运算的个数相同,对应运算的元数相同,且代数常数的个数也相同,则这两个代数系统具有相同的构成成分,也称它们是同类型的代数系统.
同类型的代数系统仅仅是构成成分相同,不一定具有相同的运算性质.上述的$V_{1}$和$V_{2}$是同
$+$和・可交换,可结合
对$+$可分配
例如
是同类型的代数系统,它们都含有两个二元运算、一个一元运算和两个代数常数.类型的代数系统,但它们的运算性质却很不一样,请看表14.6.续表
在规定了一个代数系统的构成成分,即集合、运算以及代数常数以后,如果进一步规定运算所满足的算律,就给出了一类代数系统的定义.例如代数系统$V=\langleS,\circ\rangle$,其中。是一个可结合的二元运算,就代表了一类特殊的代数系统一一半群.许多具体的代数系统,如$\langle\mathbf{Z},+\rangle,<\mathbf{R},+\rangle$,$\left\langle\boldsymbol{M}_{n}(\mathbf{R}),\cdot\right\rangle,\langleP(B),\cup\rangle$等都是半群的实例.抽象代数就是以这种抽象的代数系统作为研究对象的数学分支,在对实际系统建立相关的代数模型时有着重要的应用.
{$14.2$几个典型的代数系统}
本节将简要介绍几个具有广泛应用背景的代数系统:半群、独异点与群,环与域,格与布尔代数.
半群、独异点与群都是具有一个二元运算的代数系统.
定义14.13(1)设$V=\langleS,\circ\rangle$是代数系统,。为二元运算,如果。是可结合的,则称$V$为半群.
(2)设$V=\langleS,\circ\rangle$是半群,若$e\inS$是关于。运算的单位元,则称$V$是么半群,也称作独异点.有时也将独异点$V$记作$V=\langleS,\circ,e>$.
(3)$\langleP(B),\oplus\rangle$是半群,也是独异点和群,其中$\oplus$为集合的对称差运算.
(5)$\left\langleA^{A},0\right\rangle$为半群,也是独异点,其中。为函数的复合运算.因为只有双射函数才有反函数,请读者思考:当$A$是什么集合时,它能构成群?
知识点:群与半群
在半群、独异点和群中,由于只有一个二元运算,在不发生混淆的情况下,经常将算符省去.例如将$x\circy$写作$xy$.下面的讨论中将采用这种简略表示.
显然$\Sigma^{*}$关于连接运算构成一个独异点,称为$\Sigma$上的字代数.$\Sigma$上的语言$L$(这里的语言指形式语言,不是一般的自然语言)就是$\Sigma^{*}$的一个子集.计算机的编译系统就是在这种半群上工作的.
这里的$\oplus$是模2加法.设$G$为所有码字构成的集合,在$G$上定义二元运算如下:
那么$\langleG,0\rangle$构成群.这样的码称为群码.
若群$G$是有穷集,则称$G$是有限群,否则称为无限群.群$G$含有的元素数称为群$G$的阶.通常把有限群$G$的阶记作$\midG$.只含单位元的群称为平凡群.若群$G$中的二元运算是可交换的,称$G$为交换群或阿贝尔(Abel)群.例如$<\mathbf{Z},+>$和$<\mathbf{R},+>$是无限群,$<\mathbf{Z}_{n},\oplus>$是$n$阶群.上述所有的群都是交换群,但$n$阶$(n\geqslant2)$实可逆矩阵的集合(是$\boldsymbol{M}_{n}(\mathbf{R})$的真子集)关于矩阵乘法构成的群是非交换群,因为矩阵乘法不满足交换律.
群$G$的某些非空子集$H$关于群的运算也能构成群,称为$G$的子群.例如,$G$是整数加群,
关于加法构成$G$的子群.例如,当$n=0$和1时,这个子群分别是$\{0\}$和$\mathbf{Z}$,称为平凡子群;而$2\mathbf{Z}$由能被2整除的全体整数构成,也是$G$的子群.
知识点:直积
测试题$14.8$除了通过子集,还可以通过笛卡儿积构成新的群一一群的直积.
环与域是具有两个二元运算的代数系统,它和群及半群有着密切的联系.先给出环和域的定义.
定义$14.15$设$\langleR,+,\cdot\rangle$是代数系统,$+$和$\cdot$是二元运算,如果满足以下条件:
(3)-运算关于+运算适合分配律;则称$\langleR,+,\cdot>$是环.
为了区别环中的两个运算,通常称$+$运算为环中的加法,-运算为环中的乘法.
定义$14.16$设$\langleR,+,\cdot\rangle$是环,$+$和·是二元运算,如果满足以下条件:
(1)$R$中乘法可交换;
例$14.9$(1)整数集、有理数集、实数集和复数集关于普通的加法和乘法构成环.其中除了整数环$\mathbf{Z}$之外,其他都构成域,分别称为有理数域$\mathbf{Q}$、实数域$\mathrm{R}$和复数域$\mathrm{C}$.
(2)$n(n\geqslant2)$阶实矩阵的集合$\boldsymbol{M}_{n}(\mathbf{R})$关于矩阵的加法和乘法构成环,称为$n$阶实矩阵环.
(3)集合的幂集$P(B)$关于集合的对称差运算和交运算构成环.
类似于群,也可以定义子环和子域等概念,限于篇幅,这里不再罗列.
信息安全是关系国计民生的重大问题,也是计算机科学和数学的一个重要的研究领域.群与有限域的理论在密码学中有着重要的应用.
格与布尔代数是另一类具有两个二元运算的代数系统,与环具有完全不同的性质.格或布尔
代数在逻辑电路设计、软件形式方法、数据仓库等各方面都有重要的应用.下面先给出格的定义和基本性质.
首先说明,下面的$\wedge$和$\vee$的符号不再代表逻辑上的合取与析取,而是格中的运算符,涉及合取和析取,这里将使用自然语言加以叙述.下面给出格作为偏序集的第一个定义.
定义$14.17$设$\langleS,\leqslant>$是偏序集,如果$\forallx,y\inS,\{x,y\}$都有最小上界和最大下界,则称$S$关于偏序构成一个格.
由于最小上界和最大下界的唯一性,可以把求$\{x,y\}$的最小上界和最大下界看成$x$与$y$的二元运算$\vee$和$\wedge$,即$x\veey$和$x\wedgey$分别表示$x$与$y$的最小上界和最大下界.
例14.11判断下列偏序集是否构成格,并说明理由.
(3)偏序集的哈斯图在图$14.2$中分别给出.
不难证明格中运算$\vee$和$\wedge$适合以下算律,即
类似于群、环与域,也可以通过代数运算及其性质来给出格的定义.设$\langleS,*,0\rangle$是具有两个二元运算的代数系统,且对于$*$和。运算适合交换律、结合律、吸收律,可以证明$S$中存在适当的偏序$\leqslant$,使得$\langleS$,\$\$构成一个格,且$\foralla,b\inS$有$a\wedgeb=a*b,a\veeb=a\circb$.这就说明两种定义方法是等价的,以后不再区别通过偏序集和代数系统定义的格,统称为格$L$.
下面讨论一些特殊的格—一分配格、有补格和布尔代数.
成立,则称$L$为分配格.
不难证明,以上两个等式中只要成立一个,另一个也一定成立.
称$L_{3}$为钻石格,$L_{4}$为五角格.
类似于群,可以定义子格的概念.设$S$是格$L$的非空子集,如果$S$关于格$L$中的运算$\wedge$和$\vee$是封闭的,就称$S$为$L$的子格.可以证明格$L$是分配格的充分必要条件是:$L$的子格中没有钻石格,也没有五角格.
例14.13说明图$14.4$中的格是否为分配格,为什么?
下面考虑另一种特殊的格—一有补格.先引人有界格的概念.
(1)若存在$a\inL$使得$\forallx\inL$有$a\leqslantx$,则称$a$为$L$的全下界.若存在$b\inL$使得$\forallx\inL$有$x\leqslantb$,则称$b$为$L$的全上界.鉴于全下界或全上界的唯一性,一般将全下界记为0,全上界记为1.
成立,则称$b$是$a$的补元.
由定义不难看出,若$b$是$a$的补元,则$a$也是$b$的补元.换句话说,$a$和$b$互为补元.
$L_{1}$中的$a$与$c$互为补元,其中$a$为全下界,$c$为全上界,$b$没有补元.
$L_{2}$中的$a$与$d$互为补元,其中$a$为全下界,$d$为全上界,$b$与$c$也互为补元.
$L_{3}$中的$a$与$e$互为补元,其中$a$为全下界,$e$为全上界,$b$的补元是$c$和$d,c$的补元是$b$和$d,d$的补元是$b$和$c.b,c,d$每个元素都有两个补元。
$L_{4}$中的$a$与$e$互为补元,其中$a$为全下界,$e$为全上界,$b$的补元是$c$和$d,c$的补元是$b,d$的补元是$b$.
不难证明,在任何有界格中,全下界0与全上界1总是互补的.而对于其他的元素,可能存在补元,也可能不存在补元.如果存在补元,可能是唯一的,也可能是多个补元.
定义$14.22$如果一个格是有补分配格,则称它为布尔格或布尔代数.
可以证明在分配格中,如果一个元素存在补元,则是唯一的.因此,在布尔代数中,每个元素都存在着唯一的补元,可以把求补元的运算看作是布尔代数中的一元运算.从而可以把布尔代数标记为$\left\langleB,\wedge,\vee,^{\prime},0,1\right\rangle$,其中$\wedge,\vee,0,1$和有界格一样,'为求补运算.
（2）设$B$为任意集合,$B$的幂集格$<P(B),\cap,\cup,\sim,\varnothing,B>$构成布尔代数,称为集合代数.
(3)数理逻辑中的命题代数是布尔代数.
（4）数字电路中的逻辑代数也是布尔代数.
读者对集合代数、命题代数、逻辑代数的性质已经比较熟悉了,有趣的是有限布尔代数的结构.可以证明任何有限布尔代数都含有$2^{n}$个元素,其中$n$是某个自然数.
上面已经给出了几类典型代数系统的定义,最后简单讨论一下代数系统间的同构,以此作为本节的结束.
实践中存在着很多不同的代数系统,有些系统是同类型的,有些不但是同类型的,而且具有共同的运算性质,因此是同种的.在同种的代数系统中,有些系统在结构上更为相似,甚至完全一样.例如代数系统$V_{1}=\left\langle\mathbf{Z}_{3},\oplus_{3}\right\rangle,V_{2}=\left\langleA,\oplus_{6}\right\rangle$,其中$\mathbf{Z}_{3}=\{0,1,2\},A=\{0,2,4\}$,$\oplus_{3}$和$\oplus_{6}$分别表示模3和模6加.那么这两个代数系统的运算表见表$14.8$和表14.9。
表$14.9$代数系统运算$\oplus$。
把表$14.8$中的1和2分别替换成2和4,就可以得到表14.9.这个替换可以表示成函数
在双射函数$f$的作用下,代数系统$V_{1}$转换成了$V_{2}$.从性质上讲,它们是完全一样的代数系统,都是某个抽象代数系统$\{a,b,c\}$的实例.
则称$f$是$V_{1}$到$V_{2}$的同态映射,简称同态.
根据同态映射的性质可以将同态分为单同态、满同态和同构.即:$f$如果是单射,则称为单同
态;如果是满射,则称为满同态,这时称$V_{2}$是$V_{1}$的同态像,记作$V_{1}\simV_{2}$;如果是双射,则称为同构,也称代数系统$V_{1}$同构于$V_{2}$,记作$V_{1}\congV_{2}$.
如果同态映射$f$是$V$到$V$的,则称$f$为自同态.类似地可以定义单自同态、满自同态和自同构.
设$f$是$V_{1}=\langleA,0\rangle$到$\left.V_{2}<B,*\right\rangle$的同态映射,那么$f$具有许多良好的性质.首先,如果。运算具有交换律、结合律、幂等律等,那么在同态像$f\left(V_{1}\right)$中,*运算也具有相同的算律(注意,消去律可能有例外).此外,同态映射$f$恰好把$V_{1}$的单位元$e_{1}$映到$V_{2}$的单位元$e_{2}$,即$f\left(e_{1}\right)=e_{2}$.同样对于零元和可逆元也有
当$a=0$时称$f_{0}$为零同态;当$a=\pm1$时,称$f_{a}$为自同构;除此之外其他的$f_{a}$都是单自同态.
知识占同态：则$f$是$V_{1}$到$V_{2}$的同态映射.
通过同态和同构映射,可以在同一种代数系统(如群、环、域、格、布尔代数)的不同实例之间建立联系,它是研究不同系统之间关系的有力工具.利用同构映射可以证明:对于任何给定的自然数$n$,含有$2^{n}$个元素的布尔代数都与$n$元集合的幂集格同构.这就是说,在抽象的意义上,$2^{n}$个元素的布尔代数只有一个.
{习题十四}
列出以下运算的运算表.
(1)试列出$S$中的所有函数.
(2)给出$S$上合成运算的运算表.
（1）$A$对普通乘法封闭.
(2)A对普通加法封闭.
判断下列集合对所给的二元运算是否封闭.
（1）整数集合$\mathbf{Z}$和普通的减法运算.
（2）非零整数集合$\mathbf{Z}^{*}$和普通的除法运算.
（4）全体$n\timesn$实可逆矩阵集合关于矩阵加法和乘法运算,其中$n\geqslant2$.
(5)正实数集合$\mathbf{R}^{+}$和。运算,其中。运算定义为
（9）$S=\{0,1\},S$关于並通的加法和乘法运算.
对于习题4中封闭的二元运算判断是否适合交换律、结合律和分配律.
对习题4中封闭的二元运算找出它的单位元、零元和所有可逆元素的逆元.
(2)*在$\mathbf{Z}^{+}$上是否满足交换律、结合律和幂等律?
(3)求*运算的单位元、皊元及$\mathbf{Z}^{+}$中所有可逆元素的逆元.
（1）*运算在$S$上是否可交换、可结合?是否满足奄等律?
（2）*运算是否有单位元、零元?如果有,请指出,并求$S$中所有可逆元素的逆元.
（1）指出哪些函数是$\mathbf{R}上$的二互运算.
(2)对所有$\mathbf{R}$上的二元运算说明是否可交换、可结合,是否满足矩等律?
(3)求所有$\mathbf{R}$上二元运算的单位元、零元以及每一个可逆元索的逆元.
（1）这4个运算中哪些运算满足交换律、结合律、幂等律?
(2)求每个运算的单位元、零元及所有可逆元素的逆元.
设$S$为三元集,$S$上可以定义多少个不同的二元运算和一元运算?其中有多少个二元运算是可交换的?有多少个二元运算满足幂等律?有多少个二元运算既不是可交换的,又不满足幂等律?推广到$n$元集又有什么结果?
设$S=\{1,2,\cdots,10\}$,问下面定义的运算能否与$S$构成代数系统$<S$,*$>$.如果能构成代数系统则说明$*$运算是否满足交换律、结合律,并求$*$运算的单位元和零元.
(3)$x*y=$大于等于$x$和$y$的最小整数.
图$14.5$给出了6个偏序集的哈斯图.判断其中哪些是格.如果不是格,说明理由.
图$14.5$14.下列各集合对于整除关系都构成偏序集,判断哪些偏㡱集是格.\\
针对图$14.5$中的每个格,如果格中的元素存在补元,则求出这些补元.
说明图$14.5$中的每个格是否为分配格、有补格和布尔格,并说明理由.
对以下各小题给定的集合和运算判断它们是哪一类代数系统（半群、独异点、群、环、域、格、布尔代数），并说明理由.
问$<B,\oplus>$能否构成代数系统.如果能，指出是哪一种代数系统.为什么?
$V=\left\langle\mathbf{R}^{*},\cdot\right\rangle$,其中$\mathbf{R}^{*}$为非零实数集合,$\cdot$为普通乘法,判断下面的哪些函数是$V$的自同态,是否为单自同态、满自同态和自同构.计算$V$的同态像.\\
{名词与木语索引}
$k-$可着色的
一阶语屖
一忦逻辑
二项式系数
二项式定理
儿子
广义交
广义并
子树
左子树
右子树
根子树元
可逆元
画
一画
三画
प画
$8.3$左单位元
$13.4$左逆元
$9.2$左疋元
$13.1$右单位元
$11.1$右逆元
$11.3$右零元
$10.3$极大元
$11.4$极小元
补元
单位元
指导变元
哑元
逆元
最大元
最小元
帛等元
零元
6.2元素
$6.2$无序积
平色定理
不定饬程
不属于
匹配
完至】配
完美匹配14.1
*“4”表示该名词与术语条目的索引位置是第四章章首。类似表示不再一一说明。最大匹目
牛顿二项式系数
牛顿二项式定理
长度
区对杽
反自厌
父亲
分支点
公式
子公式
合式公式
命题公式
原子公式
谓词公式
文字
可比
可达
厈面出秋
归㱾论
兄弟
四向是理
四色猜相
代人头例
代损实例
代数,代数系统
布尔代数
代数
集合代数
代数嫦数
包含
包含排斥原理
半群
出现
自由出现
约可出现
加法法見
加新边
唐
无向边
匹酊边
平行边
有向边
非西配边
忩挂达
割边
边的收缩
边界
对称
与非式
可晅足式
永真式
五画
汖攸式
合取式
简单合取式
闭式
否定式
范式
合取范式
主合取范式
析取范式
主析取范式
前束范式
析取式
同类型的代数
简单析取式
或非式
重言式
逻辑有效式
等价式
等值式
量词分配等值式
量词否定等值式
旦词辖域收缩与扩张等值式
等值式模式
等价否定等值式
等价等值式
蕴汼等值式
菂涵式
权
权(边的)
权(树的)
有序对(序偶)
划分
划分块
同构
同构（代数系统
同纮(图)
同态,同态映射
代数系统的同态
自同太
单同杺
零同怣
满同太
同态像
同胚
传递
优势
真优势
自反
自然映射
后代
后件
行遍(周游)
多项式系数
多项式定理
次数
关系
一互关糸
包含关宗
全序关系
全域关系
宊关系
逆关系2.1
恒等关系
偏序关系
等价关系
整除关㒶
关系的闭包
对称闭包
传递闭包
自反闭包
关系的定义域
关系的限制
关系的逆
关系的值域
关系的域
关系的杲
关联
关联次数
阶(图的)
犾(群的)
$8.3$形式系统
公理推理系统
自然推理系统
形式语言系统
形式演算系统
一元运算
二元运算
连通
连通分支
个体
总体
证明
娲]
个体词
联结词
与非联结词
合取联结词
否定联结词$7.2$
$A$上的二元关系
小于等于关系
从$A$到$B$的关系析取联结词
或非联结词
等价联结词
蕴涵联结词
$n$元谓词\\
特性谓词\\
零元谓词
存在量词
全称量词
范式存在定理
谓词
是词
卉积
或
相容或
韭圧或
奇圈
欧拉公式
非䧗路径
逄]
$k-$正则潈
$n$阶图
层数
一咅䂢
八画
完全二部图
子图
生成子图
环(代数系统)
导出图
n阶实矩阵环
子环
真子图
模$n$的整数环
无间㫡
文图
环(图论)
平爪图
赻
平面图$11.4$
极大平面图
对偶图$11.4$
运算表
直值表
对偶冬
规则
化简规则
代替现则
关系图
合取引人规则
连通图
$k-$连通图
拒取式规则
附加规则
$r$边-连通图
析取三段论规则
单向连通冬
构造性二难推理规则
前提弓人规则
भُ่连用冬
强连迧柊
结论弓人规则
元全图
捔名规则
补图
破坏性二难推理规则
自补梦
伸主三段论规则
欧捍图
假言推理规则(分离规则)
半欧拉图
置换规見
轮图
柘叔剘孚
非平面㠽Iz
极小非平面图
非连通图
非标定图
彼得松图
空图
带权图
标定图
星形秽
哈密顿图
半哈密顿图
哈斯图
竞赛图
基图
偶图
零图
简单图
复合命题
直命题
原子命题
假命题
简单命题
中序行遍法
庐嵺法
扩大路径法
后序行遍法
后缀符号法
附加前提证明法
波兰符号法
前芧行遍法
前缀符号法
逆波兰符号法
佊睳法
避瞭法
视频检索
$n$元頁值函数
反庌数
从$A$到$B$的函数
双射㖤数
生成函数
欧拉函数
单射函数
单调递减函数
严格单调递㦹函数单调递增函数
严格单调递增函数
指数生成函数
偍等咗数
特征函数
常枰数
满射函数
组合(集合的,多重集的)
货郎担问题
命题
t畐
封闭
的
变项
个体变项
佮题变项
谓词变项
极大项
常项
个体常项
们题常项
谓词常项
柎
平柎
定理
最小生成树
有向柎
函数
有奈树
$10.3$$r$叉正则有序树
$r$叉有序树
余树
根树
无限面
内部面
外咅面
有限面
内点
分支点
顶点
昌挂顶点
非晡和点
饱和点
柧立点
始点
终点
割点
端点
上界
全上界
最小上界
F界
圭下界
巹大下界
可达矩阵
关系矩阵
关联矩阵
邻接矩阵
$10.3$左复合
$10.2$右复合
顺序揷人排序算法
双重否定律
分配律
庄分配律
右分配律
矛盾律
同一律
吸收律
交换律
结合律
消去律
圧消去律
右消去律
渄中律
邉等律
零律
德㷴根律
独异点
度（度数）
人度
出度
边连通度
点连通度
最大度
最小度
前件
前束范式存在定理
䏍绍码
二元前缀㐷
最佳前缀码
前提
附加前提
语言
祖先
$r$叉完全正则有序树
树叶
柅枝
树根
树灾
点
旺心
界
重复㡲
真值
真
假
桥
格
杢角格
坌配格
有补格
有界格
钻石格
晴集格
哥尼斯堡七桥问题
特征方程
特征根
乘法法则
递归柎
递归算法
二分归并排序算法
巣推方程
常系数线性递推方程
全部历史递推方程
齐次方程
递推方程的求解方法
迭代归纳法
差消法
换互法
悖论
宗族树
通解
珷
域(代数系统)
个体域
全总个体域
子域
排列
全排列（集合的,多重集的）
环排列
排列(集合的,多重集的)
钴位㩑列
推理
推理的形式结构
推理定律
基数
无穷基数
有爸車数
距离
笛卡儿积
符号
非逻辑符号
逻辑符号
伮㐭易位
着色
面着色
点着侖
挵手定理
森林
最优二叉树
恜值
成真赋值
成假赋值
等价类
等势
等值
集,集合
$n$元集
子集
真子集
互补顶点子隹
无穷倸
可列集
可数集
边集
对称差集
有穷集
全集
㩼重集
交集
恙集
页占货
单元集
空集
相对补集
绝对补集
偏序集
商集
联结词完备隹
割集
边割集
点害集
棠集
回路
初级回跭
爫持回路
哈密顿回路
复杂回路
飤重回路
通路
初级通路
交错路径
可增广的交错路径
函数的完全原像
属于
俰
同态的像
关系的像
低数的像
绪羊
子群
无限群
平凡群
有限群
交换群
辖域
9.2覆盖
极大路径
最短路径
平凡子群
$+$三画
路
阿贝仦(Abel)群
{符号注释}
合取联结词,最大下界运算
析取联结词,最小上界运算
否定联结词
蕴涵联结词
等价联结词
与非联结词
或非联结词
推出
当且仅当
属于
不属于
包含
真包含
偏序的小于
偏序
自然数集
整数集
正整数集
非零整数集
$f_{n}$有理数集
正有理数集
非零有理数集
头数集
正实数集
非零实数集
复数集
空集
全集
单位元
零元
$x$的逆元
$x$的补元
$G$的补图
集合A的补集
自然数集的基数
买数倛的基数
生成树$T$的余树矩阵$M$的转置
小于等于$x$的最大整数大于等于$x$的最小整数
$A$上的恒等关系
$A$上的全域关系
$x$的绝对值
$x$的等价类
$R$的关系矩阵
$R$的关系图
n阶零图$G-E$
$n$阶无向完全图
互补顶点子集基数为$r,s$
的完全二咅图
存龵量詷
全称量词
矩阵$M$的行列式
A的崈集
$A$的广义并
$B$的广义交
有序对,序偶
集合$A$与$B$的并
集合$A$与$B$的交
集合$B$对$A$的相对补
从$G$中删除顶点$v$
从$G$中删除$V$中所有顶点
从$G$中删除边$e$
$R[A]$从$G$中删除$E$中所有边
$G$中边$e$的收缩
$A$与$B$的笛卡儿积
$A$与$B$的对称差
$A$的绝对补
$x$等价于$y$
$A$与$B$等势
$A$不与$B$等势
$B$优势于$A$
$B$真优势于$A$
代数系统$V_{1}$同构于$V_{2}$
A的其数
关系$R$的定义域
关系$R$的值域
关系$R$的域
$R$的逆关系
$R$的$n$次寞
$R$的自反用包
$R$的对称用包
$R$的传递用包
$F$与$G$的右复合
$R$在$A$上的限制
以$V_{1}$为顶点集的导出子图
以$E_{1}$为边集的导出子图
从$A$到$B$的函数
$f$在$x$的值,集合$x$在$f$下的像
集合$x$在$f$下的完全原像
图$G$的顶点集
图$G$的边集
$G$的点连通度
$G$的边连通度
有向图$D$中$v$的出度
有向图$D$中$v$的人度
有向图$D$中$v$的度数
无向图$G$中$v$的度数
$G$中顶点$v$关联的边集
$G$的最大度
有向图$D$的最大度
有向图$D$的最大出度
有向图$D$的最大人度
有向图$D$的最小度
有向图$D$的最小出度
有向图$D$的最小人度
欧拉函数
$A$的商集
$n$阶实矩阵的集合
集合$A^{\prime}$的特征函数
$x$与$y$中较大的数
$x$与$y$中较小的数
$x$与$y$模$n$相等(同余)
$x$与$y$模$n$不相等(不同余)
$n$元集的$r$排列数
的全排列数,多项式系数
{习题对照表}
本书的习题解答可参考《离散数学学习指导与习题解析(第2版)》(屈婉玲,耿素云,张立昂,高等教育出版社,ISBN:978-7-04-043992-2)一书,有关习题的编号对照如下。
